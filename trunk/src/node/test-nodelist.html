<!doctype html>
<html>
<head>
<meta charset="gbk"/>
<title>NodeList Test</title>
</head>
<body>
<script src="../test/test.js"></script>
<script>
    KISSY.Test.Config.times = 1;
</script>

<h2>Test Data</h2>

<script src="../kissy/kissy.js"></script>
<script src="../kissy/kissy-lang.js"></script>
<script src="../kissy/kissy-ua.js"></script>

<script src="../dom/selector.js"></script>
<script src="../dom/dom.js"></script>
<script src="../dom/dom-class.js"></script>

<script src="../event/event.js"></script>
<script src="../event/event-object.js"></script>
<script src="../event/event-mouseenter.js"></script>

<script src="node.js"></script>
<script src="nodelist.js"></script>

<!-- Test Cases -->
<script>
    var S = KISSY;

    function test_constructor(test) {
        if(S.all('#test-data div').length !== 1) test.fail();
        if(S.all('#test-data input')[0].id !== 'test-input') test.fail();
        if(S.all('#test-data xx').length !== 0) test.fail();
        if(S.all().length !== 0) test.fail();
    }

    function test_each(test) {
        var len = 0, inputs = S.all('#test-data input');

        inputs.each(function() {
            len++;
            this.attr('class', 'test-each-added');
        });
        if(len !== 3) test.fail();

        inputs.each(function() {
            if(this.attr('class') !== 'test-each-added') test.fail();
            this.removeAttr('class');
        })
    }

</script>

<div id="test-data">
    <p id="foo">
        <a href="../kissy/" style="color:red" class="link" title="test" data-test="test">test link</a>
        <input type="text" id="test-input" readonly maxlength="20" value="hello"/>
        <input type="radio" id="test-radio" />
        <input type="radio" id="test-radio2" checked />
        <label class="test" for="test-input">label</label>
        <button type="button" tabindex="3">Submit</button>
        <textarea rows="2" cols="2">
            test
        </textarea>
    </p>
    <div id="test-div"></div>
    <table id="test-table" cellspacing="10">
        <tbody>
        <tr>
            <td rowspan="2" colspan="3">td</td>
        </tr>
        </tbody>
    </table>
    <select id="test-select">
        <option id="test-opt" value="1">0</option>
        <option>2</option>
        <option>3</option>
    </select>
    <select id="test-select2">
        <option>2</option>
    </select>
    <select id="test-select3" multiple autocomplete="off">
        <option selected>1</option>
        <option selected>2</option>
        <option>3</option>
    </select>
</div>

</body>
</html>
