<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=GB18030"/>
<title>Grids CSS Generator</title>
</head>
<body>
<pre style="font: 16px/20px 'Courier New', monospace;">
<script type="text/javascript">

    var println = function(msg) { document.write((msg ? msg : '') + '<br />'); };
    var c = 40, g = 10, N = 24,
        COL_MIN = 4, S_MAX, E_MAX,
        i, fs, s, fe, e, cls,
        sum = [0, 0];

    println('/** 两栏布局 **/');
    S_MAX = N - COL_MIN;
    for (i = COL_MIN; i <= S_MAX; ++i) {
        fs = i * c, s = fs - g;

        cls = '.grid-s' + i + 'm0';
        println(cls + ' .main-wrap { margin-left: ' + fs + 'px; }');
        println(cls + ' .col-sub { width: ' + s + 'px; margin-left: -100%; }');

        cls = '.grid-m0s' + i;
        println(cls + ' .main-wrap { margin-right: ' + fs + 'px; }');
        println(cls + ' .col-sub { width: ' + s + 'px; margin-left: -' + s + 'px; }');

        sum[0] += 2;
        println();
    }

    println('/** 三栏布局 **/');
    S_MAX = N - 2 * COL_MIN;
    for (i = COL_MIN; i <= S_MAX; ++i) {
        fs = i * c, s = fs - g;

        E_MAX = N - i - COL_MIN;
        for (var j = COL_MIN; j <= E_MAX; ++j) {
            fe = j * c, e = fe - g;

            // normal: s + 10 + m + 10 + e
            cls = '.grid-s' + i + 'm0e' + j;
            println(cls + ' .main-wrap { margin: 0 ' + fe + 'px 0 ' + fs + 'px; }');
            println(cls + ' .col-sub { width: ' + s + 'px; margin-left: -100%; }');
            println(cls + ' .col-extra { width: ' + e + 'px; margin-left: -' + e + 'px; }');

            // f: e + 10 + m + 10 + s
            cls = '.grid-e' + j + 'm0s' + i;
            println(cls + ' .main-wrap { margin: 0 ' + fs + 'px 0 ' + fe + 'px; }');
            println(cls + ' .col-sub { width: ' + s + 'px; margin-left: -' + s + 'px; }');
            println(cls + ' .col-extra { width: ' + e + 'px; margin-left: -100%; }');

            // e: m + 10 + s + 10 + e
            cls = '.grid-m0s' + i + 'e' + j;
            println(cls + ' .main-wrap { margin-right: ' + (fs + fe) + 'px; }');
            println(cls + ' .col-sub { width: ' + s + 'px; margin-left: -' + (s + fe) + 'px; }');
            println(cls + ' .col-extra { width: ' + e + 'px; margin-left: -' + e + 'px; }');

            // d: m + 10 + e + 10 + s
            cls = '.grid-m0e' + j + 's' + i;
            println(cls + ' .main-wrap { margin-right: ' + (fs + fe) + 'px; }');
            println(cls + ' .col-sub { width: ' + s + 'px; margin-left: -' + s + 'px; }');
            println(cls + ' .col-extra { width: ' + e + 'px; margin-left: -' + (e + fs) + 'px; }');

            // c: s + 10 + e + 10 + m
            cls = '.grid-s' + i + 'e' + j + 'm0';
            println(cls + ' .main-wrap { margin-left: ' + (fs + fe) + 'px; }');
            println(cls + ' .col-sub { width: ' + s + 'px; margin-left: -100%; }');
            println(cls + ' .col-extra { width: ' + e + 'px; margin-left: -100%; left: ' + fs + 'px; }');

            // b: e + 10 + s + 10 + m
            cls = '.grid-e' + j + 's' + i + 'm0';
            println(cls + ' .main-wrap { margin-left: ' + (fs + fe) + 'px; }');
            println(cls + ' .col-sub { width: ' + s + 'px; margin-left: -100%; left: ' + fe + 'px; }');
            println(cls + ' .col-extra { width: ' + e + 'px; margin-left: -100%; }');

            sum[1] += 6;
            println();
        }
    }

    println('/** 统计数据 **/');
    println('/* 二栏栅格布局总数： ' + sum[0] + ' = (20 - 4 + 1) * 2 = 17 * 2 */');
    println('/* 三栏栅格布局总数： ' + sum[1] + ' = ((16 - 4 + 1) + (16 - 4 + 1 - 1) + ... + 2 + 1) * 6 = (13 + 12 + ... + 2 + 1) * 6 = 13 * 7 * 6 */');
</script>
</pre>
</body>
</html>
