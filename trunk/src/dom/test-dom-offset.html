<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>dom-offset Test</title>
<style>
    html { margin: 3px; border: 4px solid #eee; padding: 5px; }
    body { margin: 6px; border: 7px solid #ccc; padding: 8px; }
</style>
</head>
<body>
<script src="../test/test.js"></script>
<script>
    KISSY.Test.Config.times = 1;
    document.body.className = ''; // remove attached cls
</script>

<h2>Test Data</h2>

<script src="../kissy/kissy.js"></script>
<script src="../kissy/kissy-lang.js"></script>
<script src="../kissy/kissy-ua.js"></script>

<script src="dom.js"></script>
<script src="selector.js"></script>
<script src="dom-class.js"></script>
<script src="dom-attr.js"></script>
<script src="dom-style.js"></script>
<script src="dom-style-ie.js"></script>
<script src="dom-offset.js"></script>

<script src="../../third-party/jquery/jquery-1.4.2.js"></script>

<div id="test-data">
    <div id="inner" style="background-color: #ffe4c4; width: 100px; height: 100px"></div>
</div>

<!-- Test Cases -->
<script>
    var S = KISSY, DOM = S.DOM, UA = S.UA;

    function test_offset(test) {

//        test.echo('docElem.clientLeft = ' + document.documentElement.clientLeft);
//        test.echo('docElem.offsetLeft = ' + document.documentElement.offsetLeft);
//        test.echo('body.clientLeft = ' + document.body.clientLeft);
//        test.echo('body.offsetLeft = ' + document.body.offsetLeft);
//        test.echo('box.offsetLeft = ' + S.get('#konsole').offsetLeft);
//        test.echo('scrollLeft = ' + DOM.scrollLeft());
//        test.echo('box.left = ' + S.get('#konsole').getBoundingClientRect().left);
//        test.echo('jQuery offset.left = ' + jQuery('#konsole').offset().left);
//        test.echo('KISSY offset.left = ' + DOM.offset('#konsole').left);

        // getter
        var ret = 33;
        if(UA.ie === 6) ret = 30; // ie6 会忽略 html 的 margin
        if(DOM.offset('#konsole').left !== ret) test.fail();

        // setter
        var t = S.get('#inner');
        //$(t).offset({ top: '600', left: '200' });
        DOM.offset(t, { top: 600, left: 200 });
    }

    function test_scrollLeft(test) {
        if(DOM.scrollLeft() !== 0) test.fail();        
    }

    function test_scrollTop(test) {
        if(DOM.scrollTop() !== 0) test.fail();
    }

    // temp code
    //alert(document.documentElement.clientLeft);
    //alert(document.documentElement.clientWidth);
    //alert(document.compatMode);

</script>

</body>
</html>