<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>测试 TB.widget.SimplePopup Align 配置</title>
<link rel="stylesheet" href="../../../../tbsp/tbsp.source.css" type="text/css" media="screen"/>
<script type="text/javascript" src="../../tbra-widgets.js"></script>

<style>
.container {
	margin: 0 auto;
	margin-top: 200px;
	text-align: center;
}

fieldset {
	border: 1px solid #eee;
}

#popup {
	position: absolute;
	top: -9999px;
	left: -9999px;
	background: #eee;
	line-height: 200px;
	width: 200px;
	height: 200px;
	text-align: center;
}	

</style>
</head>
<body>
<div id="page">

	<div id="header">
		<br />
		<h2>TB.widget.SimplePopup : 调整align参数</h2>
		<hr />
	</div>

	<div id="content">
		<form>
		<fieldset>
			<legend>配置 position 和 align 参数 </legend>
			
			<div style="padding:20px;">

			<label>Postion : </label>
			<select name="position">
				<option value="left">left</option>
				<option value="right">right</option>
				<option value="top">top</option>
				<option value="bottom">bottom</option>
			</select>

			<label>Align :  </label>
			<select name="align">
				<option value="left">left</option>
				<option value="right">right</option>
				<option value="top">top</option>
				<option value="bottom">bottom</option>
				<option value="center">center</option>
			</select>
			&nbsp;
			<button type="submit" class="short-btn">测试</button>
			</div>

		</fieldset>
		</form>
	</div>


	<div class="container">
		<button type="button" class="long-btn" id="trigger">来点我吧</button>
	</div>
 
</div>

<div id="popup">我是一个Popup层！</div>

<script type="text/javascript">
(function() {
	var frm = document.forms[0];
	var params = {
		position: frm['position'].value,
		align: frm['align'].value
	}

	if (location.search) {
		params = location.search.slice(1).toQueryParams();
		frm['position'].value = params['position'];
		frm['align'].value = params['align'];
	}
	
	
	TB.widget.SimplePopup.decorate('trigger', 'popup', {
		eventType: 'click',
		width: 200,
		height: 200,
		position: params['position'],
		align: params['align'],
		effect: 'fade',
		autoFit: false,
		onShow: function(){
			//alert(this.trigger.getAttribute('taobao:params'));
		}
	});

	setTimeout(function() {
		YAHOO.util.Dom.get('trigger').click();
	}, 500);

})();
</script>


</body>
</html>
