/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 520 Apr 2 22:21
*/
(function(d,m,e){if(d[m]===e)d[m]={};m=d[m];var p=d.document,h=function(k,b,g,j){if(!b||!k)return k;if(g===e)g=true;var o,n,t;if(j&&(t=j.length))for(o=0;o<t;o++){n=j[o];if(n in b)if(g||!(n in k))k[n]=b[n]}else for(n in b)if(g||!(n in k))k[n]=b[n];return k},i=false,l=[],s=false;h(m,{version:"1.0.5",_init:function(){this.Env={mods:{}};this.Config={debug:true}},add:function(k,b){this.Env.mods[k]={name:k,fn:b};b(this);return this},ready:function(k){s||this._bindReady();i?k.call(d,this):l.push(k);return this},
_bindReady:function(){var k=this,b=p.documentElement.doScroll,g=b?"onreadystatechange":"DOMContentLoaded";s=true;if(p.attachEvent){if(d!=d.top){var j=function(){if(p.readyState==="complete"){p.detachEvent(g,j);k._fireReady()}};p.attachEvent(g,j)}else{var o=function(){try{b("left");k._fireReady()}catch(t){setTimeout(o,1)}};o()}d.attachEvent("onload",function(){k._fireReady()})}else{var n=function(){p.removeEventListener(g,n,false);k._fireReady()};p.addEventListener(g,n,false)}},_fireReady:function(){if(!i){i=
true;if(l){for(var k,b=0;k=l[b++];)k.call(d,this);l=null}}},mix:h,merge:function(){var k=arguments,b={},g,j=k.length;for(g=0;g<j;++g)h(b,k[g]);return b},extend:function(k,b,g,j){if(!b||!k)return k;var o=Object.prototype,n=b.prototype,t=function(f){function a(){}a.prototype=f;return new a}(n);k.prototype=t;t.constructor=k;k.superclass=n;if(b!==Object&&n.constructor===o.constructor)n.constructor=b;g&&h(t,g);j&&h(k,j);return k},augment:function(k,b,g,j){return h(k.prototype,b.prototype,g,j)},weave:function(k,
b,g,j){var o=[g[j],k];b==="before"&&o.reverse();g[j]=function(){for(var n=0,t;n<2;++n)t=o[n].apply(this,arguments);return t};return this},app:function(k){var b=d[k]||{};h(b,this,true,["_init","add","namespace"]);b._init();return d[k]=b},namespace:function(){var k=arguments,b=k.length,g=null,j,o,n;for(j=0;j<b;++j){n=(""+k[j]).split(".");g=this;for(o=d[n[0]]===g?1:0;o<n.length;++o)g=g[n[o]]=g[n[o]]||{}}return g},log:function(k,b,g){if(this.Config.debug){g&&(k=g+": "+k);if(d.console!==e&&console.log)console[b&&
console[b]?b:"log"](k)}return this},error:function(k){throw k;}});m._init()})(window,"KISSY");
KISSY.add("lang",function(d){function m(b){var g=typeof b;return b===null|(g!=="object"&&g!=="function")}var e=Array.prototype,p=e.forEach,h=e.indexOf,i=e.slice,l=/^\s+|\s+$/g,s=/^(\w+)\[\]$/,k=Object.prototype.toString;d.mix(d,{each:p?function(b,g,j){p.call(b,g,j);return this}:function(b,g,j){var o=b&&b.length||0,n;for(n=0;n<o;++n)g.call(j||this,b[n],n,b);return this},trim:String.prototype.trim?function(b){return(b||"").trim()}:function(b){return(b||"").replace(l,"")},isFunction:function(b){return k.call(b)===
"[object Function]"},isArray:function(b){return k.call(b)==="[object Array]"},inArray:h?function(b,g){return h.call(g,b)!==-1}:function(b,g){for(var j=0,o=g.length;j<o;++j)if(g[j]===b)return true;return false},makeArray:function(b){if(b===null)return[];if(d.isArray(b))return b;if(typeof b.length!=="number"||typeof b==="string"||d.isFunction(b))return[b];if(b.item&&d.UA.ie){for(var g=[],j=0,o=b.length;j<o;++j)g[j]=b[j];return g}return i.call(b)},param:function(b){if(typeof b!=="object")return"";var g=
[],j,o;for(j in b){o=b[j];if(m(o))g.push(j,"=",o+"","&");else if(d.isArray(o)&&o.length)for(var n=0,t=o.length;n<t;++n)m(o[n])&&g.push(j+"[]=",o[n]+"","&")}g.pop();return encodeURI(g.join(""))},unparam:function(b,g){if(typeof b!=="string"||(b=decodeURI(d.trim(b))).length===0)return{};var j={};b=b.split(g||"&");for(var o,n,t=0,f=b.length;t<f;++t){o=b[t].split("=");g=o[0];o=o[1]||"";if((n=g.match(s))&&n[1]){j[n[1]]=j[n[1]]||[];j[n[1]].push(o)}else j[g]=o}return j}})});
KISSY.add("ua",function(d){var m=navigator.userAgent,e,p={ie:0,gecko:0,firefox:0,opera:0,webkit:0,safari:0,chrome:0,mobile:""},h=function(i){var l=0;return parseFloat(i.replace(/\./g,function(){return l++===0?".":""}))};if((e=m.match(/AppleWebKit\/([\d.]*)/))&&e[1]){p.webkit=h(e[1]);if((e=m.match(/Chrome\/([\d.]*)/))&&e[1])p.chrome=h(e[1]);else if((e=m.match(/\/([\d.]*) Safari/))&&e[1])p.safari=h(e[1]);if(/ Mobile\//.test(m))p.mobile="Apple";else if(e=m.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))p.mobile=
e[0]}else if((e=m.match(/Opera\/.* Version\/([\d.]*)/))&&e[1]){p.opera=h(e[1]);if(m.match(/Opera Mini[^;]*/))p.mobile=e[0]}else if((e=m.match(/MSIE\s([^;]*)/))&&e[1])p.ie=h(e[1]);else if(e=m.match(/Gecko/)){p.gecko=1;if((e=m.match(/rv:([\d.]*)/))&&e[1])p.gecko=h(e[1]);if((e=m.match(/Firefox\/([\d.]*)/))&&e[1])p.firefox=h(e[1])}d.UA=p});
KISSY.add("json",function(d){var m=window.JSON;d.JSON={parse:function(e){if(typeof e!=="string"||!e)return null;e=d.trim(e);if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(m||{}).parse?m.parse(e):(new Function("return "+e))();else jQuery.error("Invalid JSON: "+e)}}});
KISSY.add("cookie",function(d){function m(i){return typeof i==="string"&&i!==""}var e=document,p=encodeURIComponent,h=decodeURIComponent;d.Cookie={get:function(i){var l;if(m(i))if(i=e.cookie.match("(?:^| )"+i+"(?:(?:=([^;]*))|;|$)"))l=i[1]?h(i[1]):"";return l},set:function(i,l,s,k,b,g){l=p(l);var j=s;if(typeof j==="number"){j=new Date;j.setTime(j.getTime()+s*864E5)}if(j instanceof Date)l+="; expires="+j.toUTCString();if(m(k))l+="; domain="+k;if(m(b))l+="; path="+b;if(g)l+="; secure";e.cookie=i+"="+
l},remove:function(i){this.set(i,"",0)}}});
KISSY.add("selector",function(d,m){function e(f,a,c){var q,r=[],v,u;if(typeof f===g){f=d.trim(f);if(n.test(f)){if(a=h(f.slice(1)))r=[a]}else if(q=t.exec(f)){v=q[1];u=q[2];q=q[3];if(a=v?h(v):p(a))if(q){if(!v||f.indexOf(j)!==-1)r=l(q,u,a)}else if(u)r=i(a,u)}else if(f.indexOf(",")>-1)if(b.querySelectorAll)r=b.querySelectorAll(f);else{v=f.split(",");u=[];r=0;for(f=v.length;r<f;++r)u=u.concat(e(v[r],a));r=s(u)}}else if(f&&f.nodeType)r=[f];else if(f&&f.item)r=f;if(r.item)r=d.makeArray(r);c||k(r);return r}
function p(f){if(f===m)f=b;else if(typeof f===g&&n.test(f))f=h(f.slice(1));else if(f&&f.nodeType!==1&&f.nodeType!==9)f=null;return f}function h(f){return b.getElementById(f)}function i(f,a){return f.getElementsByTagName(a)}function l(f,a,c){c=f=c.getElementsByClassName(f);var q=0,r=0,v=f.length,u;if(a&&a!==o){c=[];for(a=a.toUpperCase();q<v;++q){u=f[q];if(u.tagName===a)c[r++]=u}}return c}function s(f){var a=false;f.sort(function(q,r){q=q.sourceIndex-r.sourceIndex;if(q===0)a=true;return q});if(a)for(var c=
1;c<f.length;c++)f[c]===f[c-1]&&f.splice(c--,1);return f}function k(f){f.each=function(a,c){d.each(f,a,c)}}var b=document,g="string",j=" ",o="*",n=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var f=b.createElement("div");f.appendChild(b.createComment(""));if(f.getElementsByTagName(o).length>0)i=function(a,c){a=a.getElementsByTagName(c);if(c===o){c=[];for(var q=0,r=0,v;v=a[q++];)if(v.nodeType===1)c[r++]=v;a=c}return a}})();b.getElementsByClassName||(l=b.querySelectorAll?
function(f,a,c){return c.querySelectorAll((a?a:"")+"."+f)}:function(f,a,c){a=c.getElementsByTagName(a||o);c=[];var q=0,r=0,v=a.length,u,w;for(f=j+f+j;q<v;++q){u=a[q];if((w=u.className)&&(j+w+j).indexOf(f)>-1)c[r++]=u}return c});d.query=e;d.get=function(f,a){return e(f,a,true)[0]||null}});
KISSY.add("dom-base",function(d,m){function e(a,c){return c&&c.nodeName.toUpperCase()===a.toUpperCase()}function p(a,c){var q=null,r;if(a&&(a.push||a.item)&&a[0]){c=c||a[0].ownerDocument;q=c.createDocumentFragment();if(a.item)a=d.makeArray(a);c=0;for(r=a.length;c<r;++c)q.appendChild(a[c])}else d.error("unable to convert "+a+" to fragment");return q}var h=document,i=h.documentElement.textContent!==m?"textContent":"innerText",l=d.UA,s=l.ie,k=s&&s<8,b={readonly:"readOnly"},g=/href|src|style/,j=/href|src|colspan|rowspan/,
o=/\r/g,n=/radio|checkbox/,t=h.createElement("DIV"),f=/^[a-z]+$/i;k&&d.mix(b,{"for":"htmlFor","class":"className"});d.DOM={query:d.query,get:d.get,attr:function(a,c,q){if(!a||a.nodeType!==1)return m;var r;c=c.toLowerCase();c=b[c]||c;if(q===m){if(g.test(c)){if(c==="style")r=a.style.cssText}else r=a[c];if(r===m)r=a.getAttribute(c);if(k&&j.test(c))r=a.getAttribute(c,2);return r===null?m:r}if(c==="style")a.style.cssText=q;else a.setAttribute(c,""+q)},removeAttr:function(a,c){a&&a.nodeType===1&&a.removeAttribute(c)},
val:function(a,c){if(!a||a.nodeType!==1)return m;if(c===m){if(e("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(e("select",a)){c=a.selectedIndex;var q=a.options;if(c<0)return null;else if(a.type==="select-one")return d.DOM.val(q[c]);a=[];c=0;for(var r=q.length;c<r;++c)q[c].selected&&a.push(d.DOM.val(q[c]));return a}if(l.webkit&&n.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(o,"")}if(e("select",a)){q=d.makeArray(c);var v=a.options,
u;c=0;for(r=v.length;c<r;++c){u=v[c];u.selected=d.inArray(d.DOM.val(u),q)}if(!q.length)a.selectedIndex=-1}else a.value=c},css:function(){d.error("not implemented")},text:function(a,c){if(c===m)return(a||{})[i]||"";if(a)a[i]=c},html:function(){d.error("not implemented")},create:function(a,c){if(typeof a==="string")a=d.trim(a);if(f.test(a))return(c||h).createElement(a);var q=null;q=c?c.createElement("DIV"):t;q.innerHTML=a;a=q.childNodes;return q=a.length===1?a[0].parentNode.removeChild(a[0]):p(a,c||
h)}}});KISSY.add("dom-class",function(d,m){d.mix(d.DOM,{hasClass:function(i,l){if(!l||!i.className)return false;return(" "+i.className+" ").indexOf(" "+l+" ")>-1},addClass:function(i,l){if(l)e(i,l)||(i.className+=" "+l)},removeClass:function(i,l){if(e(i,l)){i.className=(" "+i.className+" ").replace(" "+l+" "," ");e(i,l)&&h(i,l)}},replaceClass:function(i,l,s){h(i,l);p(i,s)},toggleClass:function(i,l,s){(s!==m?s:!e(i,l))?p(i,l):h(i,l)}});var e=d.DOM.hasClass,p=d.DOM.addClass,h=d.DOM.removeClass});
KISSY.add("node",function(d){function m(h,i,l){var s;if(!(this instanceof m))return new m(h,i,l);if(!h)return null;if(h.nodeType)s=h;else if(typeof h==="string")s=e.create(h,l);i&&d.error("not implemented");this[0]=s}var e=d.DOM,p=m.prototype;d.each(["attr","removeAttr"],function(h){p[h]=function(i,l){var s=this[0];if(l===undefined)return e[h](s,i);else{e[h](s,i,l);return this}}});d.each(["val","text"],function(h){p[h]=function(i){var l=this[0];if(i===undefined)return e[h](l);else{e[h](l,i);return this}}});
d.each(["hasClass","addClass","removeClass","replaceClass","toggleClass"],function(h){p[h]=function(){var i=e[h].apply(e,[this[0]].concat(d.makeArray(arguments)));return typeof i==="boolean"?i:this}});d.mix(p,{one:function(h){return d.one(h,this[0])},all:function(h){return d.all(h,this[0])}});d.one=function(h,i){return new m(d.get(h,i))};d.Node=m});
KISSY.add("nodelist",function(d){function m(p){if(!(this instanceof m))return new m(p);e.apply(this,p||[])}var e=Array.prototype.push;d.mix(m.prototype,{length:0,each:function(p,h){for(var i=this.length,l=0,s;l<i;++l){s=new d.Node(this[l]);p.call(h||s,s,l,this)}return this}});d.all=function(p,h){return new m(d.query(p,h,true))};d.NodeList=m});
