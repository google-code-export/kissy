/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 522 Apr 5 22:25
*/
(function(c,k,i){if(c[k]===i)c[k]={};k=c[k];var l=c.document,j=function(p,s,d,m){if(!s||!p)return p;if(d===i)d=true;var q,n,g;if(m&&(g=m.length))for(q=0;q<g;q++){n=m[q];if(n in s)if(d||!(n in p))p[n]=s[n]}else for(n in s)if(d||!(n in p))p[n]=s[n];return p},e=false,h=[],u=false;j(k,{version:"1.0.5",_init:function(){this.Env={mods:{}};this.Config={debug:true}},add:function(p,s){this.Env.mods[p]={name:p,fn:s};s(this);return this},ready:function(p){u||this._bindReady();e?p.call(c,this):h.push(p);return this},
_bindReady:function(){var p=this,s=l.documentElement.doScroll,d=s?"onreadystatechange":"DOMContentLoaded";u=true;if(l.attachEvent){if(c!=c.top){var m=function(){if(l.readyState==="complete"){l.detachEvent(d,m);p._fireReady()}};l.attachEvent(d,m)}else{var q=function(){try{s("left");p._fireReady()}catch(g){setTimeout(q,1)}};q()}c.attachEvent("onload",function(){p._fireReady()})}else{var n=function(){l.removeEventListener(d,n,false);p._fireReady()};l.addEventListener(d,n,false)}},_fireReady:function(){if(!e){e=
true;if(h){for(var p,s=0;p=h[s++];)p.call(c,this);h=null}}},mix:j,merge:function(){var p=arguments,s={},d,m=p.length;for(d=0;d<m;++d)j(s,p[d]);return s},extend:function(p,s,d,m){if(!s||!p)return p;var q=Object.prototype,n=s.prototype,g=function(b){function o(){}o.prototype=b;return new o}(n);p.prototype=g;g.constructor=p;p.superclass=n;if(s!==Object&&n.constructor===q.constructor)n.constructor=s;d&&j(g,d);m&&j(p,m);return p},augment:function(p,s,d,m){return j(p.prototype,s.prototype,d,m)},weave:function(p,
s,d,m){var q=[d[m],p];s==="before"&&q.reverse();d[m]=function(){for(var n=0,g;n<2;++n)g=q[n].apply(this,arguments);return g};return this},app:function(p){var s=c[p]||{};j(s,this,true,["_init","add","namespace"]);s._init();return c[p]=s},namespace:function(){var p=arguments,s=p.length,d=null,m,q,n;for(m=0;m<s;++m){n=(""+p[m]).split(".");d=this;for(q=c[n[0]]===d?1:0;q<n.length;++q)d=d[n[q]]=d[n[q]]||{}}return d},log:function(p,s,d){if(this.Config.debug){d&&(p=d+": "+p);if(c.console!==i&&console.log)console[s&&
console[s]?s:"log"](p)}return this},error:function(p){throw p;},now:function(){return(new Date).getTime()}});k._init()})(window,"KISSY");
KISSY.add("lang",function(c,k){function i(d){var m=typeof d;return d===null|(m!=="object"&&m!=="function")}var l=Array.prototype,j=l.forEach,e=l.indexOf,h=l.slice,u=/^\s+|\s+$/g,p=/^(\w+)\[\]$/,s=Object.prototype.toString;c.mix(c,{each:j?function(d,m,q){j.call(d,m,q);return this}:function(d,m,q){var n=d&&d.length||0,g;for(g=0;g<n;++g)m.call(q||this,d[g],g,d);return this},trim:String.prototype.trim?function(d){return(d||"").trim()}:function(d){return(d||"").replace(u,"")},isPlainObject:function(d){return d&&
s.call(d)==="[object Object]"&&!d.nodeType&&!d.setInterval},isEmptyObject:function(d){for(var m in d)return false;return true},isFunction:function(d){return s.call(d)==="[object Function]"},isArray:function(d){return s.call(d)==="[object Array]"},inArray:e?function(d,m){return e.call(m,d)!==-1}:function(d,m){for(var q=0,n=m.length;q<n;++q)if(m[q]===d)return true;return false},makeArray:function(d){if(d===null||d===k)return[];if(c.isArray(d))return d;if(typeof d.length!=="number"||typeof d==="string"||
c.isFunction(d))return[d];if(d.item&&c.UA.ie){for(var m=[],q=0,n=d.length;q<n;++q)m[q]=d[q];return m}return h.call(d)},param:function(d){if(typeof d!=="object")return"";var m=[],q,n;for(q in d){n=d[q];if(i(n))m.push(q,"=",n+"","&");else if(c.isArray(n)&&n.length)for(var g=0,b=n.length;g<b;++g)i(n[g])&&m.push(q+"[]=",n[g]+"","&")}m.pop();return encodeURI(m.join(""))},unparam:function(d,m){if(typeof d!=="string"||(d=decodeURI(c.trim(d))).length===0)return{};var q={};d=d.split(m||"&");for(var n,g,b=
0,o=d.length;b<o;++b){n=d[b].split("=");m=n[0];n=n[1]||"";if((g=m.match(p))&&g[1]){q[g[1]]=q[g[1]]||[];q[g[1]].push(n)}else q[m]=n}return q},later:function(d,m,q,n,g){m=m||0;n=n||{};var b=d,o=c.makeArray(g),t;if(typeof d==="string")b=n[d];b||c.error("method undefined");d=function(){b.apply(n,o)};t=q?setInterval(d,m):setTimeout(d,m);return{id:t,interval:q,cancel:function(){this.interval?clearInterval(t):clearTimeout(t)}}}})});
KISSY.add("ua",function(c){var k=navigator.userAgent,i,l={ie:0,gecko:0,firefox:0,opera:0,webkit:0,safari:0,chrome:0,mobile:""},j=function(e){var h=0;return parseFloat(e.replace(/\./g,function(){return h++===0?".":""}))};if((i=k.match(/AppleWebKit\/([\d.]*)/))&&i[1]){l.webkit=j(i[1]);if((i=k.match(/Chrome\/([\d.]*)/))&&i[1])l.chrome=j(i[1]);else if((i=k.match(/\/([\d.]*) Safari/))&&i[1])l.safari=j(i[1]);if(/ Mobile\//.test(k))l.mobile="Apple";else if(i=k.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=
i[0]}else if((i=k.match(/Opera\/.* Version\/([\d.]*)/))&&i[1]){l.opera=j(i[1]);if(k.match(/Opera Mini[^;]*/))l.mobile=i[0]}else if((i=k.match(/MSIE\s([^;]*)/))&&i[1])l.ie=j(i[1]);else if(i=k.match(/Gecko/)){l.gecko=1;if((i=k.match(/rv:([\d.]*)/))&&i[1])l.gecko=j(i[1]);if((i=k.match(/Firefox\/([\d.]*)/))&&i[1])l.firefox=j(i[1])}c.UA=l});
KISSY.add("json",function(c){var k=window.JSON;c.JSON={parse:function(i){if(typeof i!=="string"||!i)return null;i=c.trim(i);if(/^[\],:{}\s]*$/.test(i.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(k||{}).parse?k.parse(i):(new Function("return "+i))();else jQuery.error("Invalid JSON: "+i)}}});
KISSY.add("selector",function(c,k){function i(b,o,t){var a,f=[],r,v;if(typeof b===d){b=c.trim(b);if(n.test(b)){if(o=j(b.slice(1)))f=[o]}else if(a=g.exec(b)){r=a[1];v=a[2];a=a[3];if(o=r?j(r):l(o))if(a){if(!r||b.indexOf(m)!==-1)f=h(a,v,o)}else if(v)f=e(o,v)}else if(b.indexOf(",")>-1)if(s.querySelectorAll)f=s.querySelectorAll(b);else{r=b.split(",");v=[];f=0;for(b=r.length;f<b;++f)v=v.concat(i(r[f],o));f=u(v)}}else if(b&&b.nodeType)f=[b];else if(b&&b.item)f=b;if(f.item)f=c.makeArray(f);t||p(f);return f}
function l(b){if(b===k)b=s;else if(typeof b===d&&n.test(b))b=j(b.slice(1));else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function j(b){return s.getElementById(b)}function e(b,o){return b.getElementsByTagName(o)}function h(b,o,t){t=b=t.getElementsByClassName(b);var a=0,f=0,r=b.length,v;if(o&&o!==q){t=[];for(o=o.toUpperCase();a<r;++a){v=b[a];if(v.tagName===o)t[f++]=v}}return t}function u(b){var o=false;b.sort(function(a,f){a=a.sourceIndex-f.sourceIndex;if(a===0)o=true;return a});if(o)for(var t=
1;t<b.length;t++)b[t]===b[t-1]&&b.splice(t--,1);return b}function p(b){b.each=function(o,t){c.each(b,o,t)}}var s=document,d="string",m=" ",q="*",n=/^#[\w-]+$/,g=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=s.createElement("div");b.appendChild(s.createComment(""));if(b.getElementsByTagName(q).length>0)e=function(o,t){o=o.getElementsByTagName(t);if(t===q){t=[];for(var a=0,f=0,r;r=o[a++];)if(r.nodeType===1)t[f++]=r;o=t}return o}})();s.getElementsByClassName||(h=s.querySelectorAll?
function(b,o,t){return t.querySelectorAll((o?o:"")+"."+b)}:function(b,o,t){o=t.getElementsByTagName(o||q);t=[];var a=0,f=0,r=o.length,v,w;for(b=m+b+m;a<r;++a){v=o[a];if((w=v.className)&&(m+w+m).indexOf(b)>-1)t[f++]=v}return t});c.query=i;c.get=function(b,o){return i(b,o,true)[0]||null}});
KISSY.add("dom-base",function(c,k){function i(a,f){return f&&f.nodeName.toUpperCase()===a.toUpperCase()}function l(a,f){for(var r=[],v=0;a;a=a.nextSibling)if(a.nodeType===1&&a!==f)r[v++]=a;return r}function j(a,f,r){f=f||0;for(var v=0;a;a=a[r])if(a.nodeType===1&&v++===f)break;return a}function e(a,f){var r=null,v;if(a&&(a.push||a.item)&&a[0]){f=f||a[0].ownerDocument;r=f.createDocumentFragment();if(a.item)a=c.makeArray(a);f=0;for(v=a.length;f<v;++f)r.appendChild(a[f])}else c.error("unable to convert "+
a+" to fragment");return r}var h=document,u=h.documentElement.textContent!==k?"textContent":"innerText",p=c.UA,s=p.ie,d=s&&s<8,m={readonly:"readOnly"},q=/href|src|style/,n=/href|src|colspan|rowspan/,g=/\r/g,b=/radio|checkbox/,o=h.createElement("DIV"),t=/^[a-z]+$/i;d&&c.mix(m,{"for":"htmlFor","class":"className"});c.DOM={query:c.query,get:c.get,attr:function(a,f,r){if(!a||a.nodeType!==1)return k;var v;f=f.toLowerCase();f=m[f]||f;if(r===k){if(q.test(f)){if(f==="style")v=a.style.cssText}else v=a[f];
if(v===k)v=a.getAttribute(f);if(d&&n.test(f))v=a.getAttribute(f,2);return v===null?k:v}if(f==="style")a.style.cssText=r;else a.setAttribute(f,""+r)},removeAttr:function(a,f){a&&a.nodeType===1&&a.removeAttribute(f)},val:function(a,f){if(!a||a.nodeType!==1)return k;if(f===k){if(i("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(i("select",a)){f=a.selectedIndex;var r=a.options;if(f<0)return null;else if(a.type==="select-one")return c.DOM.val(r[f]);a=[];f=0;for(var v=r.length;f<
v;++f)r[f].selected&&a.push(c.DOM.val(r[f]));return a}if(p.webkit&&b.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(g,"")}if(i("select",a)){r=c.makeArray(f);var w=a.options,x;f=0;for(v=w.length;f<v;++f){x=w[f];x.selected=c.inArray(c.DOM.val(x),r)}if(!r.length)a.selectedIndex=-1}else a.value=f},css:function(a,f,r){if(r===k)return a.style[f];c.each(c.makeArray(a),function(v){v.style[f]=r})},text:function(a,f){if(f===k)return(a||{})[u]||"";if(a)a[u]=f},html:function(a,
f){if(f===k)return a.innerHTML;a.innerHTML=f},children:function(a){if(a.children)return c.makeArray(a.children);return l(a.firstChild)},siblings:function(a){return l(a.parentNode.firstChild,a)},next:function(a){return j(a,1,"nextSibling")},prev:function(a){return j(a,1,"previousSibling")},parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},create:function(a,f){if(typeof a==="string")a=c.trim(a);if(t.test(a))return(f||h).createElement(a);var r=null;r=f?f.createElement("DIV"):o;r.innerHTML=
a;a=r.childNodes;return r=a.length===1?a[0].parentNode.removeChild(a[0]):e(a,f||h)}}});
KISSY.add("dom-class",function(c,k){c.mix(c.DOM,{hasClass:function(e,h){if(!h||!e||!e.className)return false;return(" "+e.className+" ").indexOf(" "+h+" ")>-1},addClass:function(e,h){if(h&&e)i(e,h)||(e.className+=" "+h)},removeClass:function(e,h){if(i(e,h)){e.className=(" "+e.className+" ").replace(" "+h+" "," ");i(e,h)&&j(e,h)}},replaceClass:function(e,h,u){j(e,h);l(e,u)},toggleClass:function(e,h,u){(u!==k?u:!i(e,h))?l(e,h):j(e,h)}});var i=c.DOM.hasClass,l=c.DOM.addClass,j=c.DOM.removeClass});
KISSY.add("event",function(c,k){function i(g){var b=-1;if(g.nodeType===3||g.nodeType===8)return b;return b=g.nodeType?e.attr(g,d):g.isCustomEventTarget?g.eventTargetId:g[d]}function l(g,b){if(g.nodeType)e.attr(g,d,b);else if(g.isCustomEventTarget)g.eventTargetId=b;else try{g[d]=b}catch(o){c.error(o)}}function j(g){if(g.nodeType)e.removeAttr(g,d);else if(g.isCustomEventTarget)g.eventTargetId=k;else g[d]=k}var e=c.DOM,h=window,u=document,p=u.addEventListener?function(g,b,o){g.addEventListener&&g.addEventListener(b,
o,false)}:function(g,b,o){g.attachEvent&&g.attachEvent("on"+b,o)},s=u.removeEventListener?function(g,b,o){g.removeEventListener&&g.removeEventListener(b,o,false)}:function(g,b,o){g.detachEvent&&g.detachEvent("on"+b,o)},d="data-ks-event-guid",m=c.now(),q={},n={special:{},add:function(g,b,o){var t=i(g),a,f;if(!(t===-1||!b||!c.isFunction(o))){if(!t){l(g,t=m++);q[t]={target:g,events:{}}}f=q[t].events;a=!g.isCustomEventTarget&&n.special[b]||{};if(!f[b]){t=function(r,v){if(!r||!r.fixed){r=new c.EventObject(g,
r,b);c.isPlainObject(v)&&c.mix(r,v)}a.setup&&a.setup(r);return(a.handle||n._handle)(g,r,f[b].listeners)};f[b]={handle:t,listeners:[]};if(g.isCustomEventTarget)g._addEvent&&g._addEvent(b,t);else p(g,a.fix||b,t)}f[b].listeners.push(o)}},remove:function(g,b,o){var t=i(g),a,f,r,v,w,x;if(t!==-1)if(t&&(a=q[t]))if(a.target===g){a=a.events||{};if(f=a[b]){r=f.listeners;w=r.length;if(c.isFunction(o)&&w&&c.inArray(o,r)){x=[];for(v=0;v<w;++v)o!==r[v]&&x.push(r[v]);w=x.length}if(o===k||w===0){g.isCustomEventTarget||
s(g,b,f.handle);delete q[t].type}}if(b===k||c.isEmptyObject(a)){for(b in a)n.remove(g,b);delete q[t];j(g)}}},_handle:function(g,b,o){for(var t,a=0,f=o.length;a<f;++a){t=o[a].call(g,b);if(b.isImmediatePropagationStopped)break;t===false&&b.halt()}return t},_getCache:function(g){return q[g]},_simpleAdd:p,_simpleRemove:s};n.on=n.add;c.Event=n;h.attachEvent&&!h.addEventListener&&h.attachEvent("onunload",function(){var g,b;for(g in q)if(b=q[g].target)try{n.remove(b)}catch(o){}})});
KISSY.add("event-object",function(c,k){function i(e,h,u){this.currentTarget=e;this.originalEvent=h||{};if(h){this.type=h.type;this._fix()}else{this.type=u;this.target=e}this.fixed=true}var l=document,j="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
c.mix(i.prototype,{_fix:function(){for(var e=this.originalEvent,h=j.length,u;h;){u=j[--h];this[u]=e[u]}if(!this.target)this.target=this.srcElement||l;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===k&&this.clientX!==k){e=l.documentElement;h=l.body;this.pageX=this.clientX+(e&&e.scrollLeft||h&&h.scrollLeft||0)-(e&&e.clientLeft||h&&h.clientLeft||0);
this.pageY=this.clientY+(e&&e.scrollTop||h&&h.scrollTop||0)-(e&&e.clientTop||h&&h.clientTop||0)}if(this.which===k)this.which=this.charCode!==k?this.charCode:this.keyCode;if(this.metaKey===k)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==k)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var e=this.originalEvent;if(e.preventDefault)e.preventDefault();else e.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var e=this.originalEvent;
if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var e=this.originalEvent;e.stopImmediatePropagation?e.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=i});
KISSY.add("event-target",function(c,k){var i=c.Event;c.EventTarget={eventTargetId:k,isCustomEventTarget:true,fire:function(l,j){(l=((i._getCache(this.eventTargetId||-1)||{}).events||{})[l])&&c.isFunction(l.handle)&&l.handle(k,j)},on:function(l,j){i.add(this,l,j)},detach:function(l,j){i.remove(this,l,j)}}});
KISSY.add("event-mouseenter",function(c){var k=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(i){k.special[i.name]={fix:i.fix,setup:function(l){l.type=i.name},handle:function(l,j,e){var h=j.relatedTarget;try{for(;h&&h!==l;)h=h.parentNode;h!==l&&k._handle(l,j,e)}catch(u){}}}})});
KISSY.add("node",function(c){function k(j,e,h){var u;if(!(this instanceof k))return new k(j,e,h);if(!j)return null;if(j.nodeType)u=j;else if(typeof j==="string")u=i.create(j,h);e&&c.error("not implemented");this[0]=u}var i=c.DOM,l=k.prototype;c.each(["attr","removeAttr","css"],function(j){l[j]=function(e,h){var u=this[0];if(h===undefined)return i[j](u,e);else{i[j](u,e,h);return this}}});c.each(["val","text","html"],function(j){l[j]=function(e){var h=this[0];if(e===undefined)return i[j](h);else{i[j](h,
e);return this}}});c.each(["children","siblings","next","prev","parent"],function(j){l[j]=function(){var e=i[j](this[0]);return e?new c[e.length?"NodeList":"Node"](e):null}});c.each(["hasClass","addClass","removeClass","replaceClass","toggleClass"],function(j){l[j]=function(){var e=i[j].apply(i,[this[0]].concat(c.makeArray(arguments)));return typeof e==="boolean"?e:this}});c.mix(l,c.EventTarget);l._addEvent=function(j,e){c.Event._simpleAdd(this[0],j,e)};delete l.fire;c.mix(l,{one:function(j){return c.one(j,
this[0])},all:function(j){return c.all(j,this[0])}});c.one=function(j,e){return new k(c.get(j,e))};c.Node=k});KISSY.add("nodelist",function(c){function k(l){if(!(this instanceof k))return new k(l);i.apply(this,l||[])}var i=Array.prototype.push;c.mix(k.prototype,{length:0,each:function(l,j){for(var e=this.length,h=0,u;h<e;++h){u=new c.Node(this[h]);l.call(j||u,u,h,this)}return this}});c.all=function(l,j){return new k(c.query(l,j,true))};c.NodeList=k});
KISSY.add("cookie",function(c){function k(e){return typeof e==="string"&&e!==""}var i=document,l=encodeURIComponent,j=decodeURIComponent;c.Cookie={get:function(e){var h;if(k(e))if(e=i.cookie.match("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)"))h=e[1]?j(e[1]):"";return h},set:function(e,h,u,p,s,d){h=l(h);var m=u;if(typeof m==="number"){m=new Date;m.setTime(m.getTime()+u*864E5)}if(m instanceof Date)h+="; expires="+m.toUTCString();if(k(p))h+="; domain="+p;if(k(s))h+="; path="+s;if(d)h+="; secure";i.cookie=e+"="+
h},remove:function(e){this.set(e,"",0)}}});KISSY.add("ajax",function(c){var k=document,i=c.UA;c.Ajax={request:function(){c.error("not implemented")},getScript:function(l,j,e){var h=k.getElementsByTagName("head")[0]||k.documentElement,u=k.createElement("script");u.src=l;if(e)u.charset=e;u.async=true;if(c.isFunction(j))if(i.ie)u.onreadystatechange=function(){var p=u.readyState;if(p==="loaded"||p==="complete"){u.onreadystatechange=null;j()}};else u.onload=j;h.appendChild(u)}}});
