/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 654 May 12 17:27
*/
(function(d,o,m){if(d[o]===m)d[o]={};o=d[o];var j=d.document,h=function(i,n,t,u){if(!n||!i)return i;if(t===m)t=true;var v,f,q;if(u&&(q=u.length))for(v=0;v<q;v++){f=u[v];if(f in n)if(t||!(f in i))i[f]=n[f]}else for(f in n)if(t||!(f in i))i[f]=n[f];return i},l=false,p=[],r=false;h(o,{version:"1.0.5",_init:function(){this.Env={mods:{}}},add:function(i,n){this.Env.mods[i]={name:i,fn:n};n(this);return this},ready:function(i){r||this._bindReady();l?i.call(d,this):p.push(i);return this},_bindReady:function(){var i=
this,n=j.documentElement.doScroll,t=n?"onreadystatechange":"DOMContentLoaded";r=true;if(j.readyState==="complete")return i._fireReady();if(j.addEventListener){var u=function(){j.removeEventListener(t,u,false);i._fireReady()};j.addEventListener(t,u,false)}else{if(d!=d.top){var v=function(){if(j.readyState==="complete"){j.detachEvent(t,v);i._fireReady()}};j.attachEvent(t,v)}else{var f=function(){try{n("left");i._fireReady()}catch(q){setTimeout(f,1)}};f()}d.attachEvent("onload",function(){i._fireReady()})}},
_fireReady:function(){if(!l){l=true;if(p){for(var i,n=0;i=p[n++];)i.call(d,this);p=null}}},mix:h,merge:function(){var i={},n,t=arguments.length;for(n=0;n<t;++n)h(i,arguments[n]);return i},augment:function(i,n,t,u){h(i.prototype,n.prototype||n,t,u);return i},extend:function(i,n,t,u){if(!n||!i)return i;var v=Object.prototype,f=n.prototype,q=function(e){function b(){}b.prototype=e;return new b}(f);i.prototype=q;q.constructor=i;i.superclass=f;if(n!==Object&&f.constructor===v.constructor)f.constructor=
n;t&&h(q,t);u&&h(i,u);return i},namespace:function(){var i=arguments.length,n=null,t,u,v;for(t=0;t<i;++t){v=(""+arguments[t]).split(".");n=this;for(u=d[v[0]]===n?1:0;u<v.length;++u)n=n[v[u]]=n[v[u]]||{}}return n},app:function(i,n){var t=d[i]||{};h(t,this,true,["_init","add","namespace"]);t._init();return h(d[i]=t,typeof n==="function"?n():n)},log:function(i,n,t){if(this.Config.debug){if(t)i=t+": "+i;if(d.console!==m&&console.log)console[n&&console[n]?n:"log"](i)}return this},error:function(i){if(this.Config.debug)throw i;
}});o._init();o.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(d,o){function m(f){var q=typeof f;return f===null||q!=="object"&&q!=="function"}var j=window,h=document,l=location,p=Array.prototype,r=p.indexOf,i=p.filter,n=Object.prototype.toString,t=/^\s+|\s+$/g,u=/^(\w+)\[\]$/,v=/\S/;d.mix(d,{isBoolean:function(f){return typeof f==="boolean"},isString:function(f){return typeof f==="string"},isNumber:function(f){return typeof f==="number"&&isFinite(f)},isPlainObject:function(f){return f&&n.call(f)==="[object Object]"&&!f.nodeType&&
!f.setInterval},isEmptyObject:function(f){for(var q in f)return false;return true},isFunction:function(f){return typeof f==="function"},isArray:function(f){return n.call(f)==="[object Array]"},trim:String.prototype.trim?function(f){return(f||"").trim()}:function(f){return(f||"").replace(t,"")},each:function(f,q,e){for(var b=f&&f.length||0,g=0;g<b;++g)q.call(e||j,f[g],g,f)},indexOf:r?function(f,q){return r.call(q,f)}:function(f,q){for(var e=0,b=q.length;e<b;++e)if(q[e]===f)return e;return-1},inArray:function(f,
q){return d.indexOf(f,q)!==-1},makeArray:function(f){if(f===null||f===o)return[];if(d.isArray(f))return f;if(typeof f.length!=="number"||typeof f==="string"||d.isFunction(f))return[f];if(f.item&&d.UA.ie){for(var q=[],e=0,b=f.length;e<b;++e)q[e]=f[e];return q}return p.slice.call(f)},filter:i?function(f,q,e){return i.call(f,q,e)}:function(f,q,e){var b=[];d.each(f,function(g,a,c){q.call(e,g,a,c)&&b.push(g)});return b},param:function(f){if(!d.isPlainObject(f))return"";var q=[],e,b;for(e in f){b=f[e];
if(m(b))q.push(e,"=",b+"","&");else if(d.isArray(b)&&b.length)for(var g=0,a=b.length;g<a;++g)m(b[g])&&q.push(e+"[]=",b[g]+"","&")}q.pop();return encodeURI(q.join(""))},unparam:function(f,q){if(typeof f!=="string"||(f=decodeURI(d.trim(f))).length===0)return{};var e={};f=f.split(q||"&");for(var b,g,a=0,c=f.length;a<c;++a){b=f[a].split("=");q=b[0];b=b[1]||"";if((g=q.match(u))&&g[1]){e[g[1]]=e[g[1]]||[];e[g[1]].push(b)}else e[q]=b}return e},later:function(f,q,e,b,g){q=q||0;b=b||{};var a=f,c=d.makeArray(g),
k;if(typeof f==="string")a=b[f];a||d.error("method undefined");f=function(){a.apply(b,c)};k=e?setInterval(f,q):setTimeout(f,q);return{id:k,interval:e,cancel:function(){this.interval?clearInterval(k):clearTimeout(k)}}},now:function(){return(new Date).getTime()},globalEval:function(f){if(f&&v.test(f)){var q=h.getElementsByTagName("head")[0]||h.documentElement,e=h.createElement("script");e.text=f;q.insertBefore(e,q.firstChild);q.removeChild(e)}}});if(l&&l.search&&l.search.indexOf("ks-debug")!==-1)d.Config.debug=
true});
KISSY.add("kissy-ua",function(d){var o=navigator.userAgent,m,j={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},h=function(l){var p=0;return parseFloat(l.replace(/\./g,function(){return p++===0?".":""}))};if((m=o.match(/AppleWebKit\/([\d.]*)/))&&m[1]){j.webkit=h(m[1]);if((m=o.match(/Chrome\/([\d.]*)/))&&m[1])j.chrome=h(m[1]);else if((m=o.match(/\/([\d.]*) Safari/))&&m[1])j.safari=h(m[1]);if(/ Mobile\//.test(o))j.mobile="Apple";else if(m=o.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))j.mobile=m[0]}else if((m=
o.match(/Opera\/.* Version\/([\d.]*)/))&&m[1]){j.opera=h(m[1]);if(o.match(/Opera Mini[^;]*/))j.mobile=m[0]}else if((m=o.match(/MSIE\s([^;]*)/))&&m[1])j.ie=h(m[1]);else if(m=o.match(/Gecko/)){j.gecko=1;if((m=o.match(/rv:([\d.]*)/))&&m[1])j.gecko=h(m[1]);if((m=o.match(/Firefox\/([\d.]*)/))&&m[1])j.firefox=h(m[1])}d.UA=j});
KISSY.add("selector",function(d,o){function m(e,b,g){var a,c=[],k,s;if(typeof e===t){e=d.trim(e);if(f.test(e)){if(b=h(e.slice(1)))c=[b]}else if(a=q.exec(e)){k=a[1];s=a[2];a=a[3];if(b=k?h(k):j(b))if(a){if(!k||e.indexOf(u)!==-1)c=p(a,s,b)}else if(s)c=l(b,s)}else if(e.indexOf(",")>-1)if(n.querySelectorAll)c=n.querySelectorAll(e);else{k=e.split(",");s=[];c=0;for(e=k.length;c<e;++c)s=s.concat(m(k[c],b));c=r(s)}}else if(e&&e.nodeType)c=[e];else if(e&&e.item)c=e;if(c.item)c=d.makeArray(c);g||i(c);return c}
function j(e){if(e===o)e=n;else if(typeof e===t&&f.test(e))e=h(e.slice(1));else if(e&&e.nodeType!==1&&e.nodeType!==9)e=null;return e}function h(e){return n.getElementById(e)}function l(e,b){return e.getElementsByTagName(b)}function p(e,b,g){g=e=g.getElementsByClassName(e);var a=0,c=0,k=e.length,s;if(b&&b!==v){g=[];for(b=b.toUpperCase();a<k;++a){s=e[a];if(s.tagName===b)g[c++]=s}}return g}function r(e){var b=false;e.sort(function(a,c){a=a.sourceIndex-c.sourceIndex;if(a===0)b=true;return a});if(b)for(var g=
1;g<e.length;g++)e[g]===e[g-1]&&e.splice(g--,1);return e}function i(e){e.each=function(b,g){d.each(e,b,g)}}var n=document,t="string",u=" ",v="*",f=/^#[\w-]+$/,q=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var e=n.createElement("div");e.appendChild(n.createComment(""));if(e.getElementsByTagName(v).length>0)l=function(b,g){b=b.getElementsByTagName(g);if(g===v){g=[];for(var a=0,c=0,k;k=b[a++];)if(k.nodeType===1)g[c++]=k;b=g}return b}})();n.getElementsByClassName||(p=n.querySelectorAll?
function(e,b,g){return g.querySelectorAll((b?b:"")+"."+e)}:function(e,b,g){b=g.getElementsByTagName(b||v);g=[];var a=0,c=0,k=b.length,s,w;for(e=u+e+u;a<k;++a){s=b[a];if((w=s.className)&&(u+w+u).indexOf(e)>-1)g[c++]=s}return g});d.query=m;d.get=function(e,b){return m(e,b,true)[0]||null}});
KISSY.add("dom-base",function(d,o){function m(a,c){return c&&c.nodeName.toUpperCase()===a.toUpperCase()}function j(a,c){for(var k=[],s=0;a;a=a.nextSibling)if(a.nodeType===1&&a!==c)k[s++]=a;return k}function h(a,c,k){c=c||0;for(var s=0;a;a=a[k])if(a.nodeType===1&&s++===c)break;return a}function l(a,c){var k=null,s;if(a&&(a.push||a.item)&&a[0]){c=c||a[0].ownerDocument;k=c.createDocumentFragment();if(a.item)a=d.makeArray(a);c=0;for(s=a.length;c<s;++c)k.appendChild(a[c])}else d.error("unable to convert "+
a+" to fragment");return k}var p=document,r=p.documentElement.textContent!==o?"textContent":"innerText",i=d.UA,n=i.ie,t=n&&n<8,u={readonly:"readOnly"},v=/href|src|style/,f=/href|src|colspan|rowspan/,q=/\r/g,e=/radio|checkbox/,b=p.createElement("DIV"),g=/^[a-z]+$/i;t&&d.mix(u,{"for":"htmlFor","class":"className"});d.DOM={query:d.query,get:d.get,attr:function(a,c,k){if(!a||a.nodeType!==1)return o;var s;c=c.toLowerCase();c=u[c]||c;if(k===o){if(v.test(c)){if(c==="style")s=a.style.cssText}else s=a[c];
if(s===o)s=a.getAttribute(c);if(t&&f.test(c))s=a.getAttribute(c,2);return s===null?o:s}if(c==="style")a.style.cssText=k;else a.setAttribute(c,""+k)},removeAttr:function(a,c){a&&a.nodeType===1&&a.removeAttribute(c)},val:function(a,c){if(!a||a.nodeType!==1)return o;if(c===o){if(m("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(m("select",a)){c=a.selectedIndex;var k=a.options;if(c<0)return null;else if(a.type==="select-one")return d.DOM.val(k[c]);a=[];c=0;for(var s=k.length;c<
s;++c)k[c].selected&&a.push(d.DOM.val(k[c]));return a}if(i.webkit&&e.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(q,"")}if(m("select",a)){k=d.makeArray(c);var w=a.options,x;c=0;for(s=w.length;c<s;++c){x=w[c];x.selected=d.inArray(d.DOM.val(x),k)}if(!k.length)a.selectedIndex=-1}else a.value=c},css:function(a,c,k){if(k===o)return a.style[c];d.each(d.makeArray(a),function(s){s.style[c]=k})},text:function(a,c){if(c===o)return(a||{})[r]||"";if(a)a[r]=c},html:function(a,
c){if(c===o)return a.innerHTML;a.innerHTML=c},children:function(a){if(a.children)return d.makeArray(a.children);return j(a.firstChild)},siblings:function(a){return j(a.parentNode.firstChild,a)},next:function(a){return h(a,1,"nextSibling")},prev:function(a){return h(a,1,"previousSibling")},parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},create:function(a,c){if(typeof a==="string")a=d.trim(a);if(g.test(a))return(c||p).createElement(a);var k=null;k=c?c.createElement("DIV"):b;k.innerHTML=
a;a=k.childNodes;return k=a.length===1?a[0].parentNode.removeChild(a[0]):l(a,c||p)},addStyleSheet:function(a,c){var k=p.getElementsByTagName("head")[0],s=p.createElement("style");c&&(s.id=c);k.appendChild(s);if(s.styleSheet)s.styleSheet.cssText=a;else s.appendChild(p.createTextNode(a))}}});
KISSY.add("dom-class",function(d,o){function m(r,i,n){if(d.isArray(r)){d.each(r,function(){i.apply(n,Array.prototype.slice.call(arguments,3))});return true}}var j=d.DOM;d.mix(j,{hasClass:function(r,i){if(!i||!r||!r.className)return false;return(" "+r.className+" ").indexOf(" "+i+" ")>-1},addClass:function(r,i){if(!m(r,l,j,i))if(i&&r)h(r,i)||(r.className+=" "+i)},removeClass:function(r,i){if(!m(r,p,j,i))if(h(r,i)){r.className=(" "+r.className+" ").replace(" "+i+" "," ");h(r,i)&&p(r,i)}},replaceClass:function(r,
i,n){p(r,i);l(r,n)},toggleClass:function(r,i,n){m(r,j.toggleClass,j,i,n)||((n!==o?n:!h(r,i))?l(r,i):p(r,i))}});var h=j.hasClass,l=j.addClass,p=j.removeClass});
KISSY.add("event",function(d,o){function m(b,g,a,c){if(d.isString(g))g=d.query(g);if(d.isArray(g)){d.each(g,function(k){e[b](k,a,c)});return true}if((a=d.trim(a))&&a.indexOf(v)>0){d.each(a.split(v),function(k){e[b](g,k,c)});return true}}function j(b){var g=-1;if(b.nodeType===3||b.nodeType===8)return g;return g=b.nodeType?p.attr(b,u):b.isCustomEventTarget?b.eventTargetId:b[u]}function h(b,g){if(b.nodeType===3||b.nodeType===8)return d.error("Text or comment node is not valid event target.");if(b.nodeType)p.attr(b,
u,g);else if(b.isCustomEventTarget)b.eventTargetId=g;else try{b[u]=g}catch(a){d.error(a)}}function l(b){if(b.nodeType)p.removeAttr(b,u);else if(b.isCustomEventTarget)b.eventTargetId=o;else b[u]=o}var p=d.DOM,r=window,i=document,n=i.addEventListener?function(b,g,a){b.addEventListener&&b.addEventListener(g,a,false)}:function(b,g,a){b.attachEvent&&b.attachEvent("on"+g,a)},t=i.removeEventListener?function(b,g,a){b.removeEventListener&&b.removeEventListener(g,a,false)}:function(b,g,a){b.detachEvent&&b.detachEvent("on"+
g,a)},u="data-ks-event-guid",v=" ",f=d.now(),q={},e={special:{},add:function(b,g,a){if(!m("add",b,g,a)){var c=j(b),k,s;if(!(c===-1||!g||!d.isFunction(a))){if(!c){h(b,c=f++);q[c]={target:b,events:{}}}s=q[c].events;k=!b.isCustomEventTarget&&e.special[g]||{};if(!s[g]){c=function(w,x){if(!w||!w.fixed){w=new d.EventObject(b,w,g);d.isPlainObject(x)&&d.mix(w,x)}k.setup&&k.setup(w);return(k.handle||e._handle)(b,w,s[g].listeners)};s[g]={handle:c,listeners:[]};if(b.isCustomEventTarget)b._addEvent&&b._addEvent(g,
c);else n(b,k.fix||g,c)}s[g].listeners.push(a)}}},remove:function(b,g,a){if(!m("remove",b,g,a)){var c=j(b),k,s,w,x,y,z;if(c!==-1)if(c&&(k=q[c]))if(k.target===b){k=k.events||{};if(s=k[g]){w=s.listeners;y=w.length;if(d.isFunction(a)&&y&&d.inArray(a,w)){z=[];for(x=0;x<y;++x)a!==w[x]&&z.push(w[x]);y=z.length}if(a===o||y===0){b.isCustomEventTarget||t(b,g,s.handle);delete q[c].type}}if(g===o||d.isEmptyObject(k)){for(g in k)e.remove(b,g);delete q[c];l(b)}}}},_handle:function(b,g,a){for(var c,k=0,s=a.length;k<
s;++k){c=a[k].call(b,g);if(g.isImmediatePropagationStopped)break;c===false&&g.halt()}return c},_getCache:function(b){return q[b]},_simpleAdd:n,_simpleRemove:t};e.on=e.add;d.Event=e;r.attachEvent&&!r.addEventListener&&r.attachEvent("onunload",function(){var b,g;for(b in q)if(g=q[b].target)try{e.remove(g)}catch(a){}})});
KISSY.add("event-object",function(d,o){function m(l,p,r){this.currentTarget=l;this.originalEvent=p||{};if(p){this.type=p.type;this._fix()}else{this.type=r;this.target=l}this.fixed=true}var j=document,h="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
d.mix(m.prototype,{_fix:function(){for(var l=this.originalEvent,p=h.length,r;p;){r=h[--p];this[r]=l[r]}if(!this.target)this.target=this.srcElement||j;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===o&&this.clientX!==o){l=j.documentElement;p=j.body;this.pageX=this.clientX+(l&&l.scrollLeft||p&&p.scrollLeft||0)-(l&&l.clientLeft||p&&p.clientLeft||0);
this.pageY=this.clientY+(l&&l.scrollTop||p&&p.scrollTop||0)-(l&&l.clientTop||p&&p.clientTop||0)}if(this.which===o)this.which=this.charCode!==o?this.charCode:this.keyCode;if(this.metaKey===o)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==o)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var l=this.originalEvent;if(l.preventDefault)l.preventDefault();else l.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var l=this.originalEvent;
if(l.stopPropagation)l.stopPropagation();else l.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var l=this.originalEvent;l.stopImmediatePropagation?l.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(l){l?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});d.EventObject=m});
KISSY.add("event-target",function(d,o){var m=d.Event;d.EventTarget={eventTargetId:o,isCustomEventTarget:true,fire:function(j,h){if((j=((m._getCache(this.eventTargetId||-1)||{}).events||{})[j])&&d.isFunction(j.handle))return j.handle(o,h)},on:function(j,h){m.add(this,j,h)},detach:function(j,h){m.remove(this,j,h)}}});
KISSY.add("event-mouseenter",function(d){var o=d.Event;d.UA.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(m){o.special[m.name]={fix:m.fix,setup:function(j){j.type=m.name},handle:function(j,h,l){var p=h.relatedTarget;try{for(;p&&p!==j;)p=p.parentNode;p!==j&&o._handle(j,h,l)}catch(r){}}}})});
KISSY.add("node",function(d){function o(h,l,p){var r;if(!(this instanceof o))return new o(h,l,p);if(!h)return null;if(h.nodeType)r=h;else if(typeof h==="string")r=m.create(h,p);l&&d.error("not implemented");this[0]=r}var m=d.DOM,j=o.prototype;d.each(["attr","removeAttr","css"],function(h){j[h]=function(l,p){var r=this[0];if(p===undefined)return m[h](r,l);else{m[h](r,l,p);return this}}});d.each(["val","text","html"],function(h){j[h]=function(l){var p=this[0];if(l===undefined)return m[h](p);else{m[h](p,
l);return this}}});d.each(["children","siblings","next","prev","parent"],function(h){j[h]=function(){var l=m[h](this[0]);return l?new d[l.length?"NodeList":"Node"](l):null}});d.each(["hasClass","addClass","removeClass","replaceClass","toggleClass"],function(h){j[h]=function(){var l=m[h].apply(m,[this[0]].concat(d.makeArray(arguments)));return typeof l==="boolean"?l:this}});d.mix(j,d.EventTarget);j._addEvent=function(h,l){d.Event._simpleAdd(this[0],h,l)};delete j.fire;d.mix(j,{one:function(h){return d.one(h,
this[0])},all:function(h){return d.all(h,this[0])},appendTo:function(h){if((h=d.get(h))&&h.appendChild)h.appendChild(this[0]);return this}});d.one=function(h,l){return new o(d.get(h,l))};d.Node=o});
KISSY.add("nodelist",function(d){function o(j){if(!(this instanceof o))return new o(j);m.apply(this,j||[])}var m=Array.prototype.push;d.mix(o.prototype,{length:0,each:function(j,h){for(var l=this.length,p=0,r;p<l;++p){r=new d.Node(this[p]);j.call(h||r,r,p,this)}return this}});d.all=function(j,h){return new o(d.query(j,h,true))};d.NodeList=o});
