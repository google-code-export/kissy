/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 661 May 17 18:30
*/
(function(f,n,l){if(f[n]===l)f[n]={};n=f[n];var j=f.document,g=function(h,m,r,s){if(!m||!h)return h;if(r===l)r=true;var t,u,w;if(s&&(w=s.length))for(t=0;t<w;t++){u=s[t];if(u in m)if(r||!(u in h))h[u]=m[u]}else for(u in m)if(r||!(u in h))h[u]=m[u];return h},k=false,o=[],q=false;g(n,{version:"1.0.5",_init:function(){this.Env={mods:{}}},add:function(h,m){this.Env.mods[h]={name:h,fn:m};m(this);return this},ready:function(h){q||this._bindReady();k?h.call(f,this):o.push(h);return this},_bindReady:function(){var h=
this,m=j.documentElement.doScroll,r=m?"onreadystatechange":"DOMContentLoaded";q=true;if(j.readyState==="complete")return h._fireReady();if(j.addEventListener){var s=function(){j.removeEventListener(r,s,false);h._fireReady()};j.addEventListener(r,s,false)}else{if(f!=f.top){var t=function(){if(j.readyState==="complete"){j.detachEvent(r,t);h._fireReady()}};j.attachEvent(r,t)}else{var u=function(){try{m("left");h._fireReady()}catch(w){setTimeout(u,1)}};u()}f.attachEvent("onload",function(){h._fireReady()})}},
_fireReady:function(){if(!k){k=true;if(o){for(var h,m=0;h=o[m++];)h.call(f,this);o=null}}},mix:g,merge:function(){var h={},m,r=arguments.length;for(m=0;m<r;++m)g(h,arguments[m]);return h},augment:function(h,m,r,s){g(h.prototype,m.prototype||m,r,s);return h},extend:function(h,m,r,s){if(!m||!h)return h;var t=Object.prototype,u=m.prototype,w=function(b){function c(){}c.prototype=b;return new c}(u);h.prototype=w;w.constructor=h;h.superclass=u;if(m!==Object&&u.constructor===t.constructor)u.constructor=
m;r&&g(w,r);s&&g(h,s);return h},namespace:function(){var h=arguments.length,m=null,r,s,t;for(r=0;r<h;++r){t=(""+arguments[r]).split(".");m=this;for(s=f[t[0]]===m?1:0;s<t.length;++s)m=m[t[s]]=m[t[s]]||{}}return m},app:function(h,m){var r=f[h]||{};g(r,this,true,["_init","add","namespace"]);r._init();return g(f[h]=r,typeof m==="function"?m():m)},log:function(h,m,r){if(this.Config.debug){if(r)h=r+": "+h;if(f.console!==l&&console.log)console[m&&console[m]?m:"log"](h)}return this},error:function(h){if(this.Config.debug)throw h;
}});n._init();n.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(f,n){function l(b){var c=typeof b;return b===null||c!=="object"&&c!=="function"}var j=window,g=document,k=location,o=Array.prototype,q=o.indexOf,h=o.filter,m=Object.prototype.toString,r=encodeURIComponent,s=decodeURIComponent,t=/^\s+|\s+$/g,u=/^(\w+)\[\]$/,w=/\S/;f.mix(f,{isBoolean:function(b){return typeof b==="boolean"},isString:function(b){return typeof b==="string"},isNumber:function(b){return typeof b==="number"&&isFinite(b)},isPlainObject:function(b){return b&&
m.call(b)==="[object Object]"&&!b.nodeType&&!b.setInterval},isEmptyObject:function(b){for(var c in b)return false;return true},isFunction:function(b){return typeof b==="function"},isArray:function(b){return m.call(b)==="[object Array]"},trim:String.prototype.trim?function(b){return(b||"").trim()}:function(b){return(b||"").replace(t,"")},each:function(b,c,e){for(var a=b&&b.length||0,d=0;d<a;++d)c.call(e||j,b[d],d,b)},indexOf:q?function(b,c){return q.call(c,b)}:function(b,c){for(var e=0,a=c.length;e<
a;++e)if(c[e]===b)return e;return-1},inArray:function(b,c){return f.indexOf(b,c)!==-1},makeArray:function(b){if(b===null||b===n)return[];if(f.isArray(b))return b;if(typeof b.length!=="number"||typeof b==="string"||f.isFunction(b))return[b];if(b.item&&f.UA.ie){for(var c=[],e=0,a=b.length;e<a;++e)c[e]=b[e];return c}return o.slice.call(b)},filter:h?function(b,c,e){return h.call(b,c,e)}:function(b,c,e){var a=[];f.each(b,function(d,i,p){c.call(e,d,i,p)&&a.push(d)});return a},param:function(b){if(!f.isPlainObject(b))return"";
var c=[],e,a;for(e in b){a=b[e];e=r(e);if(l(a))c.push(e,"=",r(a+""),"&");else if(f.isArray(a)&&a.length)for(var d=0,i=a.length;d<i;++d)l(a[d])&&c.push(e,"[]=",r(a[d]+""),"&")}c.pop();return c.join("")},unparam:function(b,c){if(typeof b!=="string"||(b=f.trim(b)).length===0)return{};var e={};b=b.split(c||"&");for(var a,d,i=0,p=b.length;i<p;++i){a=b[i].split("=");c=s(a[0]);a=s(a[1]||"");if((d=c.match(u))&&d[1]){e[d[1]]=e[d[1]]||[];e[d[1]].push(a)}else e[c]=a}return e},later:function(b,c,e,a,d){c=c||
0;a=a||{};var i=b,p=f.makeArray(d),v;if(typeof b==="string")i=a[b];i||f.error("method undefined");b=function(){i.apply(a,p)};v=e?setInterval(b,c):setTimeout(b,c);return{id:v,interval:e,cancel:function(){this.interval?clearInterval(v):clearTimeout(v)}}},now:function(){return(new Date).getTime()},globalEval:function(b){if(b&&w.test(b)){var c=g.getElementsByTagName("head")[0]||g.documentElement,e=g.createElement("script");e.text=b;c.insertBefore(e,c.firstChild);c.removeChild(e)}}});if(k&&k.search&&k.search.indexOf("ks-debug")!==
-1)f.Config.debug=true});
KISSY.add("kissy-ua",function(f){var n=navigator.userAgent,l,j={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},g=function(k){var o=0;return parseFloat(k.replace(/\./g,function(){return o++===0?".":""}))};if((l=n.match(/AppleWebKit\/([\d.]*)/))&&l[1]){j.webkit=g(l[1]);if((l=n.match(/Chrome\/([\d.]*)/))&&l[1])j.chrome=g(l[1]);else if((l=n.match(/\/([\d.]*) Safari/))&&l[1])j.safari=g(l[1]);if(/ Mobile\//.test(n))j.mobile="Apple";else if(l=n.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))j.mobile=l[0]}else if((l=
n.match(/Opera\/.* Version\/([\d.]*)/))&&l[1]){j.opera=g(l[1]);if(n.match(/Opera Mini[^;]*/))j.mobile=l[0]}else if((l=n.match(/MSIE\s([^;]*)/))&&l[1])j.ie=g(l[1]);else if(l=n.match(/Gecko/)){j.gecko=1;if((l=n.match(/rv:([\d.]*)/))&&l[1])j.gecko=g(l[1]);if((l=n.match(/Firefox\/([\d.]*)/))&&l[1])j.firefox=g(l[1])}f.UA=j});
KISSY.add("selector",function(f,n){function l(b,c,e){var a,d=[],i,p;if(typeof b===r){b=f.trim(b);if(u.test(b)){if(c=g(b.slice(1)))d=[c]}else if(a=w.exec(b)){i=a[1];p=a[2];a=a[3];if(c=i?g(i):j(c))if(a){if(!i||b.indexOf(s)!==-1)d=o(a,p,c)}else if(p)d=k(c,p)}else if(b.indexOf(",")>-1)if(m.querySelectorAll)d=m.querySelectorAll(b);else{i=b.split(",");p=[];d=0;for(b=i.length;d<b;++d)p=p.concat(l(i[d],c));d=q(p)}}else if(b&&b.nodeType)d=[b];else if(b&&b.item)d=b;if(d.item)d=f.makeArray(d);e||h(d);return d}
function j(b){if(b===n)b=m;else if(typeof b===r&&u.test(b))b=g(b.slice(1));else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function g(b){return m.getElementById(b)}function k(b,c){return b.getElementsByTagName(c)}function o(b,c,e){e=b=e.getElementsByClassName(b);var a=0,d=0,i=b.length,p;if(c&&c!==t){e=[];for(c=c.toUpperCase();a<i;++a){p=b[a];if(p.tagName===c)e[d++]=p}}return e}function q(b){var c=false;b.sort(function(a,d){a=a.sourceIndex-d.sourceIndex;if(a===0)c=true;return a});if(c)for(var e=
1;e<b.length;e++)b[e]===b[e-1]&&b.splice(e--,1);return b}function h(b){b.each=function(c,e){f.each(b,c,e)}}var m=document,r="string",s=" ",t="*",u=/^#[\w-]+$/,w=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=m.createElement("div");b.appendChild(m.createComment(""));if(b.getElementsByTagName(t).length>0)k=function(c,e){c=c.getElementsByTagName(e);if(e===t){e=[];for(var a=0,d=0,i;i=c[a++];)if(i.nodeType===1)e[d++]=i;c=e}return c}})();m.getElementsByClassName||(o=m.querySelectorAll?
function(b,c,e){return e.querySelectorAll((c?c:"")+"."+b)}:function(b,c,e){c=e.getElementsByTagName(c||t);e=[];var a=0,d=0,i=c.length,p,v;for(b=s+b+s;a<i;++a){p=c[a];if((v=p.className)&&(s+v+s).indexOf(b)>-1)e[d++]=p}return e});f.query=l;f.get=function(b,c){return l(b,c,true)[0]||null}});
KISSY.add("dom-base",function(f,n){function l(a,d){return d&&d.nodeName.toUpperCase()===a.toUpperCase()}function j(a,d){for(var i=[],p=0;a;a=a.nextSibling)if(a.nodeType===1&&a!==d)i[p++]=a;return i}function g(a,d,i){d=d||0;for(var p=0;a;a=a[i])if(a.nodeType===1&&p++===d)break;return a}function k(a,d){var i=null,p;if(a&&(a.push||a.item)&&a[0]){d=d||a[0].ownerDocument;i=d.createDocumentFragment();if(a.item)a=f.makeArray(a);d=0;for(p=a.length;d<p;++d)i.appendChild(a[d])}else f.error("unable to convert "+
a+" to fragment");return i}var o=document,q=o.documentElement.textContent!==n?"textContent":"innerText",h=f.UA,m=h.ie,r=m&&m<8,s={readonly:"readOnly"},t=/href|src|style/,u=/href|src|colspan|rowspan/,w=/\r/g,b=/radio|checkbox/,c=o.createElement("DIV"),e=/^[a-z]+$/i;r&&f.mix(s,{"for":"htmlFor","class":"className"});f.DOM={query:f.query,get:f.get,attr:function(a,d,i){if(!a||a.nodeType!==1)return n;var p;d=d.toLowerCase();d=s[d]||d;if(i===n){if(t.test(d)){if(d==="style")p=a.style.cssText}else p=a[d];
if(p===n)p=a.getAttribute(d);if(r&&u.test(d))p=a.getAttribute(d,2);return p===null?n:p}if(d==="style")a.style.cssText=i;else a.setAttribute(d,""+i)},removeAttr:function(a,d){a&&a.nodeType===1&&a.removeAttribute(d)},val:function(a,d){if(!a||a.nodeType!==1)return n;if(d===n){if(l("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(l("select",a)){d=a.selectedIndex;var i=a.options;if(d<0)return null;else if(a.type==="select-one")return f.DOM.val(i[d]);a=[];d=0;for(var p=i.length;d<
p;++d)i[d].selected&&a.push(f.DOM.val(i[d]));return a}if(h.webkit&&b.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(w,"")}if(l("select",a)){i=f.makeArray(d);var v=a.options,x;d=0;for(p=v.length;d<p;++d){x=v[d];x.selected=f.inArray(f.DOM.val(x),i)}if(!i.length)a.selectedIndex=-1}else a.value=d},css:function(a,d,i){if(i===n)return a.style[d];f.each(f.makeArray(a),function(p){p.style[d]=i})},text:function(a,d){if(d===n)return(a||{})[q]||"";if(a)a[q]=d},html:function(a,
d){if(d===n)return a.innerHTML;a.innerHTML=d},children:function(a){if(a.children)return f.makeArray(a.children);return j(a.firstChild)},siblings:function(a){return j(a.parentNode.firstChild,a)},next:function(a){return g(a,1,"nextSibling")},prev:function(a){return g(a,1,"previousSibling")},parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},create:function(a,d){if(typeof a==="string")a=f.trim(a);if(e.test(a))return(d||o).createElement(a);var i=null;i=d?d.createElement("DIV"):c;i.innerHTML=
a;a=i.childNodes;return i=a.length===1?a[0].parentNode.removeChild(a[0]):k(a,d||o)},addStyleSheet:function(a,d){var i=o.getElementsByTagName("head")[0],p=o.createElement("style");d&&(p.id=d);i.appendChild(p);if(p.styleSheet)p.styleSheet.cssText=a;else p.appendChild(o.createTextNode(a))}}});
KISSY.add("dom-class",function(f,n){function l(q,h,m){if(f.isArray(q)){f.each(q,function(){h.apply(m,Array.prototype.slice.call(arguments,3))});return true}}var j=f.DOM;f.mix(j,{hasClass:function(q,h){if(!h||!q||!q.className)return false;return(" "+q.className+" ").indexOf(" "+h+" ")>-1},addClass:function(q,h){if(!l(q,k,j,h))if(h&&q)g(q,h)||(q.className+=" "+h)},removeClass:function(q,h){if(!l(q,o,j,h))if(g(q,h)){q.className=(" "+q.className+" ").replace(" "+h+" "," ");g(q,h)&&o(q,h)}},replaceClass:function(q,
h,m){o(q,h);k(q,m)},toggleClass:function(q,h,m){l(q,j.toggleClass,j,h,m)||((m!==n?m:!g(q,h))?k(q,h):o(q,h))}});var g=j.hasClass,k=j.addClass,o=j.removeClass});
KISSY.add("event",function(f,n){function l(c,e,a,d){if(f.isString(e))e=f.query(e);if(f.isArray(e)){f.each(e,function(i){b[c](i,a,d)});return true}if((a=f.trim(a))&&a.indexOf(t)>0){f.each(a.split(t),function(i){b[c](e,i,d)});return true}}function j(c){var e=-1;if(c.nodeType===3||c.nodeType===8)return e;return e=c.nodeType?o.attr(c,s):c.isCustomEventTarget?c.eventTargetId:c[s]}function g(c,e){if(c.nodeType===3||c.nodeType===8)return f.error("Text or comment node is not valid event target.");if(c.nodeType)o.attr(c,
s,e);else if(c.isCustomEventTarget)c.eventTargetId=e;else try{c[s]=e}catch(a){f.error(a)}}function k(c){if(c.nodeType)o.removeAttr(c,s);else if(c.isCustomEventTarget)c.eventTargetId=n;else c[s]=n}var o=f.DOM,q=window,h=document,m=h.addEventListener?function(c,e,a){c.addEventListener&&c.addEventListener(e,a,false)}:function(c,e,a){c.attachEvent&&c.attachEvent("on"+e,a)},r=h.removeEventListener?function(c,e,a){c.removeEventListener&&c.removeEventListener(e,a,false)}:function(c,e,a){c.detachEvent&&c.detachEvent("on"+
e,a)},s="data-ks-event-guid",t=" ",u=f.now(),w={},b={special:{},add:function(c,e,a){if(!l("add",c,e,a)){var d=j(c),i,p;if(!(d===-1||!e||!f.isFunction(a))){if(!d){g(c,d=u++);w[d]={target:c,events:{}}}p=w[d].events;i=!c.isCustomEventTarget&&b.special[e]||{};if(!p[e]){d=function(v,x){if(!v||!v.fixed){v=new f.EventObject(c,v,e);f.isPlainObject(x)&&f.mix(v,x)}i.setup&&i.setup(v);return(i.handle||b._handle)(c,v,p[e].listeners)};p[e]={handle:d,listeners:[]};if(c.isCustomEventTarget)c._addEvent&&c._addEvent(e,
d);else m(c,i.fix||e,d)}p[e].listeners.push(a)}}},remove:function(c,e,a){if(!l("remove",c,e,a)){var d=j(c),i,p,v,x,y,z;if(d!==-1)if(d&&(i=w[d]))if(i.target===c){i=i.events||{};if(p=i[e]){v=p.listeners;y=v.length;if(f.isFunction(a)&&y&&f.inArray(a,v)){z=[];for(x=0;x<y;++x)a!==v[x]&&z.push(v[x]);y=z.length}if(a===n||y===0){c.isCustomEventTarget||r(c,e,p.handle);delete w[d].type}}if(e===n||f.isEmptyObject(i)){for(e in i)b.remove(c,e);delete w[d];k(c)}}}},_handle:function(c,e,a){for(var d,i=0,p=a.length;i<
p;++i){d=a[i].call(c,e);if(e.isImmediatePropagationStopped)break;d===false&&e.halt()}return d},_getCache:function(c){return w[c]},_simpleAdd:m,_simpleRemove:r};b.on=b.add;f.Event=b;q.attachEvent&&!q.addEventListener&&q.attachEvent("onunload",function(){var c,e;for(c in w)if(e=w[c].target)try{b.remove(e)}catch(a){}})});
KISSY.add("event-object",function(f,n){function l(k,o,q){this.currentTarget=k;this.originalEvent=o||{};if(o){this.type=o.type;this._fix()}else{this.type=q;this.target=k}this.fixed=true}var j=document,g="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
f.mix(l.prototype,{_fix:function(){for(var k=this.originalEvent,o=g.length,q;o;){q=g[--o];this[q]=k[q]}if(!this.target)this.target=this.srcElement||j;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===n&&this.clientX!==n){k=j.documentElement;o=j.body;this.pageX=this.clientX+(k&&k.scrollLeft||o&&o.scrollLeft||0)-(k&&k.clientLeft||o&&o.clientLeft||0);
this.pageY=this.clientY+(k&&k.scrollTop||o&&o.scrollTop||0)-(k&&k.clientTop||o&&o.clientTop||0)}if(this.which===n)this.which=this.charCode!==n?this.charCode:this.keyCode;if(this.metaKey===n)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==n)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=this.originalEvent;
if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});f.EventObject=l});
KISSY.add("event-target",function(f,n){var l=f.Event;f.EventTarget={eventTargetId:n,isCustomEventTarget:true,fire:function(j,g){if((j=((l._getCache(this.eventTargetId||-1)||{}).events||{})[j])&&f.isFunction(j.handle))return j.handle(n,g)},on:function(j,g){l.add(this,j,g)},detach:function(j,g){l.remove(this,j,g)}}});
KISSY.add("event-mouseenter",function(f){var n=f.Event;f.UA.ie||f.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(l){n.special[l.name]={fix:l.fix,setup:function(j){j.type=l.name},handle:function(j,g,k){var o=g.relatedTarget;try{for(;o&&o!==j;)o=o.parentNode;o!==j&&n._handle(j,g,k)}catch(q){}}}})});
KISSY.add("node",function(f){function n(g,k,o){var q;if(!(this instanceof n))return new n(g,k,o);if(!g)return null;if(g.nodeType)q=g;else if(typeof g==="string")q=l.create(g,o);k&&f.error("not implemented");this[0]=q}var l=f.DOM,j=n.prototype;f.each(["attr","removeAttr","css"],function(g){j[g]=function(k,o){var q=this[0];if(o===undefined)return l[g](q,k);else{l[g](q,k,o);return this}}});f.each(["val","text","html"],function(g){j[g]=function(k){var o=this[0];if(k===undefined)return l[g](o);else{l[g](o,
k);return this}}});f.each(["children","siblings","next","prev","parent"],function(g){j[g]=function(){var k=l[g](this[0]);return k?new f[k.length?"NodeList":"Node"](k):null}});f.each(["hasClass","addClass","removeClass","replaceClass","toggleClass"],function(g){j[g]=function(){var k=l[g].apply(l,[this[0]].concat(f.makeArray(arguments)));return typeof k==="boolean"?k:this}});f.mix(j,f.EventTarget);j._addEvent=function(g,k){f.Event._simpleAdd(this[0],g,k)};delete j.fire;f.mix(j,{one:function(g){return f.one(g,
this[0])},all:function(g){return f.all(g,this[0])},appendTo:function(g){if((g=f.get(g))&&g.appendChild)g.appendChild(this[0]);return this}});f.one=function(g,k){return new n(f.get(g,k))};f.Node=n});
KISSY.add("nodelist",function(f){function n(j){if(!(this instanceof n))return new n(j);l.apply(this,j||[])}var l=Array.prototype.push;f.mix(n.prototype,{length:0,each:function(j,g){for(var k=this.length,o=0,q;o<k;++o){q=new f.Node(this[o]);j.call(g||q,q,o,this)}return this}});f.all=function(j,g){return new n(f.query(j,g,true))};f.NodeList=n});
