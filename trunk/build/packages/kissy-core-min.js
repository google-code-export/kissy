/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 521 Apr 5 12:27
*/
(function(c,k,h){if(c[k]===h)c[k]={};k=c[k];var l=c.document,i=function(n,d,m,o){if(!d||!n)return n;if(m===h)m=true;var q,r,j;if(o&&(j=o.length))for(q=0;q<j;q++){r=o[q];if(r in d)if(m||!(r in n))n[r]=d[r]}else for(r in d)if(m||!(r in n))n[r]=d[r];return n},e=false,g=[],t=false;i(k,{version:"1.0.5",_init:function(){this.Env={mods:{}};this.Config={debug:true}},add:function(n,d){this.Env.mods[n]={name:n,fn:d};d(this);return this},ready:function(n){t||this._bindReady();e?n.call(c,this):g.push(n);return this},
_bindReady:function(){var n=this,d=l.documentElement.doScroll,m=d?"onreadystatechange":"DOMContentLoaded";t=true;if(l.attachEvent){if(c!=c.top){var o=function(){if(l.readyState==="complete"){l.detachEvent(m,o);n._fireReady()}};l.attachEvent(m,o)}else{var q=function(){try{d("left");n._fireReady()}catch(j){setTimeout(q,1)}};q()}c.attachEvent("onload",function(){n._fireReady()})}else{var r=function(){l.removeEventListener(m,r,false);n._fireReady()};l.addEventListener(m,r,false)}},_fireReady:function(){if(!e){e=
true;if(g){for(var n,d=0;n=g[d++];)n.call(c,this);g=null}}},mix:i,merge:function(){var n=arguments,d={},m,o=n.length;for(m=0;m<o;++m)i(d,n[m]);return d},extend:function(n,d,m,o){if(!d||!n)return n;var q=Object.prototype,r=d.prototype,j=function(b){function a(){}a.prototype=b;return new a}(r);n.prototype=j;j.constructor=n;n.superclass=r;if(d!==Object&&r.constructor===q.constructor)r.constructor=d;m&&i(j,m);o&&i(n,o);return n},augment:function(n,d,m,o){return i(n.prototype,d.prototype,m,o)},weave:function(n,
d,m,o){var q=[m[o],n];d==="before"&&q.reverse();m[o]=function(){for(var r=0,j;r<2;++r)j=q[r].apply(this,arguments);return j};return this},app:function(n){var d=c[n]||{};i(d,this,true,["_init","add","namespace"]);d._init();return c[n]=d},namespace:function(){var n=arguments,d=n.length,m=null,o,q,r;for(o=0;o<d;++o){r=(""+n[o]).split(".");m=this;for(q=c[r[0]]===m?1:0;q<r.length;++q)m=m[r[q]]=m[r[q]]||{}}return m},log:function(n,d,m){if(this.Config.debug){m&&(n=m+": "+n);if(c.console!==h&&console.log)console[d&&
console[d]?d:"log"](n)}return this},error:function(n){throw n;},now:function(){return(new Date).getTime()}});k._init()})(window,"KISSY");
KISSY.add("lang",function(c){function k(d){var m=typeof d;return d===null|(m!=="object"&&m!=="function")}var h=Array.prototype,l=h.forEach,i=h.indexOf,e=h.slice,g=/^\s+|\s+$/g,t=/^(\w+)\[\]$/,n=Object.prototype.toString;c.mix(c,{each:l?function(d,m,o){l.call(d,m,o);return this}:function(d,m,o){var q=d&&d.length||0,r;for(r=0;r<q;++r)m.call(o||this,d[r],r,d);return this},trim:String.prototype.trim?function(d){return(d||"").trim()}:function(d){return(d||"").replace(g,"")},isEmptyObject:function(d){for(var m in d)return false;
return true},isFunction:function(d){return n.call(d)==="[object Function]"},isArray:function(d){return n.call(d)==="[object Array]"},inArray:i?function(d,m){return i.call(m,d)!==-1}:function(d,m){for(var o=0,q=m.length;o<q;++o)if(m[o]===d)return true;return false},makeArray:function(d){if(d===null)return[];if(c.isArray(d))return d;if(typeof d.length!=="number"||typeof d==="string"||c.isFunction(d))return[d];if(d.item&&c.UA.ie){for(var m=[],o=0,q=d.length;o<q;++o)m[o]=d[o];return m}return e.call(d)},
param:function(d){if(typeof d!=="object")return"";var m=[],o,q;for(o in d){q=d[o];if(k(q))m.push(o,"=",q+"","&");else if(c.isArray(q)&&q.length)for(var r=0,j=q.length;r<j;++r)k(q[r])&&m.push(o+"[]=",q[r]+"","&")}m.pop();return encodeURI(m.join(""))},unparam:function(d,m){if(typeof d!=="string"||(d=decodeURI(c.trim(d))).length===0)return{};var o={};d=d.split(m||"&");for(var q,r,j=0,b=d.length;j<b;++j){q=d[j].split("=");m=q[0];q=q[1]||"";if((r=m.match(t))&&r[1]){o[r[1]]=o[r[1]]||[];o[r[1]].push(q)}else o[m]=
q}return o}})});
KISSY.add("ua",function(c){var k=navigator.userAgent,h,l={ie:0,gecko:0,firefox:0,opera:0,webkit:0,safari:0,chrome:0,mobile:""},i=function(e){var g=0;return parseFloat(e.replace(/\./g,function(){return g++===0?".":""}))};if((h=k.match(/AppleWebKit\/([\d.]*)/))&&h[1]){l.webkit=i(h[1]);if((h=k.match(/Chrome\/([\d.]*)/))&&h[1])l.chrome=i(h[1]);else if((h=k.match(/\/([\d.]*) Safari/))&&h[1])l.safari=i(h[1]);if(/ Mobile\//.test(k))l.mobile="Apple";else if(h=k.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=h[0]}else if((h=
k.match(/Opera\/.* Version\/([\d.]*)/))&&h[1]){l.opera=i(h[1]);if(k.match(/Opera Mini[^;]*/))l.mobile=h[0]}else if((h=k.match(/MSIE\s([^;]*)/))&&h[1])l.ie=i(h[1]);else if(h=k.match(/Gecko/)){l.gecko=1;if((h=k.match(/rv:([\d.]*)/))&&h[1])l.gecko=i(h[1]);if((h=k.match(/Firefox\/([\d.]*)/))&&h[1])l.firefox=i(h[1])}c.UA=l});
KISSY.add("json",function(c){var k=window.JSON;c.JSON={parse:function(h){if(typeof h!=="string"||!h)return null;h=c.trim(h);if(/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(k||{}).parse?k.parse(h):(new Function("return "+h))();else jQuery.error("Invalid JSON: "+h)}}});
KISSY.add("selector",function(c,k){function h(b,a,f){var p,s=[],u,v;if(typeof b===m){b=c.trim(b);if(r.test(b)){if(a=i(b.slice(1)))s=[a]}else if(p=j.exec(b)){u=p[1];v=p[2];p=p[3];if(a=u?i(u):l(a))if(p){if(!u||b.indexOf(o)!==-1)s=g(p,v,a)}else if(v)s=e(a,v)}else if(b.indexOf(",")>-1)if(d.querySelectorAll)s=d.querySelectorAll(b);else{u=b.split(",");v=[];s=0;for(b=u.length;s<b;++s)v=v.concat(h(u[s],a));s=t(v)}}else if(b&&b.nodeType)s=[b];else if(b&&b.item)s=b;if(s.item)s=c.makeArray(s);f||n(s);return s}
function l(b){if(b===k)b=d;else if(typeof b===m&&r.test(b))b=i(b.slice(1));else if(b&&b.nodeType!==1&&b.nodeType!==9)b=null;return b}function i(b){return d.getElementById(b)}function e(b,a){return b.getElementsByTagName(a)}function g(b,a,f){f=b=f.getElementsByClassName(b);var p=0,s=0,u=b.length,v;if(a&&a!==q){f=[];for(a=a.toUpperCase();p<u;++p){v=b[p];if(v.tagName===a)f[s++]=v}}return f}function t(b){var a=false;b.sort(function(p,s){p=p.sourceIndex-s.sourceIndex;if(p===0)a=true;return p});if(a)for(var f=
1;f<b.length;f++)b[f]===b[f-1]&&b.splice(f--,1);return b}function n(b){b.each=function(a,f){c.each(b,a,f)}}var d=document,m="string",o=" ",q="*",r=/^#[\w-]+$/,j=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var b=d.createElement("div");b.appendChild(d.createComment(""));if(b.getElementsByTagName(q).length>0)e=function(a,f){a=a.getElementsByTagName(f);if(f===q){f=[];for(var p=0,s=0,u;u=a[p++];)if(u.nodeType===1)f[s++]=u;a=f}return a}})();d.getElementsByClassName||(g=d.querySelectorAll?
function(b,a,f){return f.querySelectorAll((a?a:"")+"."+b)}:function(b,a,f){a=f.getElementsByTagName(a||q);f=[];var p=0,s=0,u=a.length,v,w;for(b=o+b+o;p<u;++p){v=a[p];if((w=v.className)&&(o+w+o).indexOf(b)>-1)f[s++]=v}return f});c.query=h;c.get=function(b,a){return h(b,a,true)[0]||null}});
KISSY.add("dom-base",function(c,k){function h(a,f){return f&&f.nodeName.toUpperCase()===a.toUpperCase()}function l(a,f){var p=null,s;if(a&&(a.push||a.item)&&a[0]){f=f||a[0].ownerDocument;p=f.createDocumentFragment();if(a.item)a=c.makeArray(a);f=0;for(s=a.length;f<s;++f)p.appendChild(a[f])}else c.error("unable to convert "+a+" to fragment");return p}var i=document,e=i.documentElement.textContent!==k?"textContent":"innerText",g=c.UA,t=g.ie,n=t&&t<8,d={readonly:"readOnly"},m=/href|src|style/,o=/href|src|colspan|rowspan/,
q=/\r/g,r=/radio|checkbox/,j=i.createElement("DIV"),b=/^[a-z]+$/i;n&&c.mix(d,{"for":"htmlFor","class":"className"});c.DOM={query:c.query,get:c.get,attr:function(a,f,p){if(!a||a.nodeType!==1)return k;var s;f=f.toLowerCase();f=d[f]||f;if(p===k){if(m.test(f)){if(f==="style")s=a.style.cssText}else s=a[f];if(s===k)s=a.getAttribute(f);if(n&&o.test(f))s=a.getAttribute(f,2);return s===null?k:s}if(f==="style")a.style.cssText=p;else a.setAttribute(f,""+p)},removeAttr:function(a,f){a&&a.nodeType===1&&a.removeAttribute(f)},
val:function(a,f){if(!a||a.nodeType!==1)return k;if(f===k){if(h("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(h("select",a)){f=a.selectedIndex;var p=a.options;if(f<0)return null;else if(a.type==="select-one")return c.DOM.val(p[f]);a=[];f=0;for(var s=p.length;f<s;++f)p[f].selected&&a.push(c.DOM.val(p[f]));return a}if(g.webkit&&r.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(q,"")}if(h("select",a)){p=c.makeArray(f);var u=a.options,
v;f=0;for(s=u.length;f<s;++f){v=u[f];v.selected=c.inArray(c.DOM.val(v),p)}if(!p.length)a.selectedIndex=-1}else a.value=f},css:function(){c.error("not implemented")},text:function(a,f){if(f===k)return(a||{})[e]||"";if(a)a[e]=f},html:function(){c.error("not implemented")},create:function(a,f){if(typeof a==="string")a=c.trim(a);if(b.test(a))return(f||i).createElement(a);var p=null;p=f?f.createElement("DIV"):j;p.innerHTML=a;a=p.childNodes;return p=a.length===1?a[0].parentNode.removeChild(a[0]):l(a,f||
i)}}});KISSY.add("dom-class",function(c,k){c.mix(c.DOM,{hasClass:function(e,g){if(!g||!e.className)return false;return(" "+e.className+" ").indexOf(" "+g+" ")>-1},addClass:function(e,g){if(g)h(e,g)||(e.className+=" "+g)},removeClass:function(e,g){if(h(e,g)){e.className=(" "+e.className+" ").replace(" "+g+" "," ");h(e,g)&&i(e,g)}},replaceClass:function(e,g,t){i(e,g);l(e,t)},toggleClass:function(e,g,t){(t!==k?t:!h(e,g))?l(e,g):i(e,g)}});var h=c.DOM.hasClass,l=c.DOM.addClass,i=c.DOM.removeClass});
KISSY.add("event",function(c,k){function h(j){var b=-1;if(j.nodeType===3||j.nodeType===8)return b;if(j.nodeType)b=e.attr(j,m);else if(j.isCustomEventTarget)b=j.eventTargetId;return b}function l(j,b){if(j.nodeType)e.attr(j,m,b);else if(j.isCustomEventTarget)j.eventTargetId=b}function i(j){if(j.nodeType)e.removeAttr(j,m);else if(j.isCustomEventTarget)j.eventTargetId=k}var e=c.DOM,g=window,t=document,n=t.addEventListener?function(j,b,a){j.addEventListener&&j.addEventListener(b,a,false)}:function(j,b,
a){j.attachEvent&&j.attachEvent("on"+b,a)},d=t.removeEventListener?function(j,b,a){j.removeEventListener&&j.removeEventListener(b,a,false)}:function(j,b,a){j.detachEvent&&j.detachEvent("on"+b,a)},m="data-ks-event-guid",o=c.now(),q={},r={special:{},add:function(j,b,a){var f=h(j),p,s;if(!(f===-1||!b||!c.isFunction(a))){if(!f){l(j,f=o++);q[f]={target:j,events:{}}}s=q[f].events;p=!j.isCustomEventTarget&&r.special[b]||{};if(!s[b]){f=function(u){if(!u||!u.fixed)u=new c.EventObject(j,u,b);p.setup&&p.setup(u);
return(p.handle||r._handle)(j,u,s[b].listeners)};s[b]={handle:f,listeners:[]};if(j.isCustomEventTarget)j._addEvent&&j._addEvent(b,f);else n(j,p.fix||b,f)}s[b].listeners.push(a)}},remove:function(j,b,a){var f=h(j),p,s,u,v,w,x;if(f!==-1)if(f&&(p=q[f]))if(p.target===j){p=p.events||{};if(s=p[b]){u=s.listeners;w=u.length;if(c.isFunction(a)&&w&&c.inArray(a,u)){x=[];for(v=0;v<w;++v)a!==u[v]&&x.push(u[v]);w=x.length}if(a===k||w===0){j.isCustomEventTarget||d(j,b,s.handle);delete q[f].type}}if(b===k||c.isEmptyObject(p)){for(b in p)r.remove(j,
b);delete q[f];i(j)}}},_handle:function(j,b,a){for(var f,p=0,s=a.length;p<s;++p){f=a[p].call(j,b);if(b.isImmediatePropagationStopped)break;f===false&&b.halt()}return f},_getCache:function(j){return q[j]},_simpleAdd:n,_simpleRemove:d};c.Event=r;g.attachEvent&&!g.addEventListener&&g.attachEvent("onunload",function(){var j,b;for(j in q)if(b=q[j].target)try{r.remove(b)}catch(a){}})});
KISSY.add("event-object",function(c,k){function h(e,g,t){this.currentTarget=e;this.originalEvent=g||{};if(g){this.type=g.type;this._fix()}else{this.type=t;this.target=e}this.fixed=true}var l=document,i="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
c.mix(h.prototype,{_fix:function(){for(var e=this.originalEvent,g=i.length,t;g;){t=i[--g];this[t]=e[t]}if(!this.target)this.target=this.srcElement||l;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===k&&this.clientX!==k){e=l.documentElement;g=l.body;this.pageX=this.clientX+(e&&e.scrollLeft||g&&g.scrollLeft||0)-(e&&e.clientLeft||g&&g.clientLeft||0);
this.pageY=this.clientY+(e&&e.scrollTop||g&&g.scrollTop||0)-(e&&e.clientTop||g&&g.clientTop||0)}if(this.which===k)this.which=this.charCode!==k?this.charCode:this.keyCode;if(this.metaKey===k)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==k)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var e=this.originalEvent;if(e.preventDefault)e.preventDefault();else e.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var e=this.originalEvent;
if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var e=this.originalEvent;e.stopImmediatePropagation?e.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=h});
KISSY.add("event-target",function(c,k){var h=c.Event;c.EventTarget={eventTargetId:k,isCustomEventTarget:true,fire:function(l){(l=((h._getCache(this.eventTargetId||-1)||{}).events||{})[l])&&c.isFunction(l.handle)&&l.handle()},on:function(l,i){h.add(this,l,i)},detach:function(l,i){h.remove(this,l,i)}}});
KISSY.add("event-mouseenter",function(c){var k=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(h){k.special[h.name]={fix:h.fix,setup:function(l){l.type=h.name},handle:function(l,i,e){var g=i.relatedTarget;try{for(;g&&g!==l;)g=g.parentNode;g!==l&&k._handle(l,i,e)}catch(t){}}}})});
KISSY.add("node",function(c){function k(i,e,g){var t;if(!(this instanceof k))return new k(i,e,g);if(!i)return null;if(i.nodeType)t=i;else if(typeof i==="string")t=h.create(i,g);e&&c.error("not implemented");this[0]=t}var h=c.DOM,l=k.prototype;c.each(["attr","removeAttr"],function(i){l[i]=function(e,g){var t=this[0];if(g===undefined)return h[i](t,e);else{h[i](t,e,g);return this}}});c.each(["val","text"],function(i){l[i]=function(e){var g=this[0];if(e===undefined)return h[i](g);else{h[i](g,e);return this}}});
c.each(["hasClass","addClass","removeClass","replaceClass","toggleClass"],function(i){l[i]=function(){var e=h[i].apply(h,[this[0]].concat(c.makeArray(arguments)));return typeof e==="boolean"?e:this}});c.mix(l,c.EventTarget);l._addEvent=function(i,e){c.Event._simpleAdd(this[0],i,e)};delete l.fire;c.mix(l,{one:function(i){return c.one(i,this[0])},all:function(i){return c.all(i,this[0])}});c.one=function(i,e){return new k(c.get(i,e))};c.Node=k});
KISSY.add("nodelist",function(c){function k(l){if(!(this instanceof k))return new k(l);h.apply(this,l||[])}var h=Array.prototype.push;c.mix(k.prototype,{length:0,each:function(l,i){for(var e=this.length,g=0,t;g<e;++g){t=new c.Node(this[g]);l.call(i||t,t,g,this)}return this}});c.all=function(l,i){return new k(c.query(l,i,true))};c.NodeList=k});
KISSY.add("cookie",function(c){function k(e){return typeof e==="string"&&e!==""}var h=document,l=encodeURIComponent,i=decodeURIComponent;c.Cookie={get:function(e){var g;if(k(e))if(e=h.cookie.match("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)"))g=e[1]?i(e[1]):"";return g},set:function(e,g,t,n,d,m){g=l(g);var o=t;if(typeof o==="number"){o=new Date;o.setTime(o.getTime()+t*864E5)}if(o instanceof Date)g+="; expires="+o.toUTCString();if(k(n))g+="; domain="+n;if(k(d))g+="; path="+d;if(m)g+="; secure";h.cookie=e+"="+
g},remove:function(e){this.set(e,"",0)}}});KISSY.add("ajax",function(c){var k=document,h=c.UA;c.Ajax={request:function(){c.error("not implemented")},getScript:function(l,i,e){var g=k.getElementsByTagName("head")[0]||k.documentElement,t=k.createElement("script");t.src=l;if(e)t.charset=e;t.async=true;if(c.isFunction(i))if(h.ie)t.onreadystatechange=function(){var n=t.readyState;if(n==="loaded"||n==="complete"){t.onreadystatechange=null;i()}};else t.onload=i;g.appendChild(t)}}});
