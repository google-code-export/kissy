/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 530 Apr 7 21:33
*/
(function(b,m,j){if(b[m]===j)b[m]={};m=b[m];var k=b.document,i=function(g,r,v,d){if(!r||!g)return g;if(v===j)v=true;var s,p,t;if(d&&(t=d.length))for(s=0;s<t;s++){p=d[s];if(p in r)if(v||!(p in g))g[p]=r[p]}else for(p in r)if(v||!(p in g))g[p]=r[p];return g},h=false,n=[],o=false;i(m,{version:"1.0.5",_init:function(){this.Env={mods:{}};this.Config={debug:true}},add:function(g,r){this.Env.mods[g]={name:g,fn:r};r(this);return this},ready:function(g){o||this._bindReady();h?g.call(b,this):n.push(g);return this},
_bindReady:function(){var g=this,r=k.documentElement.doScroll,v=r?"onreadystatechange":"DOMContentLoaded";o=true;if(k.attachEvent){if(b!=b.top){var d=function(){if(k.readyState==="complete"){k.detachEvent(v,d);g._fireReady()}};k.attachEvent(v,d)}else{var s=function(){try{r("left");g._fireReady()}catch(t){setTimeout(s,1)}};s()}b.attachEvent("onload",function(){g._fireReady()})}else{var p=function(){k.removeEventListener(v,p,false);g._fireReady()};k.addEventListener(v,p,false)}},_fireReady:function(){if(!h){h=
true;if(n){for(var g,r=0;g=n[r++];)g.call(b,this);n=null}}},mix:i,merge:function(){var g=arguments,r={},v,d=g.length;for(v=0;v<d;++v)i(r,g[v]);return r},extend:function(g,r,v,d){if(!r||!g)return g;var s=Object.prototype,p=r.prototype,t=function(f){function c(){}c.prototype=f;return new c}(p);g.prototype=t;t.constructor=g;g.superclass=p;if(r!==Object&&p.constructor===s.constructor)p.constructor=r;v&&i(t,v);d&&i(g,d);return g},augment:function(g,r,v,d){return i(g.prototype,m.isFunction(r)?r.prototype:
r,v,d)},weave:function(g,r,v,d){var s=[v[d],g];r==="before"&&s.reverse();v[d]=function(){for(var p=0,t;p<2;++p)t=s[p].apply(this,arguments);return t};return this},app:function(g){var r=b[g]||{};i(r,this,true,["_init","add","namespace"]);r._init();return b[g]=r},namespace:function(){var g=arguments,r=g.length,v=null,d,s,p;for(d=0;d<r;++d){p=(""+g[d]).split(".");v=this;for(s=b[p[0]]===v?1:0;s<p.length;++s)v=v[p[s]]=v[p[s]]||{}}return v},log:function(g,r,v){if(this.Config.debug){v&&(g=v+": "+g);if(b.console!==
j&&console.log)console[r&&console[r]?r:"log"](g)}return this},error:function(g){throw g;},now:function(){return(new Date).getTime()}});m._init()})(window,"KISSY");
KISSY.add("lang",function(b,m){function j(d){var s=typeof d;return d===null|(s!=="object"&&s!=="function")}var k=document,i=Array.prototype,h=i.forEach,n=i.indexOf,o=i.slice,g=/^\s+|\s+$/g,r=/^(\w+)\[\]$/,v=Object.prototype.toString;b.mix(b,{each:h?function(d,s,p){h.call(d,s,p);return this}:function(d,s,p){var t=d&&d.length||0,f;for(f=0;f<t;++f)s.call(p||this,d[f],f,d);return this},trim:String.prototype.trim?function(d){return(d||"").trim()}:function(d){return(d||"").replace(g,"")},isPlainObject:function(d){return d&&
v.call(d)==="[object Object]"&&!d.nodeType&&!d.setInterval},isEmptyObject:function(d){for(var s in d)return false;return true},isFunction:function(d){return v.call(d)==="[object Function]"},isArray:function(d){return v.call(d)==="[object Array]"},indexOf:n?function(d,s){return n.call(s,d)}:function(d,s){for(var p=0,t=s.length;p<t;++p)if(s[p]===d)return p;return-1},inArray:function(d,s){return b.indexOf(d,s)!==-1},makeArray:function(d){if(d===null||d===m)return[];if(b.isArray(d))return d;if(typeof d.length!==
"number"||typeof d==="string"||b.isFunction(d))return[d];if(d.item&&b.UA.ie){for(var s=[],p=0,t=d.length;p<t;++p)s[p]=d[p];return s}return o.call(d)},param:function(d){if(typeof d!=="object")return"";var s=[],p,t;for(p in d){t=d[p];if(j(t))s.push(p,"=",t+"","&");else if(b.isArray(t)&&t.length)for(var f=0,c=t.length;f<c;++f)j(t[f])&&s.push(p+"[]=",t[f]+"","&")}s.pop();return encodeURI(s.join(""))},unparam:function(d,s){if(typeof d!=="string"||(d=decodeURI(b.trim(d))).length===0)return{};var p={};d=
d.split(s||"&");for(var t,f,c=0,l=d.length;c<l;++c){t=d[c].split("=");s=t[0];t=t[1]||"";if((f=s.match(r))&&f[1]){p[f[1]]=p[f[1]]||[];p[f[1]].push(t)}else p[s]=t}return p},later:function(d,s,p,t,f){s=s||0;t=t||{};var c=d,l=b.makeArray(f),a;if(typeof d==="string")c=t[d];c||b.error("method undefined");d=function(){c.apply(t,l)};a=p?setInterval(d,s):setTimeout(d,s);return{id:a,interval:p,cancel:function(){this.interval?clearInterval(a):clearTimeout(a)}}},globalEval:function(d){if(d=b.trim(d)){var s=k.getElementsByTagName("head")[0]||
k.documentElement,p=k.createElement("script");if(b.UA.ie)p.text=d;else p.appendChild(k.createTextNode(d));s.insertBefore(p,s.firstChild);s.removeChild(p)}}})});
KISSY.add("ua",function(b){var m=navigator.userAgent,j,k={ie:0,gecko:0,firefox:0,opera:0,webkit:0,safari:0,chrome:0,mobile:""},i=function(h){var n=0;return parseFloat(h.replace(/\./g,function(){return n++===0?".":""}))};if((j=m.match(/AppleWebKit\/([\d.]*)/))&&j[1]){k.webkit=i(j[1]);if((j=m.match(/Chrome\/([\d.]*)/))&&j[1])k.chrome=i(j[1]);else if((j=m.match(/\/([\d.]*) Safari/))&&j[1])k.safari=i(j[1]);if(/ Mobile\//.test(m))k.mobile="Apple";else if(j=m.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))k.mobile=
j[0]}else if((j=m.match(/Opera\/.* Version\/([\d.]*)/))&&j[1]){k.opera=i(j[1]);if(m.match(/Opera Mini[^;]*/))k.mobile=j[0]}else if((j=m.match(/MSIE\s([^;]*)/))&&j[1])k.ie=i(j[1]);else if(j=m.match(/Gecko/)){k.gecko=1;if((j=m.match(/rv:([\d.]*)/))&&j[1])k.gecko=i(j[1]);if((j=m.match(/Firefox\/([\d.]*)/))&&j[1])k.firefox=i(j[1])}b.UA=k});
KISSY.add("json",function(b){var m=window.JSON;b.JSON={parse:function(j){if(typeof j!=="string"||!j)return null;j=b.trim(j);if(/^[\],:{}\s]*$/.test(j.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(m||{}).parse?m.parse(j):(new Function("return "+j))();else jQuery.error("Invalid JSON: "+j)}}});
KISSY.add("selector",function(b,m){function j(f,c,l){var a,e=[],q,u;if(typeof f===v){f=b.trim(f);if(p.test(f)){if(c=i(f.slice(1)))e=[c]}else if(a=t.exec(f)){q=a[1];u=a[2];a=a[3];if(c=q?i(q):k(c))if(a){if(!q||f.indexOf(d)!==-1)e=n(a,u,c)}else if(u)e=h(c,u)}else if(f.indexOf(",")>-1)if(r.querySelectorAll)e=r.querySelectorAll(f);else{q=f.split(",");u=[];e=0;for(f=q.length;e<f;++e)u=u.concat(j(q[e],c));e=o(u)}}else if(f&&f.nodeType)e=[f];else if(f&&f.item)e=f;if(e.item)e=b.makeArray(e);l||g(e);return e}
function k(f){if(f===m)f=r;else if(typeof f===v&&p.test(f))f=i(f.slice(1));else if(f&&f.nodeType!==1&&f.nodeType!==9)f=null;return f}function i(f){return r.getElementById(f)}function h(f,c){return f.getElementsByTagName(c)}function n(f,c,l){l=f=l.getElementsByClassName(f);var a=0,e=0,q=f.length,u;if(c&&c!==s){l=[];for(c=c.toUpperCase();a<q;++a){u=f[a];if(u.tagName===c)l[e++]=u}}return l}function o(f){var c=false;f.sort(function(a,e){a=a.sourceIndex-e.sourceIndex;if(a===0)c=true;return a});if(c)for(var l=
1;l<f.length;l++)f[l]===f[l-1]&&f.splice(l--,1);return f}function g(f){f.each=function(c,l){b.each(f,c,l)}}var r=document,v="string",d=" ",s="*",p=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var f=r.createElement("div");f.appendChild(r.createComment(""));if(f.getElementsByTagName(s).length>0)h=function(c,l){c=c.getElementsByTagName(l);if(l===s){l=[];for(var a=0,e=0,q;q=c[a++];)if(q.nodeType===1)l[e++]=q;c=l}return c}})();r.getElementsByClassName||(n=r.querySelectorAll?
function(f,c,l){return l.querySelectorAll((c?c:"")+"."+f)}:function(f,c,l){c=l.getElementsByTagName(c||s);l=[];var a=0,e=0,q=c.length,u,w;for(f=d+f+d;a<q;++a){u=c[a];if((w=u.className)&&(d+w+d).indexOf(f)>-1)l[e++]=u}return l});b.query=j;b.get=function(f,c){return j(f,c,true)[0]||null}});
KISSY.add("dom-base",function(b,m){function j(a,e){return e&&e.nodeName.toUpperCase()===a.toUpperCase()}function k(a,e){for(var q=[],u=0;a;a=a.nextSibling)if(a.nodeType===1&&a!==e)q[u++]=a;return q}function i(a,e,q){e=e||0;for(var u=0;a;a=a[q])if(a.nodeType===1&&u++===e)break;return a}function h(a,e){var q=null,u;if(a&&(a.push||a.item)&&a[0]){e=e||a[0].ownerDocument;q=e.createDocumentFragment();if(a.item)a=b.makeArray(a);e=0;for(u=a.length;e<u;++e)q.appendChild(a[e])}else b.error("unable to convert "+
a+" to fragment");return q}var n=document,o=n.documentElement.textContent!==m?"textContent":"innerText",g=b.UA,r=g.ie,v=r&&r<8,d={readonly:"readOnly"},s=/href|src|style/,p=/href|src|colspan|rowspan/,t=/\r/g,f=/radio|checkbox/,c=n.createElement("DIV"),l=/^[a-z]+$/i;v&&b.mix(d,{"for":"htmlFor","class":"className"});b.DOM={query:b.query,get:b.get,attr:function(a,e,q){if(!a||a.nodeType!==1)return m;var u;e=e.toLowerCase();e=d[e]||e;if(q===m){if(s.test(e)){if(e==="style")u=a.style.cssText}else u=a[e];
if(u===m)u=a.getAttribute(e);if(v&&p.test(e))u=a.getAttribute(e,2);return u===null?m:u}if(e==="style")a.style.cssText=q;else a.setAttribute(e,""+q)},removeAttr:function(a,e){a&&a.nodeType===1&&a.removeAttribute(e)},val:function(a,e){if(!a||a.nodeType!==1)return m;if(e===m){if(j("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(j("select",a)){e=a.selectedIndex;var q=a.options;if(e<0)return null;else if(a.type==="select-one")return b.DOM.val(q[e]);a=[];e=0;for(var u=q.length;e<
u;++e)q[e].selected&&a.push(b.DOM.val(q[e]));return a}if(g.webkit&&f.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(t,"")}if(j("select",a)){q=b.makeArray(e);var w=a.options,x;e=0;for(u=w.length;e<u;++e){x=w[e];x.selected=b.inArray(b.DOM.val(x),q)}if(!q.length)a.selectedIndex=-1}else a.value=e},css:function(a,e,q){if(q===m)return a.style[e];b.each(b.makeArray(a),function(u){u.style[e]=q})},text:function(a,e){if(e===m)return(a||{})[o]||"";if(a)a[o]=e},html:function(a,
e){if(e===m)return a.innerHTML;a.innerHTML=e},children:function(a){if(a.children)return b.makeArray(a.children);return k(a.firstChild)},siblings:function(a){return k(a.parentNode.firstChild,a)},next:function(a){return i(a,1,"nextSibling")},prev:function(a){return i(a,1,"previousSibling")},parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},create:function(a,e){if(typeof a==="string")a=b.trim(a);if(l.test(a))return(e||n).createElement(a);var q=null;q=e?e.createElement("DIV"):c;q.innerHTML=
a;a=q.childNodes;return q=a.length===1?a[0].parentNode.removeChild(a[0]):h(a,e||n)}}});
KISSY.add("dom-class",function(b,m){function j(o,g,r){if(b.isArray(o)){b.each(o,function(){g.apply(r,Array.prototype.slice.call(arguments,3))});return true}}var k=b.DOM;b.mix(k,{hasClass:function(o,g){if(!g||!o||!o.className)return false;return(" "+o.className+" ").indexOf(" "+g+" ")>-1},addClass:function(o,g){if(!j(o,h,k,g))if(g&&o)i(o,g)||(o.className+=" "+g)},removeClass:function(o,g){if(!j(o,n,k,g))if(i(o,g)){o.className=(" "+o.className+" ").replace(" "+g+" "," ");i(o,g)&&n(o,g)}},replaceClass:function(o,
g,r){n(o,g);h(o,r)},toggleClass:function(o,g,r){j(o,k.toggleClass,k,g,r)||((r!==m?r:!i(o,g))?h(o,g):n(o,g))}});var i=k.hasClass,h=k.addClass,n=k.removeClass});
KISSY.add("event",function(b,m){function j(c,l,a,e){if(b.isArray(l)){b.each(l,function(q){f[c](q,a,e)});return true}if((a=b.trim(a))&&a.indexOf(s)>0){b.each(a.split(s),function(q){f[c](l,q,e)});return true}}function k(c){var l=-1;if(c.nodeType===3||c.nodeType===8)return l;return l=c.nodeType?n.attr(c,d):c.isCustomEventTarget?c.eventTargetId:c[d]}function i(c,l){if(c.nodeType)n.attr(c,d,l);else if(c.isCustomEventTarget)c.eventTargetId=l;else try{c[d]=l}catch(a){b.error(a)}}function h(c){if(c.nodeType)n.removeAttr(c,
d);else if(c.isCustomEventTarget)c.eventTargetId=m;else c[d]=m}var n=b.DOM,o=window,g=document,r=g.addEventListener?function(c,l,a){c.addEventListener&&c.addEventListener(l,a,false)}:function(c,l,a){c.attachEvent&&c.attachEvent("on"+l,a)},v=g.removeEventListener?function(c,l,a){c.removeEventListener&&c.removeEventListener(l,a,false)}:function(c,l,a){c.detachEvent&&c.detachEvent("on"+l,a)},d="data-ks-event-guid",s=" ",p=b.now(),t={},f={special:{},add:function(c,l,a){if(!j("add",c,l,a)){var e=k(c),
q,u;if(!(e===-1||!l||!b.isFunction(a))){if(!e){i(c,e=p++);t[e]={target:c,events:{}}}u=t[e].events;q=!c.isCustomEventTarget&&f.special[l]||{};if(!u[l]){e=function(w,x){if(!w||!w.fixed){w=new b.EventObject(c,w,l);b.isPlainObject(x)&&b.mix(w,x)}q.setup&&q.setup(w);return(q.handle||f._handle)(c,w,u[l].listeners)};u[l]={handle:e,listeners:[]};if(c.isCustomEventTarget)c._addEvent&&c._addEvent(l,e);else r(c,q.fix||l,e)}u[l].listeners.push(a)}}},remove:function(c,l,a){if(!j("remove",c,l,a)){var e=k(c),q,
u,w,x,y,z;if(e!==-1)if(e&&(q=t[e]))if(q.target===c){q=q.events||{};if(u=q[l]){w=u.listeners;y=w.length;if(b.isFunction(a)&&y&&b.inArray(a,w)){z=[];for(x=0;x<y;++x)a!==w[x]&&z.push(w[x]);y=z.length}if(a===m||y===0){c.isCustomEventTarget||v(c,l,u.handle);delete t[e].type}}if(l===m||b.isEmptyObject(q)){for(l in q)f.remove(c,l);delete t[e];h(c)}}}},_handle:function(c,l,a){for(var e,q=0,u=a.length;q<u;++q){e=a[q].call(c,l);if(l.isImmediatePropagationStopped)break;e===false&&l.halt()}return e},_getCache:function(c){return t[c]},
_simpleAdd:r,_simpleRemove:v};f.on=f.add;b.Event=f;o.attachEvent&&!o.addEventListener&&o.attachEvent("onunload",function(){var c,l;for(c in t)if(l=t[c].target)try{f.remove(l)}catch(a){}})});
KISSY.add("event-object",function(b,m){function j(h,n,o){this.currentTarget=h;this.originalEvent=n||{};if(n){this.type=n.type;this._fix()}else{this.type=o;this.target=h}this.fixed=true}var k=document,i="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.mix(j.prototype,
{_fix:function(){for(var h=this.originalEvent,n=i.length,o;n;){o=i[--n];this[o]=h[o]}if(!this.target)this.target=this.srcElement||k;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===m&&this.clientX!==m){h=k.documentElement;n=k.body;this.pageX=this.clientX+(h&&h.scrollLeft||n&&n.scrollLeft||0)-(h&&h.clientLeft||n&&n.clientLeft||0);this.pageY=this.clientY+
(h&&h.scrollTop||n&&n.scrollTop||0)-(h&&h.clientTop||n&&n.clientTop||0)}if(this.which===m)this.which=this.charCode!==m?this.charCode:this.keyCode;if(this.metaKey===m)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==m)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var h=this.originalEvent;if(h.preventDefault)h.preventDefault();else h.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var h=this.originalEvent;if(h.stopPropagation)h.stopPropagation();
else h.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var h=this.originalEvent;h.stopImmediatePropagation?h.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(h){h?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=j});
KISSY.add("event-target",function(b,m){var j=b.Event;b.EventTarget={eventTargetId:m,isCustomEventTarget:true,fire:function(k,i){(k=((j._getCache(this.eventTargetId||-1)||{}).events||{})[k])&&b.isFunction(k.handle)&&k.handle(m,i)},on:function(k,i){j.add(this,k,i)},detach:function(k,i){j.remove(this,k,i)}}});
KISSY.add("event-mouseenter",function(b){var m=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(j){m.special[j.name]={fix:j.fix,setup:function(k){k.type=j.name},handle:function(k,i,h){var n=i.relatedTarget;try{for(;n&&n!==k;)n=n.parentNode;n!==k&&m._handle(k,i,h)}catch(o){}}}})});
KISSY.add("node",function(b){function m(i,h,n){var o;if(!(this instanceof m))return new m(i,h,n);if(!i)return null;if(i.nodeType)o=i;else if(typeof i==="string")o=j.create(i,n);h&&b.error("not implemented");this[0]=o}var j=b.DOM,k=m.prototype;b.each(["attr","removeAttr","css"],function(i){k[i]=function(h,n){var o=this[0];if(n===undefined)return j[i](o,h);else{j[i](o,h,n);return this}}});b.each(["val","text","html"],function(i){k[i]=function(h){var n=this[0];if(h===undefined)return j[i](n);else{j[i](n,
h);return this}}});b.each(["children","siblings","next","prev","parent"],function(i){k[i]=function(){var h=j[i](this[0]);return h?new b[h.length?"NodeList":"Node"](h):null}});b.each(["hasClass","addClass","removeClass","replaceClass","toggleClass"],function(i){k[i]=function(){var h=j[i].apply(j,[this[0]].concat(b.makeArray(arguments)));return typeof h==="boolean"?h:this}});b.mix(k,b.EventTarget);k._addEvent=function(i,h){b.Event._simpleAdd(this[0],i,h)};delete k.fire;b.mix(k,{one:function(i){return b.one(i,
this[0])},all:function(i){return b.all(i,this[0])}});b.one=function(i,h){return new m(b.get(i,h))};b.Node=m});KISSY.add("nodelist",function(b){function m(k){if(!(this instanceof m))return new m(k);j.apply(this,k||[])}var j=Array.prototype.push;b.mix(m.prototype,{length:0,each:function(k,i){for(var h=this.length,n=0,o;n<h;++n){o=new b.Node(this[n]);k.call(i||o,o,n,this)}return this}});b.all=function(k,i){return new m(b.query(k,i,true))};b.NodeList=m});
KISSY.add("cookie",function(b){function m(h){return typeof h==="string"&&h!==""}var j=document,k=encodeURIComponent,i=decodeURIComponent;b.Cookie={get:function(h){var n;if(m(h))if(h=j.cookie.match("(?:^| )"+h+"(?:(?:=([^;]*))|;|$)"))n=h[1]?i(h[1]):"";return n},set:function(h,n,o,g,r,v){n=k(n);var d=o;if(typeof d==="number"){d=new Date;d.setTime(d.getTime()+o*864E5)}if(d instanceof Date)n+="; expires="+d.toUTCString();if(m(g))n+="; domain="+g;if(m(r))n+="; path="+r;if(v)n+="; secure";j.cookie=h+"="+
n},remove:function(h){this.set(h,"",0)}}});KISSY.add("ajax",function(b){var m=document,j=b.UA;b.Ajax={request:function(){b.error("not implemented")},getScript:function(k,i,h){var n=m.getElementsByTagName("head")[0]||m.documentElement,o=m.createElement("script");o.src=k;if(h)o.charset=h;o.async=true;if(b.isFunction(i))if(j.ie)o.onreadystatechange=function(){var g=o.readyState;if(g==="loaded"||g==="complete"){o.onreadystatechange=null;i()}};else o.onload=i;n.appendChild(o)}}});
