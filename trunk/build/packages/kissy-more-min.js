/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 522 Apr 5 22:25
*/
KISSY.add("datalazyload",function(e,m){function o(a,b){if(!(this instanceof o))return new o(a,b);if(b===m){b=a;a=[d]}e.isArray(a)||(a=[e.get(a)||d]);this.containers=a;this.config=e.merge(h,b||{});this.callbacks={els:[],fns:[]};this._init()}var i=e.DOM,n=e.Event,q=YAHOO.util.Dom,p=window,d=document,f={AUTO:"auto",MANUAL:"manual"},h={mod:f.MANUAL,diff:"default",placeholder:"http://a.tbcdn.cn/kissy/1.0.4/build/datalazyload/dot.gif"},k=o.prototype;e.mix(k,{_init:function(){this.threshold=this._getThreshold();
this._filterItems();this._getItemsLength()&&this._initLoadEvent()},_initLoadEvent:function(){function a(){c||(c=setTimeout(function(){b();c=null},100))}function b(){g._loadItems();if(g._getItemsLength()===0){n.remove(p,"scroll",a);n.remove(p,"resize",a)}}var c,g=this;n.on(p,"scroll",a);n.on(p,"resize",function(){g.threshold=g._getThreshold();a()});g._getItemsLength()&&e.ready(function(){b()})},_filterItems:function(){var a=this.containers,b=this.threshold,c=this.config.placeholder,g=this.config.mod===
f.MANUAL,j,r,s,l,u,t,v,w=[],x=[];j=0;for(r=a.length;j<r;++j){s=e.query("img",a[j]);l=0;for(u=s.length;l<u;++l){t=s[l];v=t.getAttribute("data-lazyload-src");if(g){if(v){t.src=c;w.push(t)}}else if(q.getY(t)>b&&!v){t.setAttribute("data-lazyload-src",t.src);t.src=c;w.push(t)}}s=e.query("textarea",a[j]);l=0;for(u=s.length;l<u;++l){t=s[l];i.hasClass(t,"ks-datalazyload")&&x.push(t)}}this.images=w;this.areaes=x},_loadItems:function(){this._loadImgs();this._loadAreaes();this._fireCallbacks()},_loadImgs:function(){var a=
this.images,b=this.threshold+q.getDocumentScrollTop(),c,g,j=[];for(c=0;g=a[c++];)q.getY(g)<=b?this._loadImgSrc(g):j.push(g);this.images=j},_loadImgSrc:function(a,b){b=b||"data-lazyload-src";var c=a.getAttribute(b);if(c&&a.src!=c){a.src=c;a.removeAttribute(b)}},_loadAreaes:function(){var a=this.areaes,b=this.threshold+q.getDocumentScrollTop(),c,g,j,r=[];for(c=0;g=a[c++];){j=g.parentNode;q.getY(j)<=b?this._loadDataFromArea(j,g):r.push(g)}this.areaes=r},_loadDataFromArea:function(a,b){var c=d.createElement("DIV");
c.innerHTML=b.value;b.style.display="none";b.className="";a.appendChild(c)},_fireCallbacks:function(){var a=this.callbacks,b=a.els,c=a.fns,g=this.threshold+q.getDocumentScrollTop(),j,r,s,l=[],u=[];for(j=0;(r=b[j])&&(s=c[j++]);)if(q.getY(r)<=g)s.call(r);else{l.push(r);u.push(s)}a.els=l;a.fns=u},addCallback:function(a,b){if((a=e.get(a))&&typeof b==="function"){this.callbacks.els.push(a);this.callbacks.fns.push(b)}},_getThreshold:function(){var a=this.config.diff,b=q.getViewportHeight();return a==="default"?
2*b:b+a},_getItemsLength:function(){return this.images.length+this.areaes.length+this.callbacks.els.length},loadCustomLazyData:function(a,b,c){var g=this,j,r;e.isArray(a)||(a=[e.get(a)]);e.each(a,function(s){switch(b){case "textarea-data":if((j=e.get("textarea",s))&&i.hasClass(j,c||"ks-datalazyload-custom"))g._loadDataFromArea(s,j);break;default:r=s.nodeName==="IMG"?[s]:e.query("img",s);s=0;for(var l=r.length;s<l;s++)g._loadImgSrc(r[s],c||"data-lazyload-src-custom")}})}});e.mix(o,k,true,["loadCustomLazyData",
"_loadImgSrc","_loadDataFromArea"]);e.DataLazyload=o});
KISSY.add("suggest",function(e,m){function o(a,b,c){if(!(this instanceof o))return new o(a,b,c);this.textInput=e.get(a);this.dataSource=b;this.JSONDataSource=e.isPlainObject(b)?b:null;this.returnedData=null;this.config=e.merge(k,c||{});this.container=null;this.queryParams=this.query="";this._timer=null;this._isRunning=false;this.dataScript=null;this._dataCache={};this._latestScriptTime="";this._onKeyboardSelecting=this._scriptDataIsOut=false;this.selectedItem=null;this._init()}var i=YAHOO.util.Dom,
n=e.DOM,q=e.Event,p=window,d=document,f=d.getElementsByTagName("head")[0],h=YAHOO.env.ua.ie,k={containerClass:"",containerWidth:"auto",resultFormat:"约%result%条结果",showCloseBtn:false,closeBtnText:"关闭",useShim:h===6,timerDelay:200,autoFocus:false,submitFormOnClickSelect:true};e.mix(o.prototype,{_init:function(){this._initTextInput();this._initContainer();this.config.useShim&&this._initShim();this._initStyle();this._initResizeEvent()},_initTextInput:function(){var a=this;a.textInput.setAttribute("autocomplete",
"off");q.on(a.textInput,"blur",function(){a.stop();a.hide()});a.config.autoFocus&&a.textInput.focus();var b=0;q.on(a.textInput,"keydown",function(c){c=c.keyCode;switch(c){case 27:a.hide();a.textInput.value=a.query;a.query.length===0&&a.textInput.blur();break;case 13:a.textInput.blur();a._onKeyboardSelecting&&a.textInput.value==a._getSelectedItemKey()&&a.fire("itemSelect");a._submitForm();break;case 40:case 38:if(b++==0){a._isRunning&&a.stop();a._onKeyboardSelecting=true;a.selectItem(c===40)}else if(b==
3)b=0;break}if(c!=40&&c!=38){a._isRunning||a.start();a._onKeyboardSelecting=false}});q.on(a.textInput,"keyup",function(){b=0})},_initContainer:function(){var a=d.createElement("div"),b=this.config.containerClass;a.className="ks-suggest-container";if(b)a.className+=" "+b;a.style.position="absolute";a.style.visibility="hidden";this.container=a;this._setContainerRegion();this._initContainerEvent();d.body.insertBefore(a,d.body.firstChild)},_setContainerRegion:function(){var a=i.getRegion(this.textInput),
b=a.left,c=a.right-b-2;c=c>0?c:0;if(d.documentMode===7&&(h===7||h===8))b-=2;else e.UA.gecko&&b++;this.container.style.left=b+"px";this.container.style.top=a.bottom+"px";this.container.style.width=this.config.containerWidth=="auto"?c+"px":this.config.containerWidth},_initContainerEvent:function(){var a=this;q.on(a.container,"mousemove",function(c){c=c.target;if(c.nodeName!="LI")c=i.getAncestorByTagName(c,"li");if(i.isAncestor(a.container,c))if(c!=a.selectedItem){a._removeSelectedItem();a._setSelectedItem(c)}});
var b=null;a.container.onmousedown=function(c){b=c.target;a.textInput.onbeforedeactivate=function(){p.event.returnValue=false;a.textInput.onbeforedeactivate=null};return false};q.on(a.container,"mouseup",function(c){if(a._isInContainer([c.pageX,c.pageY])){c=c.target;if(c==b)if(c.className=="ks-suggest-close-btn")a.hide();else{if(c.nodeName!="LI")c=i.getAncestorByTagName(c,"li");if(i.isAncestor(a.container,c)){a._updateInputFromSelectItem(c);a.fire("itemSelect");a.textInput.blur();a._submitForm()}}}})},
_submitForm:function(){if(this.config.submitFormOnClickSelect){var a=this.textInput.form;if(a){if(d.createEvent){var b=d.createEvent("MouseEvents");b.initEvent("submit",true,false);a.dispatchEvent(b)}else d.createEventObject&&a.fireEvent("onsubmit");a.submit()}}},_isInContainer:function(a){var b=i.getRegion(this.container);return a[0]>=b.left&&a[0]<=b.right&&a[1]>=b.top&&a[1]<=b.bottom},_initShim:function(){var a=d.createElement("iframe");a.src="about:blank";a.className="ks-suggest-shim";a.style.position=
"absolute";a.style.visibility="hidden";a.style.border="none";this.container.shim=a;this._setShimRegion();d.body.insertBefore(a,d.body.firstChild)},_setShimRegion:function(){var a=this.container,b=a.shim;if(b){b.style.left=parseInt(a.style.left)-2+"px";b.style.top=a.style.top;b.style.width=parseInt(a.style.width)+2+"px"}},_initStyle:function(){var a=e.get("#ks-suggest-style");if(!a){a=d.createElement("style");a.id="ks-suggest-style";f.appendChild(a);if(a.styleSheet)a.styleSheet.cssText=".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container li.selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container li.selected span{color:#FFF;cursor:default}.ks-suggest-bottom{padding:0 5px 5px}.ks-suggest-close-btn{float:right}.ks-suggest-container li,.suggest-bottom{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}";
else a.appendChild(d.createTextNode(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container li.selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container li.selected span{color:#FFF;cursor:default}.ks-suggest-bottom{padding:0 5px 5px}.ks-suggest-close-btn{float:right}.ks-suggest-container li,.suggest-bottom{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}"))}},
_initResizeEvent:function(){var a=this,b;q.on(p,"resize",function(){b&&clearTimeout(b);b=setTimeout(function(){a._setContainerRegion();a._setShimRegion()},50)})},start:function(){var a=this;o.focusInstance=a;a._timer=setTimeout(function(){a.updateContent();a._timer=setTimeout(arguments.callee,a.config.timerDelay)},a.config.timerDelay);a._isRunning=true},stop:function(){o.focusInstance=null;clearTimeout(this._timer);this._isRunning=false},show:function(){if(!this.isVisible()){var a=this.container,
b=a.shim;a.style.visibility="";if(b){if(!b.style.height){a=i.getRegion(a);b.style.height=a.bottom-a.top-2+"px"}b.style.visibility=""}}},hide:function(){if(this.isVisible()){var a=this.container,b=a.shim;if(b)b.style.visibility="hidden";a.style.visibility="hidden"}},isVisible:function(){return this.container.style.visibility!="hidden"},updateContent:function(){if(this._needUpdate()){this._updateQueryValueFromInput();var a=this.query;if(e.trim(a).length)if(this._dataCache[a]!==m){this.returnedData=
"using cache";this._fillContainer(this._dataCache[a]);this._displayContainer()}else this.JSONDataSource?this.handleResponse(this.JSONDataSource[a]):this.requestData();else{this._fillContainer("");this.hide()}}},_needUpdate:function(){return this.textInput.value!=this.query},requestData:function(){var a=this;if(!h)a.dataScript=null;if(!a.dataScript){var b=d.createElement("script");b.type="text/javascript";b.charset="utf-8";f.insertBefore(b,f.firstChild);a.dataScript=b;if(!h){var c=(new Date).getTime();
a._latestScriptTime=c;b.setAttribute("time",c);q.on(b,"load",function(){a._scriptDataIsOut=b.getAttribute("time")!=a._latestScriptTime})}}a.queryParams="q="+encodeURIComponent(a.query)+"&code=utf-8&callback=g_ks_suggest_callback";a.fire("dataRequest");a.dataScript.src=a.dataSource+"?"+a.queryParams},handleResponse:function(a){if(!this._scriptDataIsOut){this.returnedData=a;this.fire("dataReturn");this.returnedData=this.formatData(this.returnedData);var b="";a=this.returnedData.length;if(a>0){b=d.createElement("ol");
for(var c=0;c<a;++c){var g=this.returnedData[c],j=this.formatItem(g.key,g.result);j.setAttribute("key",g.key);b.appendChild(j)}b=b}this._fillContainer(b);a>0&&this.appendBottom();e.trim(this.container.innerHTML)&&this.fire("show");this._dataCache[this.query]=this.container.innerHTML;this._displayContainer()}},formatData:function(a){var b=[];if(!a)return b;if(e.isArray(a.result))a=a.result;var c=a.length;if(!c)return b;for(var g,j=0;j<c;++j){g=a[j];b[j]=typeof g==="string"?{key:g}:e.isArray(g)&&g.length>=
2?{key:g[0],result:g[1]}:g}return b},formatItem:function(a,b){var c=d.createElement("li"),g=d.createElement("span");g.className="ks-suggest-key";g.appendChild(d.createTextNode(a));c.appendChild(g);if(b!==m){a=this.config.resultFormat.replace("%result%",b);if(e.trim(a)){b=d.createElement("span");b.className="ks-suggest-result";b.appendChild(d.createTextNode(a));c.appendChild(b)}}return c},appendBottom:function(){var a=d.createElement("div");a.className="ks-suggest-bottom";if(this.config.showCloseBtn){var b=
d.createElement("a");b.href="javascript: void(0)";b.setAttribute("target","_self");b.className="ks-suggest-close-btn";b.appendChild(d.createTextNode(this.config.closeBtnText));a.appendChild(b)}e.trim(a.innerHTML)&&this.container.appendChild(a)},_fillContainer:function(a){if(a.nodeType==1){this.container.innerHTML="";this.container.appendChild(a)}else this.container.innerHTML=a;this.selectedItem=null},_displayContainer:function(){e.trim(this.container.innerHTML)?this.show():this.hide()},selectItem:function(a){var b=
this.container.getElementsByTagName("li");if(b.length!=0)if(this.isVisible()){if(this.selectedItem){a=i[a?"getNextSibling":"getPreviousSibling"](this.selectedItem);if(!a)this.textInput.value=this.query}else a=b[a?0:b.length-1];this._removeSelectedItem();if(a){this._setSelectedItem(a);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){n.removeClass(this.selectedItem,"selected");this.selectedItem=null},_setSelectedItem:function(a){n.addClass(a,"selected");this.selectedItem=
a},_getSelectedItemKey:function(){if(!this.selectedItem)return"";return this.selectedItem.getAttribute("key")},_updateQueryValueFromInput:function(){this.query=this.textInput.value},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)}});e.mix(o.prototype,e.EventTarget);p.g_ks_suggest_callback=function(a){o.focusInstance&&setTimeout(function(){o.focusInstance.handleResponse(a)},0)};e.Suggest=o});
KISSY.add("switchable",function(e,m){function o(d,f){f=f||{};if(!("mackupType"in f))if(f.panelCls)f.mackupType=1;else if(f.panels)f.mackupType=2;f=e.merge(o.Config,f);this.container=e.get(d);this.config=f;this.triggers=this.triggers||[];this.panels=this.panels||[];if(this.activeIndex===m)this.activeIndex=f.activeIndex;this._init()}var i=e.DOM,n=e.Event,q=document,p=o.prototype;o.Config={mackupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",
triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,activeTriggerCls:"active",steps:1,viewSize:[]};o.Plugins=[];e.mix(p,{_init:function(){var d=this,f=d.config;d.panels.length===0&&d._parseMackup();f.hasTriggers&&d._bindTriggers();e.each(o.Plugins,function(h){h.init&&h.init(d)})},_parseMackup:function(){var d=this.container,f=this.config,h=f.hasTriggers,k,a=[],b=[];switch(f.mackupType){case 0:if(k=e.get("."+f.navCls,d))a=i.children(k);k=e.get("."+f.contentCls,d);b=i.children(k);
break;case 1:a=e.query("."+f.triggerCls,d);b=e.query("."+f.panelCls,d);break;case 2:a=f.triggers;b=f.panels;break}d=b.length;this.length=d/f.steps;if(h&&d>0&&a.length===0)a=this._generateTriggersMackup(this.length);if(h){f=0;for(h=a.length;f<h;f++)this.triggers.push(a[f])}for(f=0;f<d;f++)this.panels.push(b[f]);this.content=k||b[0].parentNode},_generateTriggersMackup:function(d){var f=this.config,h=q.createElement("UL"),k,a;h.className=f.navCls;for(a=0;a<d;a++){k=q.createElement("LI");if(a===this.activeIndex)k.className=
f.activeTriggerCls;k.innerHTML=a+1;h.appendChild(k)}this.container.appendChild(h);return i.children(h)},_bindTriggers:function(){var d=this,f=d.config,h=d.triggers,k,a,b=h.length;for(a=0;a<b;a++)(function(c){k=h[c];n.on(k,"click",function(){d._onFocusTrigger(c)});n.on(k,"focus",function(){d._onFocusTrigger(c)});if(f.triggerType==="mouse"){n.on(k,"mouseenter",function(){d._onMouseEnterTrigger(c)});n.on(k,"mouseleave",function(){d._onMouseLeaveTrigger(c)})}})(a)},_onFocusTrigger:function(d){if(this.activeIndex!==
d){this.switchTimer&&this.switchTimer.cancel();this.switchTo(d)}},_onMouseEnterTrigger:function(d){var f=this;if(f.activeIndex!==d)f.switchTimer=e.later(function(){f.switchTo(d)},f.config.delay*1E3)},_onMouseLeaveTrigger:function(){this.switchTimer&&this.switchTimer.cancel()},switchTo:function(d,f){var h=this.config,k=this.triggers,a=this.panels,b=this.activeIndex,c=h.steps,g=b*c,j=d*c;if(d===b)return this;if(this.fire("beforeSwitch",{toIndex:d})===false)return this;if(h.hasTriggers)this._switchTrigger(b>
-1?k[b]:null,k[d]);if(f===m)f=d>b?"forward":"forward";this._switchView(a.slice(g,g+c),a.slice(j,j+c),d,f);this.activeIndex=d;return this},_switchTrigger:function(d,f){var h=this.config.activeTriggerCls;d&&i.removeClass(d,h);i.addClass(f,h)},_switchView:function(d,f){i.css(d,"display","none");i.css(f,"display","block");this.fire("switch")},prev:function(){var d=this.activeIndex;this.switchTo(d>0?d-1:this.length-1,"backward")},next:function(){var d=this.activeIndex;this.switchTo(d<this.length-1?d+1:
0,"forward")}});e.mix(p,e.EventTarget);e.Switchable=o});
KISSY.add("switchable-autoplay",function(e){var m=e.Event,o=e.Switchable;e.mix(o.Config,{autoplay:false,interval:5,pauseOnHover:true});o.Plugins.push({name:"autoplay",init:function(i){var n=i.config;if(n.autoplay){if(n.pauseOnHover){m.on(i.container,"mouseenter",function(){i.paused=true});m.on(i.container,"mouseleave",function(){setTimeout(function(){i.paused=false},n.interval*1E3)})}i.autoplayTimer=e.later(function(){i.paused||i.switchTo(i.activeIndex<i.length-1?i.activeIndex+1:0)},n.interval*1E3,
true)}}})});
KISSY.add("switchable-effect",function(e){var m=YAHOO.util,o=e.DOM,i=m.Dom,n=e.Switchable,q;e.mix(n.Config,{effect:"none",duration:0.5,easing:m.Easing.easeNone});n.Effects={none:function(p,d,f){o.css(p,"display","none");o.css(d,"display","block");f()},fade:function(p,d,f){p.length!==1&&e.error("fade effect only supports steps == 1.");var h=this,k=h.config,a=p[0],b=d[0];h.anim&&h.anim.stop();i.setStyle(b,"opacity",1);h.anim=new m.Anim(a,{opacity:{to:0}},k.duration,k.easing);h.anim.onComplete.subscribe(function(){h.anim=null;
i.setStyle(b,"z-index",9);i.setStyle(a,"z-index",1);f()});h.anim.animate()},scroll:function(p,d,f,h){var k=this;p=k.config;d=p.effect==="scrollx";var a={};a[d?"left":"top"]={to:-(k.viewSize[d?0:1]*h)};k.anim&&k.anim.stop();k.anim=new m.Anim(k.content,a,p.duration,p.easing);k.anim.onComplete.subscribe(function(){k.anim=null;f()});k.anim.animate()}};q=n.Effects;q.scrollx=q.scrolly=q.scroll;n.Plugins.push({name:"effect",init:function(p){var d=p.config,f=d.effect,h=p.panels,k=d.steps,a=p.activeIndex*
k,b=a+k-1,c=h.length;p.viewSize=[d.viewSize[0]||h[0].offsetWidth*k,d.viewSize[0]||h[0].offsetHeight*k];if(f!=="none"){for(d=0;d<c;d++)h[d].style.display="block";switch(f){case "scrollx":case "scrolly":p.content.style.position="absolute";p.content.parentNode.style.position="relative";if(f==="scrollx"){i.setStyle(h,"float","left");p.content.style.width=p.viewSize[0]*(c/k)+"px"}break;case "fade":for(d=0;d<c;d++){i.setStyle(h[d],"opacity",d>=a&&d<=b?1:0);h[d].style.position="absolute";h[d].style.zIndex=
d>=a&&d<=b?9:1}break}}}});e.mix(n.prototype,{_switchView:function(p,d,f,h){var k=this,a=k.config.effect;(typeof a==="function"?a:q[a]).call(k,p,d,function(){k.fire("switch")},f,h)}})});
KISSY.add("switchable-circular",function(e){function m(c,g,j,r,s){var l=this;c=l.config;g=l.length;var u=l.activeIndex,t=c.scrollType===a,v=t?q:p,w=l.viewSize[t?0:1];t=-w*r;var x={},z,y=s===k;if(z=y&&u===0&&r===g-1||s===h&&u===g-1&&r===0)t=o.call(l,l.panels,r,y,v,w);x[v]={to:t};l.anim&&l.anim.stop();l.anim=new YAHOO.util.Anim(l.content,x,c.duration,c.easing);l.anim.onComplete.subscribe(function(){z&&i.call(l,l.panels,r,y,v,w);l.anim=null;j()});l.anim.animate()}function o(c,g,j,r,s){var l=this.config.steps;
g=this.length;var u=j?g-1:0,t=(u+1)*l;for(l=u*l;l<t;l++){c[l].style.position=n;c[l].style[r]=(j?"-":f)+s*g+d}return j?s:-s*g}function i(c,g,j,r,s){var l=this.config.steps;g=this.length;var u=j?g-1:0,t=(u+1)*l;for(l=u*l;l<t;l++){c[l].style.position=f;c[l].style[r]=f}this.content.style[r]=j?-s*(g-1)+d:f}var n="relative",q="left",p="top",d="px",f="",h="forward",k="backward",a="scrollx",b=e.Switchable;e.mix(b.Config,{circular:false});b.Plugins.push({name:"circular",init:function(c){c=c.config;if(c.circular&&
(c.effect===a||c.effect==="scrolly")){c.scrollType=c.effect;c.effect=m}}})});
KISSY.add("switchable-lazyload",function(e){var m=e.DOM,o="beforeSwitch",i="img-src",n="textarea-data",q={},p=e.Switchable,d=e.DataLazyload;q[i]="data-lazyload-src-custom";q[n]="ks-datalazyload-custom";e.mix(p.Config,{lazyDataType:"",lazyDataFlag:""});p.Plugins.push({name:"autoplay",init:function(f){function h(g){var j=a.steps;g=g.toIndex*j;d.loadCustomLazyData(f.panels.slice(g,g+j),b,c);k()&&f.detach(o,h)}function k(){var g,j,r;if(b===i){g=e.query("img",f.container);j=0;for(r=g.length;j<r;j++)if(m.attr(g[j],
c))return false}else if(b===n){g=e.query("textarea",f.container);j=0;for(r=g.length;j<r;j++)if(m.hasClass(g[j],c))return false}return true}var a=f.config,b=a.lazyDataType,c=a.lazyDataFlag||q[b];!d||!b||!c||f.on(o,h)}})});KISSY.add("tabs",function(e){function m(o,i){if(!(this instanceof m))return new m(o,i);m.superclass.constructor.call(this,o,i)}e.extend(m,e.Switchable);e.Tabs=m});
KISSY.add("slide",function(e){function m(i,n){if(!(this instanceof m))return new m(i,n);n=e.merge(o,n||{});m.superclass.constructor.call(this,i,n)}var o={autoplay:true,circular:true};e.extend(m,e.Switchable);e.Slide=m});KISSY.add("carousel",function(e){function m(i,n){if(!(this instanceof m))return new m(i,n);n=e.merge(o,n||{});m.superclass.constructor.call(this,i,n)}var o={circular:true};e.extend(m,e.Switchable);e.Carousel=m});
KISSY.add("album",function(e){function m(i,n){if(!(this instanceof m))return new m(i,n);n=e.merge(o,n||{});m.superclass.constructor.call(this,i,n)}var o={circular:true};e.extend(m,e.Switchable);e.Album=m});
