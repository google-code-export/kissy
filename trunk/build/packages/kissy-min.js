/*
Copyright 2010, KISSY UI Library v1.0.8
MIT Licensed
build: 883 Jul 20 11:05
*/
(function(d,u,s){if(d[u]===s)d[u]={};u=d[u];var o=d.document,v=function(w,j,h,p){if(!j||!w)return w;if(h===s)h=true;var x,g,m;if(p&&(m=p.length))for(x=0;x<m;x++){g=p[x];if(g in j)if(h||!(g in w))w[g]=j[g]}else for(g in j)if(h||!(g in w))w[g]=j[g];return w},q=false,n=[],l=false,r=/^#?([\w-]+)$/;v(u,{version:"1.0.8",_init:function(){this.Env={mods:{},guid:0}},add:function(w,j){this.Env.mods[w]={name:w,fn:j};j(this);return this},ready:function(w){l||this._bindReady();q?w.call(d,this):n.push(w);return this},
_bindReady:function(){var w=this,j=o.documentElement.doScroll,h=j?"onreadystatechange":"DOMContentLoaded",p=function(){w._fireReady()};l=true;if(o.readyState==="complete")return p();if(o.addEventListener){var x=function(){o.removeEventListener(h,x,false);p()};o.addEventListener(h,x,false);d.addEventListener("load",p,false)}else{var g=function(){if(o.readyState==="complete"){o.detachEvent(h,g);p()}};o.attachEvent(h,g);d.attachEvent("onload",p);if(d==d.top){var m=function(){try{j("left");p()}catch(a){setTimeout(m,
1)}};m()}}},_fireReady:function(){if(!q){q=true;if(n){for(var w,j=0;w=n[j++];)w.call(d,this);n=null}}},available:function(w,j){if((w=(w+"").match(r)[1])&&u.isFunction(j))var h=1,p=u.later(function(){if(o.getElementById(w)&&(j()||1)||++h>500)p.cancel()},40,true)},mix:v,merge:function(){var w={},j,h=arguments.length;for(j=0;j<h;++j)v(w,arguments[j]);return w},augment:function(){var w=arguments,j=w.length-2,h=w[0],p=w[j],x=w[j+1],g=1;if(!u.isArray(x)){p=x;x=s;j++}if(!u.isBoolean(p)){p=s;j++}for(;g<j;g++)v(h.prototype,
w[g].prototype||w[g],p,x);return h},extend:function(w,j,h,p){if(!j||!w)return w;var x=Object.prototype,g=j.prototype,m=function(a){function b(){}b.prototype=a;return new b}(g);w.prototype=m;m.constructor=w;w.superclass=g;if(j!==Object&&g.constructor===x.constructor)g.constructor=j;h&&v(m,h);p&&v(w,p);return w},namespace:function(){var w=arguments.length,j=null,h,p,x;for(h=0;h<w;++h){x=(""+arguments[h]).split(".");j=this;for(p=d[x[0]]===j?1:0;p<x.length;++p)j=j[x[p]]=j[x[p]]||{}}return j},app:function(w,
j){var h=d[w]||{};v(h,this,true,["_init","add","namespace"]);h._init();return v(d[w]=h,typeof j==="function"?j():j)},log:function(w,j,h){if(this.Config.debug){if(h)w=h+": "+w;if(d.console!==s&&console.log)console[j&&console[j]?j:"log"](w)}return this},error:function(w){if(this.Config.debug)throw w;},guid:function(w){var j=this.Env.guid++ +"";return w?w+j:j}});u._init();u.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(d,u){function s(a){var b=typeof a;return a===null||b!=="object"&&b!=="function"}var o=window,v=document,q=location,n=Array.prototype,l=n.indexOf,r=n.filter,w=String.prototype.trim,j=Object.prototype.toString,h=encodeURIComponent,p=decodeURIComponent,x=/^\s+|\s+$/g,g=/^(\w+)\[\]$/,m=/\S/;d.mix(d,{isUndefined:function(a){return a===u},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a===
"number"&&isFinite(a)},isPlainObject:function(a){return a&&j.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var b in a)return false;return true},isFunction:function(a){return j.call(a)==="[object Function]"},isArray:function(a){return j.call(a)==="[object Array]"},trim:w?function(a){return a==u?"":w.call(a)}:function(a){return a==u?"":a.toString().replace(x,"")},each:function(a,b,c){for(var f=a&&a.length||0,k=0;k<f;++k)b.call(c||o,a[k],k,a)},indexOf:l?function(a,
b){return l.call(b,a)}:function(a,b){for(var c=0,f=b.length;c<f;++c)if(b[c]===a)return c;return-1},inArray:function(a,b){return d.indexOf(a,b)>-1},makeArray:function(a){if(a===null||a===u)return[];if(d.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||d.isFunction(a))return[a];if(a.item&&d.UA.ie){for(var b=[],c=0,f=a.length;c<f;++c)b[c]=a[c];return b}return n.slice.call(a)},filter:r?function(a,b,c){return r.call(a,b,c)}:function(a,b,c){var f=[];d.each(a,function(k,e,i){b.call(c,
k,e,i)&&f.push(k)});return f},param:function(a,b){if(!d.isPlainObject(a))return"";b=b||"&";var c=[],f,k;for(f in a){k=a[f];f=h(f);if(s(k))c.push(f,"=",h(k+""),b);else if(d.isArray(k)&&k.length)for(var e=0,i=k.length;e<i;++e)s(k[e])&&c.push(f,"[]=",h(k[e]+""),b)}c.pop();return c.join("")},unparam:function(a,b){if(typeof a!=="string"||(a=d.trim(a)).length===0)return{};var c={};a=a.split(b||"&");for(var f,k,e,i=0,t=a.length;i<t;++i){b=a[i].split("=");f=p(b[0]);try{k=p(b[1]||"")}catch(y){k=b[1]||""}if((e=
f.match(g))&&e[1]){c[e[1]]=c[e[1]]||[];c[e[1]].push(k)}else c[f]=k}return c},later:function(a,b,c,f,k){b=b||0;f=f||{};var e=a,i=d.makeArray(k),t;if(typeof a==="string")e=f[a];e||d.error("method undefined");a=function(){e.apply(f,i)};t=c?setInterval(a,b):setTimeout(a,b);return{id:t,interval:c,cancel:function(){this.interval?clearInterval(t):clearTimeout(t)}}},clone:function(a){var b=a,c,f;if(a&&((c=d.isArray(a))||d.isPlainObject(a))){b=c?[]:{};for(f in a)if(a.hasOwnProperty(f))b[f]=d.clone(a[f])}return b},
now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&m.test(a)){var b=v.getElementsByTagName("head")[0]||v.documentElement,c=v.createElement("script");c.text=a;b.insertBefore(c,b.firstChild);b.removeChild(c)}}});if(q&&q.search&&q.search.indexOf("ks-debug")!==-1)d.Config.debug=true});
KISSY.add("kissy-ua",function(d){var u=navigator.userAgent,s,o={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},v=function(q){var n=0;return parseFloat(q.replace(/\./g,function(){return n++===0?".":""}))};if((s=u.match(/AppleWebKit\/([\d.]*)/))&&s[1]){o.webkit=v(s[1]);if((s=u.match(/Chrome\/([\d.]*)/))&&s[1])o.chrome=v(s[1]);else if((s=u.match(/\/([\d.]*) Safari/))&&s[1])o.safari=v(s[1]);if(/ Mobile\//.test(u))o.mobile="Apple";else if(s=u.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))o.mobile=
s[0]}else if((s=u.match(/Opera\/.* Version\/([\d.]*)/))&&s[1]){o.opera=v(s[1]);if(u.match(/Opera Mini[^;]*/))o.mobile=s[0]}else if((s=u.match(/MSIE\s([^;]*)/))&&s[1])o.ie=v(s[1]);else if(s=u.match(/Gecko/)){o.gecko=1;if((s=u.match(/rv:([\d.]*)/))&&s[1])o.gecko=v(s[1]);if((s=u.match(/Firefox\/([\d.]*)/))&&s[1])o.firefox=v(s[1])}d.UA=o});KISSY.add("dom",function(d){d.DOM={_isElementNode:function(u){return u&&u.nodeType===1}}});
KISSY.add("selector",function(d,u){function s(g,m){var a,b=[],c,f;m=o(m);if(d.isString(g)){g=d.trim(g);if(p.test(g)){if(g=v(g.slice(1)))b=[g]}else if(a=x.exec(g)){c=a[1];f=a[2];a=a[3];if(m=c?v(c):m)if(a)if(!c||g.indexOf(j)!==-1)b=n(a,f,m);else{if((g=v(c))&&w.hasClass(g,a))b=[g]}else if(f)b=q(m,f)}else if(d.ExternalSelector)return d.ExternalSelector(g,m);else l(g)}else if(g&&g.nodeType)b=[g];else if(g&&(d.isArray(g)||g.item||g.getDOMNode))b=g;if(b.item)b=d.makeArray(b);return b}function o(g){if(g===
u)g=r;else if(d.isString(g)&&p.test(g))g=v(g.slice(1));else if(g&&g.nodeType!==1&&g.nodeType!==9)g=null;return g}function v(g){return r.getElementById(g)}function q(g,m){return g.getElementsByTagName(m)}function n(g,m,a){a=g=a.getElementsByClassName(g);var b=0,c=0,f=g.length,k;if(m&&m!==h){a=[];for(m=m.toUpperCase();b<f;++b){k=g[b];if(k.tagName===m)a[c++]=k}}return a}function l(g){d.error("Unsupported selector: "+g)}var r=document,w=d.DOM,j=" ",h="*",p=/^#[\w-]+$/,x=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;
(function(){var g=r.createElement("div");g.appendChild(r.createComment(""));if(g.getElementsByTagName(h).length>0)q=function(m,a){m=m.getElementsByTagName(a);if(a===h){a=[];for(var b=0,c=0,f;f=m[b++];)if(f.nodeType===1)a[c++]=f;m=a}return m}})();r.getElementsByClassName||(n=r.querySelectorAll?function(g,m,a){return a.querySelectorAll((m?m:"")+"."+g)}:function(g,m,a){m=a.getElementsByTagName(m||h);a=[];var b=0,c=0,f=m.length,k,e;for(g=j+g+j;b<f;++b){k=m[b];if((e=k.className)&&(j+e+j).indexOf(g)>-1)a[c++]=
k}return a});d.query=s;d.get=function(g,m){return s(g,m)[0]||null};d.mix(w,{query:s,get:d.get,filter:function(g,m){var a=s(g),b,c,f,k=[];if(d.isString(m)&&(b=x.exec(m))&&!b[1]){c=b[2];f=b[3];m=function(e){return!(c&&e.tagName!==c.toUpperCase()||f&&!w.hasClass(e,f))}}if(d.isFunction(m))k=d.filter(a,m);else if(m&&d.ExternalSelector)k=d.ExternalSelector._filter(g,m);else l(m);return k},test:function(g,m){g=s(g);return w.filter(g,m).length===g.length}})});
KISSY.add("dom-class",function(d,u){function s(n,l,r,w){if(!(l=d.trim(l)))return w?false:u;n=d.query(n);var j=0,h=n.length;l=l.split(v);for(var p;j<h;j++){p=n[j];if(o._isElementNode(p)){p=r(p,l,l.length);if(p!==u)return p}}if(w)return false}var o=d.DOM,v=/[\.\s]\s*\.?/,q=/[\n\t]/g;d.mix(o,{hasClass:function(n,l){return s(n,l,function(r,w,j){if(r=r.className){r=" "+r+" ";for(var h=0,p=true;h<j;h++)if(r.indexOf(" "+w[h]+" ")<0){p=false;break}if(p)return true}},true)},addClass:function(n,l){s(n,l,function(r,
w,j){var h=r.className;if(h){var p=" "+h+" ";h=h;for(var x=0;x<j;x++)if(p.indexOf(" "+w[x]+" ")<0)h+=" "+w[x];r.className=d.trim(h)}else r.className=l})},removeClass:function(n,l){s(n,l,function(r,w,j){var h=r.className;if(h)if(j){h=(" "+h+" ").replace(q," ");for(var p=0,x;p<j;p++)for(x=" "+w[p]+" ";h.indexOf(x)>=0;)h=h.replace(x," ");r.className=d.trim(h)}else r.className=""})},replaceClass:function(n,l,r){o.removeClass(n,l);o.addClass(n,r)},toggleClass:function(n,l,r){var w=d.isBoolean(r),j;s(n,
l,function(h,p,x){for(var g=0,m;g<x;g++){m=p[g];j=w?!r:o.hasClass(h,m);o[j?"removeClass":"addClass"](h,m)}})}})});
KISSY.add("dom-attr",function(d,u){function s(g,m){return m&&m.nodeName.toUpperCase()===g.toUpperCase()}var o=d.UA,v=o.ie,q=v&&v<8,n=document.documentElement.textContent!==u?"textContent":"innerText",l=d.DOM,r=l._isElementNode,w=/href|src|style/,j=/href|src|colspan|rowspan/,h=/\r/g,p=/radio|checkbox/,x={readonly:"readOnly"};q&&d.mix(x,{"for":"htmlFor","class":"className"});d.mix(l,{attr:function(g,m,a){if(m=d.trim(m)){m=m.toLowerCase();m=x[m]||m;if(a===u){g=d.get(g);if(!r(g))return u;var b;w.test(m)||
(b=g[m]);if(b===u)b=g.getAttribute(m);if(q)if(j.test(m))b=g.getAttribute(m,2);else if(m==="style")b=g.style.cssText;return b===null?u:b}d.each(d.query(g),function(c){if(r(c))if(q&&m==="style")c.style.cssText=a;else c.setAttribute(m,""+a)})}},removeAttr:function(g,m){d.each(d.query(g),function(a){r(a)&&a.removeAttribute(m)})},val:function(g,m){if(m===u){var a=d.get(g);if(!r(a))return u;if(s("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(s("select",a)){var b=a.selectedIndex;
g=a.options;if(b<0)return null;else if(a.type==="select-one")return l.val(g[b]);a=[];for(var c=0,f=g.length;c<f;++c)g[c].selected&&a.push(l.val(g[c]));return a}if(o.webkit&&p.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(h,"")}d.each(d.query(g),function(k){if(s("select",k)){if(d.isNumber(m))m+="";var e=d.makeArray(m),i=k.options,t;c=0;for(f=i.length;c<f;++c){t=i[c];t.selected=d.inArray(l.val(t),e)}if(!e.length)k.selectedIndex=-1}else if(r(k))k.value=m})},
text:function(g,m){if(m===u){g=d.get(g);if(r(g))return g[n]||""}else d.each(d.query(g),function(a){if(r(a))a[n]=m})}})});
KISSY.add("dom-style",function(d,u){function s(a,b){var c=d.get(a),f=b===r?c.offsetWidth:c.offsetHeight;d.each(b===r?["Left","Right"]:["Top","Bottom"],function(k){f-=parseFloat(v._getComputedStyle(c,"padding"+k))||0;f-=parseFloat(v._getComputedStyle(c,"border"+k+"Width"))||0});return f}function o(a,b,c){var f=c;if(c===w&&h.test(b)){f=0;if(v.css(a,"position")==="absolute"){c=a[b==="left"?"offsetLeft":"offsetTop"];if(q.ie===8||q.opera)c-=j(v.css(a.offsetParent,"border-"+b+"-width"))||0;f=c-(j(v.css(a,
"margin-"+b))||0)}}return f}var v=d.DOM,q=d.UA,n=document,l=n.documentElement,r="width",w="auto",j=parseInt,h=/^left|top$/,p=/width|height|top|left|right|bottom|margin|padding/i,x=/-([a-z])/ig,g=function(a,b){return b.toUpperCase()},m={};d.mix(v,{_CUSTOM_STYLES:m,_getComputedStyle:function(a,b){var c="",f=a.ownerDocument;if(a.style)c=f.defaultView.getComputedStyle(a,null)[b];return c},css:function(a,b,c){if(d.isPlainObject(b))for(var f in b)v.css(a,f,b[f]);else{if(b.indexOf("-")>0)b=b.replace(x,g);
b=m[b]||b;if(c===u){a=d.get(a);f="";if(a&&a.style){f=b.get?b.get(a):a.style[b];if(f===""&&!b.get)f=o(a,b,v._getComputedStyle(a,b))}return f===u?"":f}else{if(c===null||c==="")c="";else if(!isNaN(new Number(c))&&p.test(b))c+="px";(b===r||b==="height")&&parseFloat(c)<0||d.each(d.query(a),function(k){if(k&&k.style)b.set?b.set(k,c):(k.style[b]=c)})}}},width:function(a,b){if(b===u)return s(a,r);else v.css(a,r,b)},height:function(a,b){if(b===u)return s(a,"height");else v.css(a,"height",b)},addStyleSheet:function(a,
b){var c;if(b)c=d.get(b);c||(c=v.create("<style>",{id:b}));d.get("head").appendChild(c);if(c.styleSheet)c.styleSheet.cssText=a;else c.appendChild(n.createTextNode(a))}});if(l.style.cssFloat!==u)m["float"]="cssFloat";else if(l.style.styleFloat!==u)m["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(d,u){if(d.UA.ie){var s=d.DOM,o=document,v=o.documentElement,q=s._CUSTOM_STYLES,n=/^-?\d+(?:px)?$/i,l=/^-?\d/,r=/^width|height$/;try{if(v.style.opacity===u&&v.filters)q.opacity={get:function(j){var h=100;try{h=j.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(p){try{h=j.filters("alpha").opacity}catch(x){}}return h/100+""},set:function(j,h){j=j.style;j.zoom=1;j.filter="alpha(opacity="+h*100+")"}}}catch(w){d.log("IE filters ActiveX is disabled. ex = "+w)}if(!(o.defaultView||
{}).getComputedStyle&&v.currentStyle)s._getComputedStyle=function(j,h){var p=j.style,x=j.currentStyle[h];if(r.test(h))x=s[h](j)+"px";else if(!n.test(x)&&l.test(x)){var g=p.left,m=j.runtimeStyle.left;j.runtimeStyle.left=j.currentStyle.left;p.left=h==="fontSize"?"1em":x||0;x=p.pixelLeft+"px";p.left=g;j.runtimeStyle.left=m}return x}}});
KISSY.add("dom-offset",function(d,u){function s(e){var i=0,t=0,y=v(e[m]);if(e[k]){e=e[k]();i=e[a]+q[c](y);t=e[b]+q[f](y)}return{left:i,top:t}}function o(e,i){if(q.css(e,p)==="static")e.style[p]=x;var t=s(e),y={},z,B;for(B in i){z=h(q.css(e,B),10)||0;y[B]=z+i[B]-t[B]}q.css(e,y)}function v(e){return e&&"scrollTo"in e&&e[g]?e:e&&e.nodeType===9?e.defaultView||e.parentWindow:false}var q=d.DOM,n=window,l=document,r=q._isElementNode,w=l.compatMode==="CSS1Compat",j=Math.max,h=parseInt,p="position",x="relative",
g="document",m="ownerDocument",a="left",b="top",c="scrollLeft",f="scrollTop",k="getBoundingClientRect";d.mix(q,{offset:function(e,i){if(!(e=d.get(e))||!e[m])return null;if(i===u)return s(e);o(e,i)},scrollIntoView:function(e,i,t,y){if((e=d.get(e))&&e[m]){i=d.get(i);y=y===u?true:!!y;t=t===u?true:!!t;if(!r(i))return e.scrollIntoView(t);var z=q.offset(e),B=q.offset(i),A={left:z[a]-B[a],top:z[b]-B[b]};z=i.clientHeight;B=i.clientWidth;var D=q[c](i),C=q[f](i),E=D+B,F=C+z,G=e.offsetHeight;e=e.offsetWidth;
var H=A.left+D-(h(q.css(i,"borderLeftWidth"))||0);A=A.top+C-(h(q.css(i,"borderTopWidth"))||0);var I=H+e,J=A+G;if(G>z||A<C||t)i[f]=A;else if(J>F)i[f]=J-z;if(y)if(e>B||H<D||t)i[c]=H;else if(I>E)i[c]=I-B}}});d.each(["Left","Top"],function(e,i){var t="scroll"+e;q[t]=function(y){var z=0,B=y===u?n:v(y),A;if(B&&(A=B[g]))z=B[i?"pageYOffset":"pageXOffset"]||A.documentElement[t]||A.body[t];else if(r(y=d.get(y)))z=y[t];return z}});d.each(["Width","Height"],function(e){q["doc"+e]=function(i){i=i||l;return j(w?
i.documentElement["scroll"+e]:i.body["scroll"+e],q["viewport"+e](i))};q["viewport"+e]=function(i){var t="inner"+e;i=v(i)||n;var y=i[g];return t in i?i[t]:w?y.documentElement["client"+e]:y.body["client"+e]}})});
KISSY.add("dom-traversal",function(d,u){function s(n,l,r,w){if(!(n=d.get(n)))return null;if(l===u)l=1;var j=null,h,p;if(d.isNumber(l)&&l>=0){if(l===0)return n;h=0;p=l;l=function(){return++h===p}}for(;n=n[r];)if(q(n)&&(!l||v.test(n,l))&&(!w||w(n))){j=n;break}return j}function o(n,l,r){var w=[];var j=n=d.get(n);if(n&&r)j=n.parentNode;if(j){r=0;for(j=j.firstChild;j;j=j.nextSibling)if(q(j)&&j!==n&&(!l||v.test(j,l)))w[r++]=j}return w}var v=d.DOM,q=v._isElementNode;d.mix(v,{parent:function(n,l){return s(n,
l,"parentNode",function(r){return r.nodeType!=11})},next:function(n,l){return s(n,l,"nextSibling")},prev:function(n,l){return s(n,l,"previousSibling")},siblings:function(n,l){return o(n,l,true)},children:function(n,l){return o(n,l)},contains:function(n,l){var r=false;if((n=d.get(n))&&(l=d.get(l)))if(n.contains)return n.contains(l);else if(n.compareDocumentPosition)return!!(n.compareDocumentPosition(l)&16);else for(;!r&&(l=l.parentNode);)r=l==n;return r}})});
KISSY.add("dom-create",function(d,u){function s(e,i){if(j(e)&&i)for(var t in i)l.attr(e,t,i[t]);return e}function o(e,i){var t=null,y;if(e&&(e.push||e.item)&&e[0]){i=i||e[0].ownerDocument;t=i.createDocumentFragment();if(e.item)e=d.makeArray(e);i=0;for(y=e.length;i<y;i++)t.appendChild(e[i])}else d.log("Unable to convert "+e+" to fragment.");return t}function v(e,i,t,y){if(t){var z=d.guid("ks-tmp-");i+='<span id="'+z+'"></span>';d.available(z,function(){var B=d.get("head"),A,D,C,E,F,G;for(g.lastIndex=
0;A=g.exec(i);)if((C=(D=A[1])?D.match(m):false)&&C[2]){A=n.createElement("script");A.src=C[2];if((E=D.match(a))&&E[2])A.charset=E[2];A.async=true;B.appendChild(A)}else if((G=A[2])&&G.length>0)d.globalEval(G);(F=n.getElementById(z))&&l.remove(F);d.isFunction(y)&&y()});q(e,i)}else{q(e,i);d.isFunction(y)&&y()}}function q(e,i){i=i.replace(g,"");try{e.innerHTML=i}catch(t){for(;e.firstChild;)e.removeChild(e.firstChild);i&&e.appendChild(l.create(i))}}var n=document,l=d.DOM,r=d.UA,w=r.ie,j=l._isElementNode,
h=n.createElement("div"),p=/<(\w+)/,x=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/<script([^>]*)>([\s\S]*?)<\/script>/ig,m=/\ssrc=(['"])(.*?)\1/i,a=/\scharset=(['"])(.*?)\1/i;d.mix(l,{create:function(e,i,t){if(j(e))return e;if(!(e=d.trim(e)))return null;var y=null;y=l._creators;var z,B="div",A;if(z=x.exec(e))y=(t||n).createElement(z[1]);else{if((z=p.exec(e))&&(A=z[1])&&d.isFunction(y[A=A.toLowerCase()]))B=A;e=y[B](e,t).childNodes;y=e.length===1?e[0].parentNode.removeChild(e[0]):o(e,t||n)}return s(y,i)},_creators:{div:function(e,
i){i=i?i.createElement("div"):h;i.innerHTML=e;return i}},html:function(e,i,t,y){if(i===u){e=d.get(e);if(j(e))return e.innerHTML}else d.each(d.query(e),function(z){j(z)&&v(z,i,t,y)})},remove:function(e){d.each(d.query(e),function(i){j(i)&&i.parentNode&&i.parentNode.removeChild(i)})}});if(r.gecko||w){var b=l._creators,c=l.create,f=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/;r={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var k in r)(function(e){b[k]=
function(i,t){return c("<"+e+">"+i+"</"+e+">",null,t)}})(r[k]);if(w){b.script=function(e,i){i=i?i.createElement("div"):h;i.innerHTML="-"+e;i.removeChild(i.firstChild);return i};if(w<8)b.tbody=function(e,i){i=c("<table>"+e+"</table>",null,i);var t=i.children.tags("tbody")[0];i.children.length>1&&t&&!f.test(e)&&t.parentNode.removeChild(t);return i}}d.mix(b,{optgroup:b.option,th:b.td,thead:b.tbody,tfoot:b.tbody,caption:b.tbody,colgroup:b.tbody})}});
KISSY.add("dom-insertion",function(d){var u=d.DOM;d.mix(u,{insertBefore:function(s,o){s=u.create(s);o=d.get(o);s&&o&&o.parentNode&&o.parentNode.insertBefore(s,o);return s},insertAfter:function(s,o){s=u.create(s);o=d.get(o);if(s&&o&&o.parentNode)o.nextSibling?o.parentNode.insertBefore(s,o.nextSibling):o.parentNode.appendChild(s);return s}})});
KISSY.add("event",function(d,u){function s(a,b,c,f,k){if(d.isString(b))b=d.query(b);if(d.isArray(b)){d.each(b,function(e){m[a](e,c,f,k)});return true}if((c=d.trim(c))&&c.indexOf(p)>0){d.each(c.split(p),function(e){m[a](b,e,f,k)});return true}}function o(a){return n(a)?a[h]:-1}function v(a,b){if(!n(a))return d.error("Text or comment node is not valid event target.");try{a[h]=b}catch(c){d.error(c)}}function q(a){try{a[h]=u;delete a[h]}catch(b){}}function n(a){return a&&a.nodeType!==3&&a.nodeType!==
8}var l=window,r=document,w=r.addEventListener?function(a,b,c,f){a.addEventListener&&a.addEventListener(b,c,!!f)}:function(a,b,c){a.attachEvent&&a.attachEvent("on"+b,c)},j=r.removeEventListener?function(a,b,c,f){a.removeEventListener&&a.removeEventListener(b,c,!!f)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},h="ksEventTargetId",p=" ",x=d.now(),g={},m={EVENT_GUID:h,special:{},add:function(a,b,c,f){if(!s("add",a,b,c,f)){var k=o(a),e,i;if(!(k===-1||!b||!d.isFunction(c))){if(!k){v(a,k=x++);
g[k]={target:a,events:{}}}i=g[k].events;e=!a.isCustomEventTarget&&m.special[b]||{};if(!i[b]){k=function(t,y){if(!t||!t.fixed){t=new d.EventObject(a,t,b);d.isPlainObject(y)&&d.mix(t,y)}e.setup&&e.setup(t);return(e.handle||m._handle)(a,t,i[b].listeners,f)};i[b]={handle:k,listeners:[]};if(a.isCustomEventTarget)a._addEvent&&a._addEvent(b,k);else w(a,e.fix||b,k,e.capture)}i[b].listeners.push(c)}}},remove:function(a,b,c){if(!s("remove",a,b,c)){var f=o(a),k,e,i,t,y,z;if(f!==-1)if(f&&(k=g[f]))if(k.target===
a){k=k.events||{};if(e=k[b]){i=e.listeners;y=i.length;if(d.isFunction(c)&&y&&d.inArray(c,i)){z=[];for(t=0;t<y;++t)c!==i[t]&&z.push(i[t]);y=z.length}if(c===u||y===0){if(a.isCustomEventTarget)a._addEvent&&a._removeEvent(b,e.handle);else j(a,b,e.handle);delete k[b]}}if(b===u||d.isEmptyObject(k)){for(b in k)m.remove(a,b);delete g[f];q(a)}}}},_handle:function(a,b,c,f){c=c.slice(0);var k,e=0,i=c.length;for(f=f||a;e<i;++e){k=c[e].call(f,b);if(k===false&&a.isCustomEventTarget||b.isImmediatePropagationStopped)break}return k},
_getCache:function(a){return g[a]},_simpleAdd:w,_simpleRemove:j};m.on=m.add;d.Event=m;l.attachEvent&&!l.addEventListener&&l.attachEvent("onunload",function(){var a,b;for(a in g)if(b=g[a].target)try{m.remove(b)}catch(c){}})});
KISSY.add("event-object",function(d,u){function s(q,n,l){this.currentTarget=q;this.originalEvent=n||{};if(n){this.type=n.type;this._fix()}else{this.type=l;this.target=q}this.fixed=true}var o=document,v="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");d.mix(s.prototype,
{_fix:function(){for(var q=this.originalEvent,n=v.length,l;n;){l=v[--n];this[l]=q[l]}if(!this.target)this.target=this.srcElement||o;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===u&&this.clientX!==u){q=o.documentElement;n=o.body;this.pageX=this.clientX+(q&&q.scrollLeft||n&&n.scrollLeft||0)-(q&&q.clientLeft||n&&n.clientLeft||0);this.pageY=this.clientY+
(q&&q.scrollTop||n&&n.scrollTop||0)-(q&&q.clientTop||n&&n.clientTop||0)}if(this.which===u)this.which=this.charCode!==u?this.charCode:this.keyCode;if(this.metaKey===u)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==u)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var q=this.originalEvent;if(q.preventDefault)q.preventDefault();else q.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var q=this.originalEvent;if(q.stopPropagation)q.stopPropagation();
else q.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var q=this.originalEvent;q.stopImmediatePropagation?q.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(q){q?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});d.EventObject=s});
KISSY.add("event-target",function(d,u){var s=d.Event,o=s.EVENT_GUID;d.EventTarget={isCustomEventTarget:true,fire:function(v,q){if((v=((s._getCache(this[o]||-1)||{}).events||{})[v])&&d.isFunction(v.handle))return v.handle(u,q)},on:function(v,q,n){s.add(this,v,q,n)},detach:function(v,q){s.remove(this,v,q)}}});
KISSY.add("event-mouseenter",function(d){var u=d.Event;d.UA.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(s){u.special[s.name]={fix:s.fix,setup:function(o){o.type=s.name},handle:function(o,v,q){var n=v.relatedTarget;try{for(;n&&n!==o;)n=n.parentNode;n!==o&&u._handle(o,v,q)}catch(l){}}}})});
KISSY.add("event-focusin",function(d){var u=d.Event;document.addEventListener&&d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){u.special[s.name]={fix:s.fix,capture:true,setup:function(o){o.type=s.name}}})});
KISSY.add("node",function(d){function u(o,v,q){var n;if(!(this instanceof u))return new u(o,v,q);if(!o)return null;if(s._isElementNode(o))n=o;else if(typeof o==="string")n=s.create(o,v,q);this[0]=n}var s=d.DOM;d.augment(u,{length:1,getDOMNode:function(){return this[0]}});d.one=function(o,v){return new u(d.get(o,v))};d.Node=u});
KISSY.add("nodelist",function(d){function u(v){if(!(this instanceof u))return new u(v);o.push.apply(this,v||[])}var s=d.DOM,o=Array.prototype;d.mix(u.prototype,{length:0,item:function(v){var q=null;if(s._isElementNode(this[v]))q=new d.Node(this[v]);return q},getDOMNodes:function(){return o.slice.call(this)},each:function(v,q){for(var n=this.length,l=0,r;l<n;++l){r=new d.Node(this[l]);v.call(q||r,r,l,this)}return this}});d.all=function(v,q){return new u(d.query(v,q,true))};d.NodeList=u});
KISSY.add("node-attach",function(d,u){function s(x,arguments,g,m){var a=[this[x?w:r]()].concat(d.makeArray(arguments));if(arguments[g]===u)return m.apply(v,a);else{m.apply(v,a);return this}}function o(x,g){d.each(x,function(m){d.each([n,l],function(a,b){a[m]=function(c){switch(g){case j:return function(){return s.call(this,b,arguments,1,c)};case h:return function(){return s.call(this,b,arguments,0,c)};case p:return function(){var f=this[b?w:r]();return(f=c.apply(v,[f].concat(d.makeArray(arguments))))?
new d[f.length?"NodeList":"Node"](f):null};default:return function(){var f=this[b?w:r]();f=c.apply(v,[f].concat(d.makeArray(arguments)));return f===u?this:f}}}(v[m])})})}var v=d.DOM,q=d.Event,n=d.Node.prototype,l=d.NodeList.prototype,r="getDOMNode",w=r+"s",j=1,h=2,p=4;d.mix(n,{one:function(x){return d.one(x,this[0])},all:function(x){return d.all(x,this[0])}});o(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);o(["attr","removeAttr"],j);o(["val","text"],h);o(["css"],j);o(["width",
"height"],h);o(["offset"],h);o(["scrollIntoView"]);o(["parent","next","prev","siblings","children"],p);o(["contains"]);o(["html"],h);o(["remove"]);d.each([n,l],function(x){d.mix(x,{append:function(g){g&&d.each(this,function(m){m.appendChild(v.create(g))});return this},appendTo:function(g){if((g=d.get(g))&&g.appendChild)d.each(this,function(m){g.appendChild(m)});return this}})});d.each([n,l],function(x){d.mix(x,d.EventTarget);x._addEvent=function(g,m){for(var a=0,b=this.length;a<b;a++)q._simpleAdd(this[a],
g,m)};x._removeEvent=function(g,m){for(var a=0,b=this.length;a<b;a++)q._simpleRemove(this[a],g,m)};delete x.fire})});
KISSY.add("ajax",function(d){var u=document,s=u.createElement("script").readyState?function(o,v){o.onreadystatechange=function(){var q=o.readyState;if(q==="loaded"||q==="complete"){o.onreadystatechange=null;v.call(this)}}}:function(o,v){o.onload=v};d.Ajax={request:function(){d.error("not implemented")},getScript:function(o,v,q){var n=d.get("head")||u.documentElement,l=u.createElement("script");l.src=o;if(q)l.charset=q;l.async=true;d.isFunction(v)&&s(l,v);n.appendChild(l)}}});
KISSY.add("cookie",function(d){function u(q){return typeof q==="string"&&q!==""}var s=document,o=encodeURIComponent,v=decodeURIComponent;d.Cookie={get:function(q){var n;if(u(q))if(q=s.cookie.match("(?:^| )"+q+"(?:(?:=([^;]*))|;|$)"))n=q[1]?v(q[1]):"";return n},set:function(q,n,l,r,w,j){n=o(n);var h=l;if(typeof h==="number"){h=new Date;h.setTime(h.getTime()+l*864E5)}if(h instanceof Date)n+="; expires="+h.toUTCString();if(u(r))n+="; domain="+r;if(u(w))n+="; path="+w;if(j)n+="; secure";s.cookie=q+"="+
n},remove:function(q,n,l,r){this.set(q,"",0,n,l,r)}}});
KISSY.add("json",function(d){function u(j){return j<10?"0"+j:j}function s(j){q.lastIndex=0;return q.test(j)?'"'+j.replace(q,function(h){var p=r[h];return typeof p==="string"?p:"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+j+'"'}function o(j,h){var p,x,g=n,m,a=h[j];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(j);if(typeof w==="function")a=w.call(h,j,a);switch(typeof a){case "string":return s(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";n+=l;m=[];if(Object.prototype.toString.apply(a)==="[object Array]"){x=a.length;for(j=0;j<x;j+=1)m[j]=o(j,a)||"null";h=m.length===0?"[]":n?"[\n"+n+m.join(",\n"+n)+"\n"+g+"]":"["+m.join(",")+"]";n=g;return h}if(w&&typeof w==="object"){x=w.length;for(j=0;j<x;j+=1){p=w[j];if(typeof p==="string")if(h=o(p,a))m.push(s(p)+(n?": ":":")+h)}}else for(p in a)if(Object.hasOwnProperty.call(a,p))if(h=o(p,a))m.push(s(p)+(n?": ":":")+h);h=m.length===0?"{}":n?"{\n"+n+m.join(",\n"+n)+
"\n"+g+"}":"{"+m.join(",")+"}";n=g;return h}}d=d.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+u(this.getUTCMonth()+1)+"-"+u(this.getUTCDate())+"T"+u(this.getUTCHours())+":"+u(this.getUTCMinutes())+":"+u(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var v=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
q=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,l,r={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},w;if(typeof d.stringify!=="function")d.stringify=function(j,h,p){var x;l=n="";if(typeof p==="number")for(x=0;x<p;x+=1)l+=" ";else if(typeof p==="string")l=p;if((w=h)&&typeof h!=="function"&&(typeof h!=="object"||typeof h.length!=="number"))throw new Error("JSON.stringify");return o("",
{"":j})};if(typeof d.parse!=="function")d.parse=function(j,h){function p(x,g){var m,a,b=x[g];if(b&&typeof b==="object")for(m in b)if(Object.hasOwnProperty.call(b,m)){a=p(b,m);if(a!==undefined)b[m]=a;else delete b[m]}return h.call(x,g,b)}j=String(j);v.lastIndex=0;if(v.test(j))j=j.replace(v,function(x){return"\\u"+("0000"+x.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(j.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+j+")");return typeof h==="function"?p({"":j},""):j}throw new SyntaxError("JSON.parse");}});
(function(){function d(a,b,c,f,k,e){k=0;for(var i=f.length;k<i;k++){var t=f[k];if(t){t=t[a];for(var y=false;t;){if(t.sizcache===c){y=f[t.sizset];break}if(t.nodeType===1&&!e){t.sizcache=c;t.sizset=k}if(t.nodeName.toLowerCase()===b){y=t;break}t=t[a]}f[k]=y}}}function u(a,b,c,f,k,e){k=0;for(var i=f.length;k<i;k++){var t=f[k];if(t){t=t[a];for(var y=false;t;){if(t.sizcache===c){y=f[t.sizset];break}if(t.nodeType===1){if(!e){t.sizcache=c;t.sizset=k}if(typeof b!=="string"){if(t===b){y=true;break}}else if(l.filter(b,
[t]).length>0){y=t;break}}t=t[a]}f[k]=y}}}var s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=0,v=Object.prototype.toString,q=false,n=true;[0,0].sort(function(){n=false;return 0});var l=function(a,b,c,f){c=c||[];var k=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return c;var e=[],i,t,y,z,B=true,A=l.isXML(b),D=a,C;do{s.exec("");if(i=s.exec(D)){D=i[3];e.push(i[1]);if(i[2]){z=
i[3];break}}}while(i);if(e.length>1&&w.exec(a))if(e.length===2&&r.relative[e[0]])t=m(e[0]+e[1],b);else for(t=r.relative[e[0]]?[b]:l(e.shift(),b);e.length;){a=e.shift();if(r.relative[a])a+=e.shift();t=m(a,t)}else{if(!f&&e.length>1&&b.nodeType===9&&!A&&r.match.ID.test(e[0])&&!r.match.ID.test(e[e.length-1])){i=l.find(e.shift(),b,A);b=i.expr?l.filter(i.expr,i.set)[0]:i.set[0]}if(b){i=f?{expr:e.pop(),set:p(f)}:l.find(e.pop(),e.length===1&&(e[0]==="~"||e[0]==="+")&&b.parentNode?b.parentNode:b,A);t=i.expr?
l.filter(i.expr,i.set):i.set;if(e.length>0)y=p(t);else B=false;for(;e.length;){i=C=e.pop();if(r.relative[C])i=e.pop();else C="";if(i==null)i=b;r.relative[C](y,i,A)}}else y=[]}y||(y=t);y||l.error(C||a);if(v.call(y)==="[object Array]")if(B)if(b&&b.nodeType===1)for(a=0;y[a]!=null;a++){if(y[a]&&(y[a]===true||y[a].nodeType===1&&l.contains(b,y[a])))c.push(t[a])}else for(a=0;y[a]!=null;a++)y[a]&&y[a].nodeType===1&&c.push(t[a]);else c.push.apply(c,y);else p(y,c);if(z){l(z,k,c,f);l.uniqueSort(c)}return c};
l.uniqueSort=function(a){if(g){q=n;a.sort(g);if(q)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};l.matches=function(a,b){return l(a,null,null,b)};l.find=function(a,b,c){var f;if(!a)return[];for(var k=0,e=r.order.length;k<e;k++){var i=r.order[k],t;if(t=r.leftMatch[i].exec(a)){var y=t[1];t.splice(1,1);if(y.substr(y.length-1)!=="\\"){t[1]=(t[1]||"").replace(/\\/g,"");f=r.find[i](t,b,c);if(f!=null){a=a.replace(r.match[i],"");break}}}}f||(f=b.getElementsByTagName("*"));return{set:f,
expr:a}};l.filter=function(a,b,c,f){for(var k=a,e=[],i=b,t,y,z=b&&b[0]&&l.isXML(b[0]);a&&b.length;){for(var B in r.filter)if((t=r.leftMatch[B].exec(a))!=null&&t[2]){var A=r.filter[B],D,C;C=t[1];y=false;t.splice(1,1);if(C.substr(C.length-1)!=="\\"){if(i===e)e=[];if(r.preFilter[B])if(t=r.preFilter[B](t,i,c,e,f,z)){if(t===true)continue}else y=D=true;if(t)for(var E=0;(C=i[E])!=null;E++)if(C){D=A(C,t,E,i);var F=f^!!D;if(c&&D!=null)if(F)y=true;else i[E]=false;else if(F){e.push(C);y=true}}if(D!==undefined){c||
(i=e);a=a.replace(r.match[B],"");if(!y)return[];break}}}if(a===k)if(y==null)l.error(a);else break;k=a}return i};l.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var r=l.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var c=typeof b==="string",f=c&&!/\W/.test(b);c=c&&!f;if(f)b=b.toLowerCase();f=0;for(var k=a.length,e;f<k;f++)if(e=a[f]){for(;(e=e.previousSibling)&&e.nodeType!==1;);a[f]=c||e&&e.nodeName.toLowerCase()===
b?e||false:e===b}c&&l.filter(b,a,true)},">":function(a,b){var c=typeof b==="string",f,k=0,e=a.length;if(c&&!/\W/.test(b))for(b=b.toLowerCase();k<e;k++){if(f=a[k]){c=f.parentNode;a[k]=c.nodeName.toLowerCase()===b?c:false}}else{for(;k<e;k++)if(f=a[k])a[k]=c?f.parentNode:f.parentNode===b;c&&l.filter(b,a,true)}},"":function(a,b,c){var f=o++,k=u,e;if(typeof b==="string"&&!/\W/.test(b)){e=b=b.toLowerCase();k=d}k("parentNode",b,f,a,e,c)},"~":function(a,b,c){var f=o++,k=u,e;if(typeof b==="string"&&!/\W/.test(b)){e=
b=b.toLowerCase();k=d}k("previousSibling",b,f,a,e,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var c=[];b=b.getElementsByName(a[1]);for(var f=0,k=b.length;f<k;f++)b[f].getAttribute("name")===a[1]&&c.push(b[f]);return c.length===0?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,f,k,e){a=" "+a[1].replace(/\\/g,"")+" ";
if(e)return a;e=0;for(var i;(i=b[e])!=null;e++)if(i)if(k^(i.className&&(" "+i.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))c||f.push(i);else if(c)b[e]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=o++;return a},ATTR:function(a,b,c,f,k,e){b=
a[1].replace(/\\/g,"");if(!e&&r.attrMap[b])a[1]=r.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,c,f,k){if(a[1]==="not")if((s.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=l(a[3],null,null,b);else{a=l.filter(a[3],b,c,true^k);c||f.push.apply(f,a);return false}else if(r.match.POS.test(a[0])||r.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!l(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,f){return b===f.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-
0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,f){var k=b[1],e=r.filters[k];if(e)return e(a,c,b,f);else if(k==="contains")return(a.textContent||a.innerText||l.getText([a])||"").indexOf(b[3])>=0;else if(k==="not"){b=b[3];c=0;for(f=b.length;c<f;c++)if(b[c]===a)return false;return true}else l.error("Syntax error, unrecognized expression: "+k)},CHILD:function(a,b){var c=b[1],f=a;switch(c){case "only":case "first":for(;f=f.previousSibling;)if(f.nodeType===1)return false;if(c===
"first")return true;f=a;case "last":for(;f=f.nextSibling;)if(f.nodeType===1)return false;return true;case "nth":c=b[2];var k=b[3];if(c===1&&k===0)return true;b=b[0];var e=a.parentNode;if(e&&(e.sizcache!==b||!a.nodeIndex)){var i=0;for(f=e.firstChild;f;f=f.nextSibling)if(f.nodeType===1)f.nodeIndex=++i;e.sizcache=b}a=a.nodeIndex-k;return c===0?a===0:a%c===0&&a/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1];a=r.attrHandle[c]?r.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c);c=a+"";var f=b[2];b=b[4];return a==null?f==="!=":f==="="?c===b:f==="*="?c.indexOf(b)>=0:f==="~="?(" "+c+" ").indexOf(b)>=0:!b?c&&a!==false:f==="!="?c!==b:f==="^="?c.indexOf(b)===0:f==="$="?c.substr(c.length-b.length)===b:f==="|="?c===b||c.substr(0,b.length+1)===b+"-":false},POS:function(a,b,c,f){var k=r.setFilters[b[2]];
if(k)return k(a,c,b,f)}}},w=r.match.POS,j=function(a,b){return"\\"+(b-0+1)};for(var h in r.match){r.match[h]=new RegExp(r.match[h].source+/(?![^\[]*\])(?![^\(]*\))/.source);r.leftMatch[h]=new RegExp(/(^(?:.|\r|\n)*?)/.source+r.match[h].source.replace(/\\(\d+)/g,j))}var p=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(x){p=function(a,b){b=b||[];var c=0;if(v.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var f=a.length;c<f;c++)b.push(a[c]);else for(;a[c];c++)b.push(a[c]);return b}}var g;if(document.documentElement.compareDocumentPosition)g=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)q=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)q=true;return a};else if("sourceIndex"in document.documentElement)g=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)q=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)q=true;return a};else if(document.createRange)g=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)q=true;return a.ownerDocument?-1:1}var c=a.ownerDocument.createRange(),f=b.ownerDocument.createRange();c.setStart(a,0);c.setEnd(a,0);f.setStart(b,0);f.setEnd(b,0);a=c.compareBoundaryPoints(Range.START_TO_END,f);if(a===0)q=true;return a};l.getText=function(a){for(var b="",c,f=0;a[f];f++){c=a[f];if(c.nodeType===3||c.nodeType===4)b+=c.nodeValue;else if(c.nodeType!==
8)b+=l.getText(c.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var c=document.documentElement;c.insertBefore(a,c.firstChild);if(document.getElementById(b)){r.find.ID=function(f,k,e){if(typeof k.getElementById!=="undefined"&&!e)return(k=k.getElementById(f[1]))?k.id===f[1]||typeof k.getAttributeNode!=="undefined"&&k.getAttributeNode("id").nodeValue===f[1]?[k]:undefined:[]};r.filter.ID=function(f,k){var e=typeof f.getAttributeNode!==
"undefined"&&f.getAttributeNode("id");return f.nodeType===1&&e&&e.nodeValue===k}}c.removeChild(a);c=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)r.find.TAG=function(b,c){c=c.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var f=0;c[f];f++)c[f].nodeType===1&&b.push(c[f]);c=b}return c};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")r.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=l,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){l=function(f,k,e,i){k=k||document;if(!i&&k.nodeType===9&&!l.isXML(k))try{return p(k.querySelectorAll(f),e)}catch(t){}return a(f,k,e,i)};for(var c in a)l[c]=a[c];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){r.order.splice(1,0,"CLASS");r.find.CLASS=function(b,c,f){if(typeof c.getElementsByClassName!=="undefined"&&!f)return c.getElementsByClassName(b[1])};a=null}}})();l.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};l.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var m=function(a,b){var c=[],f="",k;for(b=b.nodeType?[b]:b;k=r.match.PSEUDO.exec(a);){f+=k[0];a=a.replace(r.match.PSEUDO,"")}a=r.relative[a]?a+"*":a;k=0;for(var e=b.length;k<e;k++)l(a,b[k],c);return l.filter(f,c)};KISSY.ExternalSelector=l;KISSY.ExternalSelector._filter=function(a,b){return l.matches(b,KISSY.query(a))}})();
KISSY.add("datalazyload",function(d,u){function s(h,p){if(!(this instanceof s))return new s(h,p);if(p===u){p=h;h=[n]}d.isArray(h)||(h=[d.get(h)||n]);this.containers=h;this.config=d.merge(j,p);this._init()}var o=d.DOM,v=d.Event,q=window,n=document,l={AUTO:"auto",MANUAL:"manual"},r="scroll",w="resize",j={mod:l.MANUAL,diff:"default",placeholder:"none"};d.augment(s,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._getItemsLength()&&this._initLoadEvent()},_filterItems:function(){var h=
this.containers,p,x,g,m=[],a=[];p=0;for(x=h.length;p<x;++p){g=d.query("img",h[p]);m=m.concat(d.filter(g,this._filterImg,this));g=d.query("textarea",h[p]);a=a.concat(d.filter(g,this._filterArea,this))}this.images=m;this.areas=a},_filterImg:function(h){var p=h.getAttribute("data-lazyload-src"),x=this.threshold,g=this.config.placeholder;if(this.config.mod===l.MANUAL){if(p){if(g!=="none")h.src=g;return true}}else if(o.offset(h).top>x&&!p){o.attr(h,"data-lazyload-src",h.src);if(g!=="none")h.src=g;else h.removeAttribute("src");
return true}},_filterArea:function(h){return o.hasClass(h,"ks-datalazyload")},_initLoadEvent:function(){function h(){x||(x=setTimeout(function(){p();x=null},100))}function p(){g._loadItems();if(g._getItemsLength()===0){v.remove(q,r,h);v.remove(q,w,h)}}var x,g=this;v.on(q,r,h);v.on(q,w,function(){g.threshold=g._getThreshold();h()});g._getItemsLength()&&d.ready(function(){p()})},_loadItems:function(){this._loadImgs();this._loadAreas()},_loadImgs:function(){this.images=d.filter(this.images,this._loadImg,
this)},_loadImg:function(h){var p=this.threshold+o.scrollTop();if(o.offset(h).top<=p)this._loadImgSrc(h);else return true},_loadImgSrc:function(h,p){p=p||"data-lazyload-src";var x=h.getAttribute(p);if(x&&h.src!=x){h.src=x;h.removeAttribute(p)}},_loadAreas:function(){this.areas=d.filter(this.areas,this._loadArea,this)},_loadArea:function(h){var p=o.offset(h).top;if(!p&&o.css(h,"none")=="none")p=o.offset(h.parentNode).top;if(p<=this.threshold+o.scrollTop())this._loadAreaData(h.parentNode,h);else return true},
_loadAreaData:function(h,p){p.style.display="none";p.className="";var x=o.create("<div>");h.insertBefore(x,p);o.html(x,p.value,true)},_getThreshold:function(){var h=this.config.diff,p=o.viewportHeight();return h==="default"?2*p:p+h},_getItemsLength:function(){return this.images.length+this.areas.length},loadCustomLazyData:function(h,p,x){var g=this,m,a;d.isArray(h)||(h=[d.get(h)]);d.each(h,function(b){switch(p){case "textarea-data":if((m=d.get("textarea",b))&&o.hasClass(m,x||"ks-datalazyload-custom"))g._loadAreaData(b,
m);break;default:a=b.nodeName==="IMG"?[b]:d.query("img",b);d.each(a,function(c){g._loadImgSrc(c,x||"data-lazyload-src-custom")})}})}});d.mix(s,s.prototype,true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);d.DataLazyload=s});
