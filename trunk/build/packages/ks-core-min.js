/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 671 May 23 14:24
*/
(function(f,m,l){if(f[m]===l)f[m]={};m=f[m];var k=f.document,q=function(g,j,s,t){if(!j||!g)return g;if(s===l)s=true;var u,v,h;if(t&&(h=t.length))for(u=0;u<h;u++){v=t[u];if(v in j)if(s||!(v in g))g[v]=j[v]}else for(v in j)if(s||!(v in g))g[v]=j[v];return g},o=false,n=[],p=false;q(m,{version:"1.0.5",_init:function(){this.Env={mods:{}}},add:function(g,j){this.Env.mods[g]={name:g,fn:j};j(this);return this},ready:function(g){p||this._bindReady();o?g.call(f,this):n.push(g);return this},_bindReady:function(){var g=
this,j=k.documentElement.doScroll,s=j?"onreadystatechange":"DOMContentLoaded";p=true;if(k.readyState==="complete")return g._fireReady();if(k.addEventListener){var t=function(){k.removeEventListener(s,t,false);g._fireReady()};k.addEventListener(s,t,false)}else{if(f!=f.top){var u=function(){if(k.readyState==="complete"){k.detachEvent(s,u);g._fireReady()}};k.attachEvent(s,u)}else{var v=function(){try{j("left");g._fireReady()}catch(h){setTimeout(v,1)}};v()}f.attachEvent("onload",function(){g._fireReady()})}},
_fireReady:function(){if(!o){o=true;if(n){for(var g,j=0;g=n[j++];)g.call(f,this);n=null}}},mix:q,merge:function(){var g={},j,s=arguments.length;for(j=0;j<s;++j)q(g,arguments[j]);return g},augment:function(g,j,s,t){q(g.prototype,j.prototype||j,s,t);return g},extend:function(g,j,s,t){if(!j||!g)return g;var u=Object.prototype,v=j.prototype,h=function(c){function b(){}b.prototype=c;return new b}(v);g.prototype=h;h.constructor=g;g.superclass=v;if(j!==Object&&v.constructor===u.constructor)v.constructor=
j;s&&q(h,s);t&&q(g,t);return g},namespace:function(){var g=arguments.length,j=null,s,t,u;for(s=0;s<g;++s){u=(""+arguments[s]).split(".");j=this;for(t=f[u[0]]===j?1:0;t<u.length;++t)j=j[u[t]]=j[u[t]]||{}}return j},app:function(g,j){var s=f[g]||{};q(s,this,true,["_init","add","namespace"]);s._init();return q(f[g]=s,typeof j==="function"?j():j)},log:function(g,j,s){if(this.Config.debug){if(s)g=s+": "+g;if(f.console!==l&&console.log)console[j&&console[j]?j:"log"](g)}return this},error:function(g){if(this.Config.debug)throw g;
}});m._init();m.Config={debug:""}})(window,"KISSY");
KISSY.add("kissy-lang",function(f,m){function l(c){var b=typeof c;return c===null||b!=="object"&&b!=="function"}var k=window,q=document,o=location,n=Array.prototype,p=n.indexOf,g=n.filter,j=Object.prototype.toString,s=encodeURIComponent,t=decodeURIComponent,u=/^\s+|\s+$/g,v=/^(\w+)\[\]$/,h=/\S/;f.mix(f,{isBoolean:function(c){return typeof c==="boolean"},isString:function(c){return typeof c==="string"},isNumber:function(c){return typeof c==="number"&&isFinite(c)},isPlainObject:function(c){return c&&
j.call(c)==="[object Object]"&&!c.nodeType&&!c.setInterval},isEmptyObject:function(c){for(var b in c)return false;return true},isFunction:function(c){return typeof c==="function"},isArray:function(c){return j.call(c)==="[object Array]"},trim:String.prototype.trim?function(c){return(c||"").trim()}:function(c){return(c||"").replace(u,"")},each:function(c,b,e){for(var a=c&&c.length||0,d=0;d<a;++d)b.call(e||k,c[d],d,c)},indexOf:p?function(c,b){return p.call(b,c)}:function(c,b){for(var e=0,a=b.length;e<
a;++e)if(b[e]===c)return e;return-1},inArray:function(c,b){return f.indexOf(c,b)!==-1},makeArray:function(c){if(c===null||c===m)return[];if(f.isArray(c))return c;if(typeof c.length!=="number"||typeof c==="string"||f.isFunction(c))return[c];if(c.item&&f.UA.ie){for(var b=[],e=0,a=c.length;e<a;++e)b[e]=c[e];return b}return n.slice.call(c)},filter:g?function(c,b,e){return g.call(c,b,e)}:function(c,b,e){var a=[];f.each(c,function(d,i,r){b.call(e,d,i,r)&&a.push(d)});return a},param:function(c){if(!f.isPlainObject(c))return"";
var b=[],e,a;for(e in c){a=c[e];e=s(e);if(l(a))b.push(e,"=",s(a+""),"&");else if(f.isArray(a)&&a.length)for(var d=0,i=a.length;d<i;++d)l(a[d])&&b.push(e,"[]=",s(a[d]+""),"&")}b.pop();return b.join("")},unparam:function(c,b){if(typeof c!=="string"||(c=f.trim(c)).length===0)return{};var e={};c=c.split(b||"&");for(var a,d,i=0,r=c.length;i<r;++i){a=c[i].split("=");b=t(a[0]);a=t(a[1]||"");if((d=b.match(v))&&d[1]){e[d[1]]=e[d[1]]||[];e[d[1]].push(a)}else e[b]=a}return e},later:function(c,b,e,a,d){b=b||
0;a=a||{};var i=c,r=f.makeArray(d),w;if(typeof c==="string")i=a[c];i||f.error("method undefined");c=function(){i.apply(a,r)};w=e?setInterval(c,b):setTimeout(c,b);return{id:w,interval:e,cancel:function(){this.interval?clearInterval(w):clearTimeout(w)}}},now:function(){return(new Date).getTime()},globalEval:function(c){if(c&&h.test(c)){var b=q.getElementsByTagName("head")[0]||q.documentElement,e=q.createElement("script");e.text=c;b.insertBefore(e,b.firstChild);b.removeChild(e)}}});if(o&&o.search&&o.search.indexOf("ks-debug")!==
-1)f.Config.debug=true});
KISSY.add("kissy-ua",function(f){var m=navigator.userAgent,l,k={webkit:0,chrome:0,safari:0,gecko:0,firefox:0,ie:0,opera:0,mobile:""},q=function(o){var n=0;return parseFloat(o.replace(/\./g,function(){return n++===0?".":""}))};if((l=m.match(/AppleWebKit\/([\d.]*)/))&&l[1]){k.webkit=q(l[1]);if((l=m.match(/Chrome\/([\d.]*)/))&&l[1])k.chrome=q(l[1]);else if((l=m.match(/\/([\d.]*) Safari/))&&l[1])k.safari=q(l[1]);if(/ Mobile\//.test(m))k.mobile="Apple";else if(l=m.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))k.mobile=l[0]}else if((l=
m.match(/Opera\/.* Version\/([\d.]*)/))&&l[1]){k.opera=q(l[1]);if(m.match(/Opera Mini[^;]*/))k.mobile=l[0]}else if((l=m.match(/MSIE\s([^;]*)/))&&l[1])k.ie=q(l[1]);else if(l=m.match(/Gecko/)){k.gecko=1;if((l=m.match(/rv:([\d.]*)/))&&l[1])k.gecko=q(l[1]);if((l=m.match(/Firefox\/([\d.]*)/))&&l[1])k.firefox=q(l[1])}f.UA=k});
KISSY.add("selector",function(f,m){function l(h,c){var b,e=[],a,d;if(typeof h===j){h=f.trim(h);if(u.test(h)){if(c=q(h.slice(1)))e=[c]}else if(b=v.exec(h)){a=b[1];d=b[2];b=b[3];if(c=a?q(a):k(c))if(b)if(!a||h.indexOf(s)!==-1)e=n(b,d,c);else{if((c=q(a))&&f.DOM.hasClass(c,b))e=[c]}else if(d)e=o(c,d)}else if(h.indexOf(",")>-1)if(g.querySelectorAll)e=g.querySelectorAll(h);else{a=h.split(",");d=[];e=0;for(h=a.length;e<h;++e)d=d.concat(l(a[e],c));e=p(d)}else if(f.externalSelector)return f.externalSelector(h,
c);else f.error("Unsupported selector: "+h)}else if(h&&h.nodeType)e=[h];else if(h&&h.item)e=h;if(e.item)e=f.makeArray(e);return e}function k(h){if(h===m)h=g;else if(typeof h===j&&u.test(h))h=q(h.slice(1));else if(h&&h.nodeType!==1&&h.nodeType!==9)h=null;return h}function q(h){return g.getElementById(h)}function o(h,c){return h.getElementsByTagName(c)}function n(h,c,b){b=h=b.getElementsByClassName(h);var e=0,a=0,d=h.length,i;if(c&&c!==t){b=[];for(c=c.toUpperCase();e<d;++e){i=h[e];if(i.tagName===c)b[a++]=
i}}return b}function p(h){var c=false;h.sort(function(e,a){e=e.sourceIndex-a.sourceIndex;if(e===0)c=true;return e});if(c)for(var b=1;b<h.length;b++)h[b]===h[b-1]&&h.splice(b--,1);return h}var g=document,j="string",s=" ",t="*",u=/^#[\w-]+$/,v=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var h=g.createElement("div");h.appendChild(g.createComment(""));if(h.getElementsByTagName(t).length>0)o=function(c,b){c=c.getElementsByTagName(b);if(b===t){b=[];for(var e=0,a=0,d;d=c[e++];)if(d.nodeType===
1)b[a++]=d;c=b}return c}})();g.getElementsByClassName||(n=g.querySelectorAll?function(h,c,b){return b.querySelectorAll((c?c:"")+"."+h)}:function(h,c,b){c=b.getElementsByTagName(c||t);b=[];var e=0,a=0,d=c.length,i,r;for(h=s+h+s;e<d;++e){i=c[e];if((r=i.className)&&(s+r+s).indexOf(h)>-1)b[a++]=i}return b});f.query=l;f.get=function(h,c){return l(h,c)[0]||null}});
KISSY.add("dom-base",function(f,m){function l(a,d){return d&&d.nodeName.toUpperCase()===a.toUpperCase()}function k(a,d){for(var i=[],r=0;a;a=a.nextSibling)if(a.nodeType===1&&a!==d)i[r++]=a;return i}function q(a,d,i){d=d||0;for(var r=0;a;a=a[i])if(a.nodeType===1&&r++===d)break;return a}function o(a,d){var i=null,r;if(a&&(a.push||a.item)&&a[0]){d=d||a[0].ownerDocument;i=d.createDocumentFragment();if(a.item)a=f.makeArray(a);d=0;for(r=a.length;d<r;++d)i.appendChild(a[d])}else f.error("unable to convert "+
a+" to fragment");return i}var n=document,p=n.documentElement.textContent!==m?"textContent":"innerText",g=f.UA,j=g.ie,s=j&&j<8,t={readonly:"readOnly"},u=/href|src|style/,v=/href|src|colspan|rowspan/,h=/\r/g,c=/radio|checkbox/,b=n.createElement("DIV"),e=/^[a-z]+$/i;s&&f.mix(t,{"for":"htmlFor","class":"className"});f.DOM={query:f.query,get:f.get,attr:function(a,d,i){if(!a||a.nodeType!==1)return m;var r;d=d.toLowerCase();d=t[d]||d;if(i===m){if(u.test(d)){if(d==="style")r=a.style.cssText}else r=a[d];
if(r===m)r=a.getAttribute(d);if(s&&v.test(d))r=a.getAttribute(d,2);return r===null?m:r}if(d==="style")a.style.cssText=i;else a.setAttribute(d,""+i)},removeAttr:function(a,d){a&&a.nodeType===1&&a.removeAttribute(d)},val:function(a,d){if(!a||a.nodeType!==1)return m;if(d===m){if(l("option",a))return(a.attributes.value||{}).specified?a.value:a.text;if(l("select",a)){d=a.selectedIndex;var i=a.options;if(d<0)return null;else if(a.type==="select-one")return f.DOM.val(i[d]);a=[];d=0;for(var r=i.length;d<
r;++d)i[d].selected&&a.push(f.DOM.val(i[d]));return a}if(g.webkit&&c.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(h,"")}if(l("select",a)){i=f.makeArray(d);var w=a.options,x;d=0;for(r=w.length;d<r;++d){x=w[d];x.selected=f.inArray(f.DOM.val(x),i)}if(!i.length)a.selectedIndex=-1}else a.value=d},css:function(a,d,i){if(i===m)return a.style[d];f.each(f.makeArray(a),function(r){r.style[d]=i})},text:function(a,d){if(d===m)return(a||{})[p]||"";if(a)a[p]=d},html:function(a,
d){if(d===m)return a.innerHTML;a.innerHTML=d},children:function(a){if(a.children)return f.makeArray(a.children);return k(a.firstChild)},siblings:function(a){return k(a.parentNode.firstChild,a)},next:function(a){return q(a,1,"nextSibling")},prev:function(a){return q(a,1,"previousSibling")},parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},create:function(a,d){if(typeof a==="string")a=f.trim(a);if(e.test(a))return(d||n).createElement(a);var i=null;i=d?d.createElement("DIV"):b;i.innerHTML=
a;a=i.childNodes;return i=a.length===1?a[0].parentNode.removeChild(a[0]):o(a,d||n)},addStyleSheet:function(a,d){var i=n.getElementsByTagName("head")[0],r=n.createElement("style");d&&(r.id=d);i.appendChild(r);if(r.styleSheet)r.styleSheet.cssText=a;else r.appendChild(n.createTextNode(a))}}});
KISSY.add("dom-class",function(f,m){function l(p,g,j){if(f.isArray(p)){f.each(p,function(){g.apply(j,Array.prototype.slice.call(arguments,3))});return true}}var k=f.DOM;f.mix(k,{hasClass:function(p,g){if(!g||!p||!p.className)return false;return(" "+p.className+" ").indexOf(" "+g+" ")>-1},addClass:function(p,g){if(!l(p,o,k,g))if(g&&p)q(p,g)||(p.className+=" "+g)},removeClass:function(p,g){if(!l(p,n,k,g))if(q(p,g)){p.className=(" "+p.className+" ").replace(" "+g+" "," ");q(p,g)&&n(p,g)}},replaceClass:function(p,
g,j){n(p,g);o(p,j)},toggleClass:function(p,g,j){l(p,k.toggleClass,k,g,j)||((j!==m?j:!q(p,g))?o(p,g):n(p,g))}});var q=k.hasClass,o=k.addClass,n=k.removeClass});
KISSY.add("event",function(f,m){function l(b,e,a,d){if(f.isString(e))e=f.query(e);if(f.isArray(e)){f.each(e,function(i){c[b](i,a,d)});return true}if((a=f.trim(a))&&a.indexOf(u)>0){f.each(a.split(u),function(i){c[b](e,i,d)});return true}}function k(b){var e=-1;if(b.nodeType===3||b.nodeType===8)return e;return e=b.nodeType?n.attr(b,t):b.isCustomEventTarget?b.eventTargetId:b[t]}function q(b,e){if(b.nodeType===3||b.nodeType===8)return f.error("Text or comment node is not valid event target.");if(b.nodeType)n.attr(b,
t,e);else if(b.isCustomEventTarget)b.eventTargetId=e;else try{b[t]=e}catch(a){f.error(a)}}function o(b){if(b.nodeType)n.removeAttr(b,t);else if(b.isCustomEventTarget)b.eventTargetId=m;else b[t]=m}var n=f.DOM,p=window,g=document,j=g.addEventListener?function(b,e,a){b.addEventListener&&b.addEventListener(e,a,false)}:function(b,e,a){b.attachEvent&&b.attachEvent("on"+e,a)},s=g.removeEventListener?function(b,e,a){b.removeEventListener&&b.removeEventListener(e,a,false)}:function(b,e,a){b.detachEvent&&b.detachEvent("on"+
e,a)},t="data-ks-event-guid",u=" ",v=f.now(),h={},c={special:{},add:function(b,e,a){if(!l("add",b,e,a)){var d=k(b),i,r;if(!(d===-1||!e||!f.isFunction(a))){if(!d){q(b,d=v++);h[d]={target:b,events:{}}}r=h[d].events;i=!b.isCustomEventTarget&&c.special[e]||{};if(!r[e]){d=function(w,x){if(!w||!w.fixed){w=new f.EventObject(b,w,e);f.isPlainObject(x)&&f.mix(w,x)}i.setup&&i.setup(w);return(i.handle||c._handle)(b,w,r[e].listeners)};r[e]={handle:d,listeners:[]};if(b.isCustomEventTarget)b._addEvent&&b._addEvent(e,
d);else j(b,i.fix||e,d)}r[e].listeners.push(a)}}},remove:function(b,e,a){if(!l("remove",b,e,a)){var d=k(b),i,r,w,x,y,z;if(d!==-1)if(d&&(i=h[d]))if(i.target===b){i=i.events||{};if(r=i[e]){w=r.listeners;y=w.length;if(f.isFunction(a)&&y&&f.inArray(a,w)){z=[];for(x=0;x<y;++x)a!==w[x]&&z.push(w[x]);y=z.length}if(a===m||y===0){b.isCustomEventTarget||s(b,e,r.handle);delete h[d].type}}if(e===m||f.isEmptyObject(i)){for(e in i)c.remove(b,e);delete h[d];o(b)}}}},_handle:function(b,e,a){for(var d,i=0,r=a.length;i<
r;++i){d=a[i].call(b,e);if(e.isImmediatePropagationStopped)break;d===false&&e.halt()}return d},_getCache:function(b){return h[b]},_simpleAdd:j,_simpleRemove:s};c.on=c.add;f.Event=c;p.attachEvent&&!p.addEventListener&&p.attachEvent("onunload",function(){var b,e;for(b in h)if(e=h[b].target)try{c.remove(e)}catch(a){}})});
KISSY.add("event-object",function(f,m){function l(o,n,p){this.currentTarget=o;this.originalEvent=n||{};if(n){this.type=n.type;this._fix()}else{this.type=p;this.target=o}this.fixed=true}var k=document,q="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
f.mix(l.prototype,{_fix:function(){for(var o=this.originalEvent,n=q.length,p;n;){p=q[--n];this[p]=o[p]}if(!this.target)this.target=this.srcElement||k;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===m&&this.clientX!==m){o=k.documentElement;n=k.body;this.pageX=this.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0);
this.pageY=this.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)}if(this.which===m)this.which=this.charCode!==m?this.charCode:this.keyCode;if(this.metaKey===m)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==m)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var o=this.originalEvent;if(o.preventDefault)o.preventDefault();else o.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var o=this.originalEvent;
if(o.stopPropagation)o.stopPropagation();else o.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var o=this.originalEvent;o.stopImmediatePropagation?o.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(o){o?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});f.EventObject=l});
KISSY.add("event-target",function(f,m){var l=f.Event;f.EventTarget={eventTargetId:m,isCustomEventTarget:true,fire:function(k,q){if((k=((l._getCache(this.eventTargetId||-1)||{}).events||{})[k])&&f.isFunction(k.handle))return k.handle(m,q)},on:function(k,q){l.add(this,k,q)},detach:function(k,q){l.remove(this,k,q)}}});
KISSY.add("event-mouseenter",function(f){var m=f.Event;f.UA.ie||f.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(l){m.special[l.name]={fix:l.fix,setup:function(k){k.type=l.name},handle:function(k,q,o){var n=q.relatedTarget;try{for(;n&&n!==k;)n=n.parentNode;n!==k&&m._handle(k,q,o)}catch(p){}}}})});
