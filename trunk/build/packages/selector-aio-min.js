/*
Copyright 2010, KISSY UI Library v0.9dev
MIT Licensed
build: 444 Jan 23 23:35
*/
(function(h,n,t){if(h[n]===t)h[n]={};n=h[n];var l=h.document,u=Array.prototype,q=u.forEach,r=u.indexOf,v=/^\s+|\s+$/g,i=function(b,e,f,a){if(!e||!b)return b;if(f===t)f=true;var d,c,g;if(a&&(g=a.length))for(d=0;d<g;d++){c=a[d];if(c in e)if(f||!(c in b))b[c]=e[c]}else for(c in e)if(f||!(c in b))b[c]=e[c];return b},s=false,m=[],o=false;i(n,{version:"0.9dev",_init:function(){this.Env={mods:{}};this.Config={debug:true}},add:function(b,e){var f=this;f.Env.mods[b]={name:b,fn:e};e(f);return f},ready:function(b){o||
this._bindReady();s?b.call(h,this):m.push(b);return this},_bindReady:function(){var b=this,e=l.documentElement.doScroll,f=e?"onreadystatechange":"DOMContentLoaded";o=true;if(l.attachEvent){if(h!=h.top){function a(){if(l.readyState==="complete"){l.detachEvent(f,a);b._fireReady()}}l.attachEvent(f,a)}else{function d(){try{e("left");b._fireReady()}catch(g){setTimeout(d,1)}}d()}h.attachEvent("onload",b._fireReady)}else{function c(){l.removeEventListener(f,c,false);b._fireReady()}l.addEventListener(f,c,
false)}},_fireReady:function(){if(!s){s=true;if(m){for(var b,e=0;b=m[e++];)b.call(h,this);m=null}}},mix:i,merge:function(){var b=arguments,e={},f,a=b.length;for(f=0;f<a;f++)i(e,b[f]);return e},extend:function(b,e,f,a){if(!e||!b)return b;var d=Object.prototype,c=e.prototype,g=function(k){function j(){}j.prototype=k;return new j}(c);b.prototype=g;g.constructor=b;b.superclass=c;if(e!==Object&&c.constructor===d.constructor)c.constructor=e;f&&i(g,f);a&&i(b,a);return b},augment:function(b,e,f,a){return i(b.prototype,
e.prototype,f,a)},weave:function(b,e,f,a){var d=[f[a],b];e==="before"&&d.reverse();f[a]=function(){for(var c=0,g;c<2;c++)g=d[c].apply(this,arguments);return g};return this},cloneTo:function(b){var e=h[b]||{};i(e,this);e._init();i(e.Env.mods,this.Env.mods);return h[b]=e},namespace:function(){var b=arguments,e=b.length,f=null,a,d,c;for(a=0;a<e;a++){c=(""+b[a]).split(".");f=this;for(d=h[c[0]]===f?1:0;d<c.length;d++)f=f[c[d]]=f[c[d]]||{}}return f},each:q?function(b,e,f){q.call(b,e,f);return this}:function(b,
e,f){var a=b&&b.length||0,d;for(d=0;d<a;d++)e.call(f||this,b[d],d,b);return this},indexOf:r?function(b,e){return r.call(e,b)}:function(b,e){for(var f=0,a=e.length;f<a;f++)if(e[f]===b)return f;return-1},trim:String.prototype.trim?function(b){return(b||"").trim()}:function(b){return(b||"").replace(v,"")},log:function(b,e,f){if(this.Config.debug){f&&(b=f+": "+b);if(h.console!==t&&console.log)console[e&&console[e]?e:"log"](b)}return this}});n._init()})(window,"KISSY");
KISSY.add("dom-selector",function(h,n){function t(a){if(a===n)a=i;else if(typeof a===s&&b.test(a))a=l(a.slice(1));else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function l(a){return i.getElementById(a)}function u(a,d){return a.getElementsByTagName(d)}function q(a,d,c){d=c.getElementsByTagName(d||o);c=[];var g=0,k=0,j=d.length,p,w;for(a=m+a+m;g<j;++g){p=d[g];if((w=p.className)&&(m+w+m).indexOf(a)>-1)c[k++]=p}return c}function r(a){return Array.prototype.slice.call(a)}function v(a){return h.mix(a,
h.Dom)}var i=document,s="string",m=" ",o="*",b=/^#[\w-]+$/,e=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;h.query=function(a,d){var c,g=[],k,j;if(typeof a===s){a=h.trim(a);if(b.test(a)){if(a=l(a.slice(1)))g=[a]}else if(c=e.exec(a)){k=c[1];j=c[2];c=c[3];if(d=k?l(k):t(d))if(c){if(!k||a.indexOf(m)!==-1)g=q(c,j,d)}else if(j)g=u(d,j)}}else if(a&&a.nodeType)g=[a];else if(a&&a.item)g=a;return v(g.item?r(g):g)};(function(){var a=i.createElement("div");a.appendChild(i.createComment(""));if(a.getElementsByTagName(o).length>
0)u=function(d,c){d=d.getElementsByTagName(c);if(c===o){c=[];for(var g=0,k=0,j;j=d[g++];)if(j.nodeType===1)c[k++]=j;d=c}return d}})();if(i.getElementsByClassName)q=function(a,d,c){c=a=c.getElementsByClassName(a);var g=0,k=0,j=a.length,p;if(d&&d!==o){c=[];for(d=d.toUpperCase();g<j;++g){p=a[g];if(p.tagName===d)c[k++]=p}}return c};else if(i.querySelectorAll)q=function(a,d,c){return c.querySelectorAll((d?d:"")+"."+a)};try{r(i.documentElement.childNodes)}catch(f){r=function(a){for(var d=[],c=0,g=a.length;c<
g;++c)d[c]=a[c];return d}}});
