/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 507 Mar 30 17:24
*/
(function(i,h,d){if(i[h]===d)i[h]={};h=i[h];var j=i.document,l=function(a,b,c,f){if(!b||!a)return a;if(c===d)c=true;var k,g,m;if(f&&(m=f.length))for(k=0;k<m;k++){g=f[k];if(g in b)if(c||!(g in a))a[g]=b[g]}else for(g in b)if(c||!(g in a))a[g]=b[g];return a},o=false,n=[],e=false;l(h,{version:"1.0.5",_init:function(){this.Env={mods:{}};this.Config={debug:true}},add:function(a,b){var c=this;c.Env.mods[a]={name:a,fn:b};b(c);return c},ready:function(a){e||this._bindReady();o?a.call(i,this):n.push(a);
return this},_bindReady:function(){var a=this,b=j.documentElement.doScroll,c=b?"onreadystatechange":"DOMContentLoaded";e=true;if(j.attachEvent){if(i!=i.top){function f(){if(j.readyState==="complete"){j.detachEvent(c,f);a._fireReady()}}j.attachEvent(c,f)}else{function k(){try{b("left");a._fireReady()}catch(m){setTimeout(k,1)}}k()}i.attachEvent("onload",function(){a._fireReady()})}else{function g(){j.removeEventListener(c,g,false);a._fireReady()}j.addEventListener(c,g,false)}},_fireReady:function(){if(!o){o=
true;if(n){for(var a,b=0;a=n[b++];)a.call(i,this);n=null}}},mix:l,merge:function(){var a=arguments,b={},c,f=a.length;for(c=0;c<f;++c)l(b,a[c]);return b},extend:function(a,b,c,f){if(!b||!a)return a;var k=Object.prototype,g=b.prototype,m=function(q){function p(){}p.prototype=q;return new p}(g);a.prototype=m;m.constructor=a;a.superclass=g;if(b!==Object&&g.constructor===k.constructor)g.constructor=b;c&&l(m,c);f&&l(a,f);return a},augment:function(a,b,c,f){return l(a.prototype,b.prototype,c,f)},weave:function(a,
b,c,f){var k=[c[f],a];b==="before"&&k.reverse();c[f]=function(){for(var g=0,m;g<2;++g)m=k[g].apply(this,arguments);return m};return this},app:function(a){var b=i[a]||{};l(b,this,true,["_init","add","namespace"]);b._init();return i[a]=b},namespace:function(){var a=arguments,b=a.length,c=null,f,k,g;for(f=0;f<b;++f){g=(""+a[f]).split(".");c=this;for(k=i[g[0]]===c?1:0;k<g.length;++k)c=c[g[k]]=c[g[k]]||{}}return c},log:function(a,b,c){if(this.Config.debug){c&&(a=c+": "+a);if(i.console!==d&&console.log)console[b&&
console[b]?b:"log"](a)}return this},error:function(a){throw a;}});h._init()})(window,"KISSY");
KISSY.add("lang",function(i){var h=Array.prototype,d=h.forEach,j=h.indexOf,l=h.slice,o=/^\s+|\s+$/g,n=Object.prototype.toString;i.mix(i,{each:d?function(e,a,b){d.call(e,a,b);return this}:function(e,a,b){var c=e&&e.length||0,f;for(f=0;f<c;++f)a.call(b||this,e[f],f,e);return this},trim:String.prototype.trim?function(e){return(e||"").trim()}:function(e){return(e||"").replace(o,"")},isFunction:function(e){return n.call(e)==="[object Function]"},isArray:function(e){return n.call(e)==="[object Array]"},
inArray:j?function(e,a){return j.call(a,e)!==-1}:function(e,a){for(var b=0,c=a.length;b<c;++b)if(a[b]===e)return true;return false},makeArray:function(e){if(e===null)return[];if(i.isArray(e))return e;if(typeof e.length!=="number"||typeof e==="string"||i.isFunction(e))return[e];if(e.item&&i.UA.ie){for(var a=[],b=0,c=e.length;b<c;++b)a[b]=e[b];return a}return l.call(e)}})});
KISSY.add("ua",function(i){var h=navigator.userAgent,d,j={ie:0,gecko:0,firefox:0,opera:0,webkit:0,safari:0,chrome:0,mobile:""},l=function(o){var n=0;return parseFloat(o.replace(/\./g,function(){return n++===0?".":""}))};if((d=h.match(/AppleWebKit\/([\d.]*)/))&&d[1]){j.webkit=l(d[1]);if((d=h.match(/Chrome\/([\d.]*)/))&&d[1])j.chrome=l(d[1]);else if((d=h.match(/\/([\d.]*) Safari/))&&d[1])j.safari=l(d[1]);if(/ Mobile\//.test(h))j.mobile="Apple";else if(d=h.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))j.mobile=
d[0]}else if((d=h.match(/Opera\/.* Version\/([\d.]*)/))&&d[1]){j.opera=l(d[1]);if(h.match(/Opera Mini[^;]*/))j.mobile=d[0]}else if((d=h.match(/MSIE\s([^;]*)/))&&d[1])j.ie=l(d[1]);else if(d=h.match(/Gecko/)){j.gecko=1;if((d=h.match(/rv:([\d.]*)/))&&d[1])j.gecko=l(d[1]);if((d=h.match(/Firefox\/([\d.]*)/))&&d[1])j.firefox=l(d[1])}i.UA=j});
KISSY.add("json",function(i){var h=window.JSON;i.JSON={parse:function(d){if(typeof d!=="string"||!d)return null;d=i.trim(d);if(/^[\],:{}\s]*$/.test(d.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(h||{}).parse?h.parse(d):(new Function("return "+d))();else jQuery.error("Invalid JSON: "+d)}}});
