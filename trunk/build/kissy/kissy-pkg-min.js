/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 520 Apr 2 22:20
*/
(function(h,i,f){if(h[i]===f)h[i]={};i=h[i];var j=h.document,k=function(c,a,b,d){if(!a||!c)return c;if(b===f)b=true;var g,e,l;if(d&&(l=d.length))for(g=0;g<l;g++){e=d[g];if(e in a)if(b||!(e in c))c[e]=a[e]}else for(e in a)if(b||!(e in c))c[e]=a[e];return c},n=false,m=[],o=false;k(i,{version:"1.0.5",_init:function(){this.Env={mods:{}};this.Config={debug:true}},add:function(c,a){this.Env.mods[c]={name:c,fn:a};a(this);return this},ready:function(c){o||this._bindReady();n?c.call(h,this):m.push(c);
return this},_bindReady:function(){var c=this,a=j.documentElement.doScroll,b=a?"onreadystatechange":"DOMContentLoaded";o=true;if(j.attachEvent){if(h!=h.top){var d=function(){if(j.readyState==="complete"){j.detachEvent(b,d);c._fireReady()}};j.attachEvent(b,d)}else{var g=function(){try{a("left");c._fireReady()}catch(l){setTimeout(g,1)}};g()}h.attachEvent("onload",function(){c._fireReady()})}else{var e=function(){j.removeEventListener(b,e,false);c._fireReady()};j.addEventListener(b,e,false)}},_fireReady:function(){if(!n){n=
true;if(m){for(var c,a=0;c=m[a++];)c.call(h,this);m=null}}},mix:k,merge:function(){var c=arguments,a={},b,d=c.length;for(b=0;b<d;++b)k(a,c[b]);return a},extend:function(c,a,b,d){if(!a||!c)return c;var g=Object.prototype,e=a.prototype,l=function(p){function q(){}q.prototype=p;return new q}(e);c.prototype=l;l.constructor=c;c.superclass=e;if(a!==Object&&e.constructor===g.constructor)e.constructor=a;b&&k(l,b);d&&k(c,d);return c},augment:function(c,a,b,d){return k(c.prototype,a.prototype,b,d)},weave:function(c,
a,b,d){var g=[b[d],c];a==="before"&&g.reverse();b[d]=function(){for(var e=0,l;e<2;++e)l=g[e].apply(this,arguments);return l};return this},app:function(c){var a=h[c]||{};k(a,this,true,["_init","add","namespace"]);a._init();return h[c]=a},namespace:function(){var c=arguments,a=c.length,b=null,d,g,e;for(d=0;d<a;++d){e=(""+c[d]).split(".");b=this;for(g=h[e[0]]===b?1:0;g<e.length;++g)b=b[e[g]]=b[e[g]]||{}}return b},log:function(c,a,b){if(this.Config.debug){b&&(c=b+": "+c);if(h.console!==f&&console.log)console[a&&
console[a]?a:"log"](c)}return this},error:function(c){throw c;}});i._init()})(window,"KISSY");
KISSY.add("lang",function(h){function i(a){var b=typeof a;return a===null|(b!=="object"&&b!=="function")}var f=Array.prototype,j=f.forEach,k=f.indexOf,n=f.slice,m=/^\s+|\s+$/g,o=/^(\w+)\[\]$/,c=Object.prototype.toString;h.mix(h,{each:j?function(a,b,d){j.call(a,b,d);return this}:function(a,b,d){var g=a&&a.length||0,e;for(e=0;e<g;++e)b.call(d||this,a[e],e,a);return this},trim:String.prototype.trim?function(a){return(a||"").trim()}:function(a){return(a||"").replace(m,"")},isFunction:function(a){return c.call(a)===
"[object Function]"},isArray:function(a){return c.call(a)==="[object Array]"},inArray:k?function(a,b){return k.call(b,a)!==-1}:function(a,b){for(var d=0,g=b.length;d<g;++d)if(b[d]===a)return true;return false},makeArray:function(a){if(a===null)return[];if(h.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||h.isFunction(a))return[a];if(a.item&&h.UA.ie){for(var b=[],d=0,g=a.length;d<g;++d)b[d]=a[d];return b}return n.call(a)},param:function(a){if(typeof a!=="object")return"";var b=
[],d,g;for(d in a){g=a[d];if(i(g))b.push(d,"=",g+"","&");else if(h.isArray(g)&&g.length)for(var e=0,l=g.length;e<l;++e)i(g[e])&&b.push(d+"[]=",g[e]+"","&")}b.pop();return encodeURI(b.join(""))},unparam:function(a,b){if(typeof a!=="string"||(a=decodeURI(h.trim(a))).length===0)return{};var d={};a=a.split(b||"&");for(var g,e,l=0,p=a.length;l<p;++l){g=a[l].split("=");b=g[0];g=g[1]||"";if((e=b.match(o))&&e[1]){d[e[1]]=d[e[1]]||[];d[e[1]].push(g)}else d[b]=g}return d}})});
KISSY.add("ua",function(h){var i=navigator.userAgent,f,j={ie:0,gecko:0,firefox:0,opera:0,webkit:0,safari:0,chrome:0,mobile:""},k=function(n){var m=0;return parseFloat(n.replace(/\./g,function(){return m++===0?".":""}))};if((f=i.match(/AppleWebKit\/([\d.]*)/))&&f[1]){j.webkit=k(f[1]);if((f=i.match(/Chrome\/([\d.]*)/))&&f[1])j.chrome=k(f[1]);else if((f=i.match(/\/([\d.]*) Safari/))&&f[1])j.safari=k(f[1]);if(/ Mobile\//.test(i))j.mobile="Apple";else if(f=i.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))j.mobile=
f[0]}else if((f=i.match(/Opera\/.* Version\/([\d.]*)/))&&f[1]){j.opera=k(f[1]);if(i.match(/Opera Mini[^;]*/))j.mobile=f[0]}else if((f=i.match(/MSIE\s([^;]*)/))&&f[1])j.ie=k(f[1]);else if(f=i.match(/Gecko/)){j.gecko=1;if((f=i.match(/rv:([\d.]*)/))&&f[1])j.gecko=k(f[1]);if((f=i.match(/Firefox\/([\d.]*)/))&&f[1])j.firefox=k(f[1])}h.UA=j});
KISSY.add("json",function(h){var i=window.JSON;h.JSON={parse:function(f){if(typeof f!=="string"||!f)return null;f=h.trim(f);if(/^[\],:{}\s]*$/.test(f.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(i||{}).parse?i.parse(f):(new Function("return "+f))();else jQuery.error("Invalid JSON: "+f)}}});
