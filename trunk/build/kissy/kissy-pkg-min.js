/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 534 Apr 8 17:45
*/
(function(k,m,j){if(k[m]===j)k[m]={};m=k[m];var l=k.document,n=function(e,f,d,a){if(!f||!e)return e;if(d===j)d=true;var b,c,g;if(a&&(g=a.length))for(b=0;b<g;b++){c=a[b];if(c in f)if(d||!(c in e))e[c]=f[c]}else for(c in f)if(d||!(c in e))e[c]=f[c];return e},p=false,o=[],r=false;n(m,{version:"1.0.5",_init:function(){this.Env={mods:{}};this.Config={debug:true}},add:function(e,f){this.Env.mods[e]={name:e,fn:f};f(this);return this},ready:function(e){r||this._bindReady();p?e.call(k,this):o.push(e);
return this},_bindReady:function(){var e=this,f=l.documentElement.doScroll,d=f?"onreadystatechange":"DOMContentLoaded";r=true;if(l.attachEvent){if(k!=k.top){var a=function(){if(l.readyState==="complete"){l.detachEvent(d,a);e._fireReady()}};l.attachEvent(d,a)}else{var b=function(){try{f("left");e._fireReady()}catch(g){setTimeout(b,1)}};b()}k.attachEvent("onload",function(){e._fireReady()})}else{var c=function(){l.removeEventListener(d,c,false);e._fireReady()};l.addEventListener(d,c,false)}},_fireReady:function(){if(!p){p=
true;if(o){for(var e,f=0;e=o[f++];)e.call(k,this);o=null}}},mix:n,merge:function(){var e=arguments,f={},d,a=e.length;for(d=0;d<a;++d)n(f,e[d]);return f},extend:function(e,f,d,a){if(!f||!e)return e;var b=Object.prototype,c=f.prototype,g=function(h){function i(){}i.prototype=h;return new i}(c);e.prototype=g;g.constructor=e;e.superclass=c;if(f!==Object&&c.constructor===b.constructor)c.constructor=f;d&&n(g,d);a&&n(e,a);return e},augment:function(e,f,d,a){return n(e.prototype,m.isFunction(f)?f.prototype:
f,d,a)},weave:function(e,f,d,a){var b=[d[a],e];f==="before"&&b.reverse();d[a]=function(){for(var c=0,g;c<2;++c)g=b[c].apply(this,arguments);return g};return this},app:function(e){var f=k[e]||{};n(f,this,true,["_init","add","namespace"]);f._init();return k[e]=f},namespace:function(){var e=arguments,f=e.length,d=null,a,b,c;for(a=0;a<f;++a){c=(""+e[a]).split(".");d=this;for(b=k[c[0]]===d?1:0;b<c.length;++b)d=d[c[b]]=d[c[b]]||{}}return d},log:function(e,f,d){if(this.Config.debug){d&&(e=d+": "+e);if(k.console!==
j&&console.log)console[f&&console[f]?f:"log"](e)}return this},error:function(e){throw e;},now:function(){return(new Date).getTime()}});m._init()})(window,"KISSY");
KISSY.add("lang",function(k,m){function j(a){var b=typeof a;return a===null|(b!=="object"&&b!=="function")}var l=document,n=Array.prototype,p=n.forEach,o=n.indexOf,r=n.slice,e=/^\s+|\s+$/g,f=/^(\w+)\[\]$/,d=Object.prototype.toString;k.mix(k,{each:p?function(a,b,c){p.call(a,b,c);return this}:function(a,b,c){var g=a&&a.length||0,h;for(h=0;h<g;++h)b.call(c||this,a[h],h,a);return this},trim:String.prototype.trim?function(a){return(a||"").trim()}:function(a){return(a||"").replace(e,"")},isPlainObject:function(a){return a&&
d.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var b in a)return false;return true},isFunction:function(a){return d.call(a)==="[object Function]"},isArray:function(a){return d.call(a)==="[object Array]"},indexOf:o?function(a,b){return o.call(b,a)}:function(a,b){for(var c=0,g=b.length;c<g;++c)if(b[c]===a)return c;return-1},inArray:function(a,b){return k.indexOf(a,b)!==-1},makeArray:function(a){if(a===null||a===m)return[];if(k.isArray(a))return a;if(typeof a.length!==
"number"||typeof a==="string"||k.isFunction(a))return[a];if(a.item&&k.UA.ie){for(var b=[],c=0,g=a.length;c<g;++c)b[c]=a[c];return b}return r.call(a)},param:function(a){if(typeof a!=="object")return"";var b=[],c,g;for(c in a){g=a[c];if(j(g))b.push(c,"=",g+"","&");else if(k.isArray(g)&&g.length)for(var h=0,i=g.length;h<i;++h)j(g[h])&&b.push(c+"[]=",g[h]+"","&")}b.pop();return encodeURI(b.join(""))},unparam:function(a,b){if(typeof a!=="string"||(a=decodeURI(k.trim(a))).length===0)return{};var c={};a=
a.split(b||"&");for(var g,h,i=0,q=a.length;i<q;++i){g=a[i].split("=");b=g[0];g=g[1]||"";if((h=b.match(f))&&h[1]){c[h[1]]=c[h[1]]||[];c[h[1]].push(g)}else c[b]=g}return c},later:function(a,b,c,g,h){b=b||0;g=g||{};var i=a,q=k.makeArray(h),s;if(typeof a==="string")i=g[a];i||k.error("method undefined");a=function(){i.apply(g,q)};s=c?setInterval(a,b):setTimeout(a,b);return{id:s,interval:c,cancel:function(){this.interval?clearInterval(s):clearTimeout(s)}}},globalEval:function(a){if(a=k.trim(a)){var b=l.getElementsByTagName("head")[0]||
l.documentElement,c=l.createElement("script");if(k.UA.ie)c.text=a;else c.appendChild(l.createTextNode(a));b.insertBefore(c,b.firstChild);b.removeChild(c)}}})});
KISSY.add("ua",function(k){var m=navigator.userAgent,j,l={ie:0,gecko:0,firefox:0,opera:0,webkit:0,safari:0,chrome:0,mobile:""},n=function(p){var o=0;return parseFloat(p.replace(/\./g,function(){return o++===0?".":""}))};if((j=m.match(/AppleWebKit\/([\d.]*)/))&&j[1]){l.webkit=n(j[1]);if((j=m.match(/Chrome\/([\d.]*)/))&&j[1])l.chrome=n(j[1]);else if((j=m.match(/\/([\d.]*) Safari/))&&j[1])l.safari=n(j[1]);if(/ Mobile\//.test(m))l.mobile="Apple";else if(j=m.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))l.mobile=
j[0]}else if((j=m.match(/Opera\/.* Version\/([\d.]*)/))&&j[1]){l.opera=n(j[1]);if(m.match(/Opera Mini[^;]*/))l.mobile=j[0]}else if((j=m.match(/MSIE\s([^;]*)/))&&j[1])l.ie=n(j[1]);else if(j=m.match(/Gecko/)){l.gecko=1;if((j=m.match(/rv:([\d.]*)/))&&j[1])l.gecko=n(j[1]);if((j=m.match(/Firefox\/([\d.]*)/))&&j[1])l.firefox=n(j[1])}k.UA=l});
KISSY.add("json",function(k){function m(d){return d<10?"0"+d:d}function j(d){p.lastIndex=0;return p.test(d)?'"'+d.replace(p,function(a){var b=e[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+d+'"'}function l(d,a){var b,c,g=o,h,i=a[d];if(i&&typeof i==="object"&&typeof i.toJSON==="function")i=i.toJSON(d);if(typeof f==="function")i=f.call(a,d,i);switch(typeof i){case "string":return j(i);case "number":return isFinite(i)?String(i):"null";case "boolean":case "null":return String(i);
case "object":if(!i)return"null";o+=r;h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){c=i.length;for(d=0;d<c;d+=1)h[d]=l(d,i)||"null";a=h.length===0?"[]":o?"[\n"+o+h.join(",\n"+o)+"\n"+g+"]":"["+h.join(",")+"]";o=g;return a}if(f&&typeof f==="object"){c=f.length;for(d=0;d<c;d+=1){b=f[d];if(typeof b==="string")if(a=l(b,i))h.push(j(b)+(o?": ":":")+a)}}else for(b in i)if(Object.hasOwnProperty.call(i,b))if(a=l(b,i))h.push(j(b)+(o?": ":":")+a);a=h.length===0?"{}":o?"{\n"+o+h.join(",\n"+o)+
"\n"+g+"}":"{"+h.join(",")+"}";o=g;return a}}k=k.JSON=window.JSON;if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+m(this.getUTCMonth()+1)+"-"+m(this.getUTCDate())+"T"+m(this.getUTCHours())+":"+m(this.getUTCMinutes())+":"+m(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var n=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
p=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o,r,e={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},f;if(typeof k.stringify!=="function")k.stringify=function(d,a,b){var c;r=o="";if(typeof b==="number")for(c=0;c<b;c+=1)r+=" ";else if(typeof b==="string")r=b;if((f=a)&&typeof a!=="function"&&(typeof a!=="object"||typeof a.length!=="number"))throw new Error("JSON.stringify");return l("",{"":d})};
if(typeof k.parse!=="function")k.parse=function(d,a){function b(c,g){var h,i,q=c[g];if(q&&typeof q==="object")for(h in q)if(Object.hasOwnProperty.call(q,h)){i=b(q,h);if(i!==undefined)q[h]=i;else delete q[h]}return a.call(c,g,q)}d=String(d);n.lastIndex=0;if(n.test(d))d=d.replace(n,function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(d.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){d=eval("("+d+")");return typeof a==="function"?b({"":d},""):d}throw new SyntaxError("JSON.parse");}});
