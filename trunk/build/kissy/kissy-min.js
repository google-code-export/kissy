/*
Copyright (c) 2009, Kissy UI Library. All rights reserved.
MIT Licensed.
http://kissy.googlecode.com/

Date: 2009-12-09 22:05:42
Revision: 291
*/
if(typeof KISSY==="undefined"||!KISSY){function KISSY(b){var a=this;if(!(a instanceof arguments.callee)){return new arguments.callee(b)}a._init();a._config(b);a._setup();return a}}(function(a){var d=window,c="undefined",b=function(g,f,e){if(!f||!g){return g}if(typeof e===c){e=true}var h;if(e||!(h in g)){for(h in f){g[h]=f[h]}}return g};b(a.prototype,{add:function(f,g,e){a.Env.mods[f]={name:f,fn:g,version:e};return this},_init:function(){var e=this;e.version="@VERSION@";e.Env={mods:{},_used:{},_attached:{}};e.config={debug:true}},_config:function(e){b(this.config,e)},_setup:function(){this.use("ks-base")},use:function(){var g=this,n=Array.prototype.slice.call(arguments,0),q=a.Env.mods,s=g.Env._used,h=n.length,p=n[h-1],m,j,f,e=[];if(typeof p==="function"){n.pop()}else{p=null}if(n[0]==="*"){n=[];for(j in q){n.push(j)}if(p){n.push(p)}return g.use.apply(g,n)}for(m=0;m<h;m++){f=n[m];if(s[f]){continue}if(q[f]){s[f]=true}e.push(f)}g._attach(e);if(p){p(g)}return g},_attach:function(n){var k=a.Env.mods,j=this.Env._attached,h,f=n.length,g,e;for(h=0;h<f;h++){g=n[h];e=k[g];if(!j[g]&&e){j[g]=true;if(e.fn){e.fn(this)}}}},mix:b,merge:function(){var f=arguments,h={},g,e=f.length;for(g=0;g<e;++g){b(h,f[g],true)}return h},extend:function(i,h,f,l){if(!h||!i){return i}var e=Object.prototype,k=function(n){function m(){}m.prototype=n;return new m()},j=h.prototype,g=k(j);i.prototype=g;g.constructor=i;i.superclass=j;if(h!==Object&&j.constructor===e.constructor){j.constructor=h}if(f){b(g,f)}if(l){b(i,l)}return i},cloneTo:function(e){d[e]=function(g){if(!(this instanceof arguments.callee)){return new arguments.callee(g)}f.superclass.constructor.apply(this,g)};var f=d[e];a.extend(f,a,null,a);return f},namespace:function(){var f=arguments,e=f.length,m=this,h,g,k;if(typeof m==="object"){m=m.constructor}for(h=0;h<e;h++){k=(""+f[h]).split(".");for(g=(d[k[0]]===m)?1:0;g<k.length;g++){m[k[g]]=m[k[g]]||{};m=m[k[g]]}}return m},log:function(g,e,f){var h=this.config;if(h.debug){f&&(g=f+": "+g);if(typeof console!==c&&console.log){console[e&&console[e]?e:"log"](g)}else{if(typeof opera!==c){opera.postError(g)}}}return this}});b(a,a.prototype);a._init()})(KISSY);
