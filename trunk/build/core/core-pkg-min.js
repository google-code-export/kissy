/*
Copyright 2010, KISSY UI Library v1.1.7dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua",function(a){var q=navigator.userAgent,n="",f="",c,g={},k=function(b){var r=0;return parseFloat(b.replace(/\./g,function(){return r++===0?".":""}))};if((c=q.match(/AppleWebKit\/([\d.]*)/))&&c[1]){g[n="webkit"]=k(c[1]);if((c=q.match(/Chrome\/([\d.]*)/))&&c[1])g[f="chrome"]=k(c[1]);else if((c=q.match(/\/([\d.]*) Safari/))&&c[1])g[f="safari"]=k(c[1]);if(/ Mobile\//.test(q))g.mobile="apple";else if(c=q.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))g.mobile=c[0].toLowerCase()}else if((c=
q.match(/Presto\/([\d.]*)/))&&c[1]){g[n="presto"]=k(c[1]);if((c=q.match(/Opera\/([\d.]*)/))&&c[1]){g[f="opera"]=k(c[1]);if((c=q.match(/Opera\/.* Version\/([\d.]*)/))&&c[1])g[f]=k(c[1]);if((c=q.match(/Opera Mini[^;]*/))&&c)g.mobile=c[0].toLowerCase();else if((c=q.match(/Opera Mobi[^;]*/))&&c)g.mobile=c[0]}}else if((c=q.match(/MSIE\s([^;]*)/))&&c[1]){g[n="trident"]=0.1;g[f="ie"]=k(c[1]);if((c=q.match(/Trident\/([\d.]*)/))&&c[1])g[n]=k(c[1])}else if(c=q.match(/Gecko/)){g[n="gecko"]=0.1;if((c=q.match(/rv:([\d.]*)/))&&
c[1])g[n]=k(c[1]);if((c=q.match(/Firefox\/([\d.]*)/))&&c[1])g[f="firefox"]=k(c[1])}g.core=n;g.shell=f;g._numberify=k;a.UA=g});
KISSY.add("ua-extra",function(a){var q=a.UA,n=navigator.userAgent,f,c,g={},k=q._numberify;if(n.match(/360SE/))g[c="se360"]=3;else if(n.match(/Maxthon/)&&(f=window.external)){c="maxthon";try{g[c]=k(f.max_version)}catch(b){g[c]=0.1}}else if(f=n.match(/TencentTraveler\s([\d.]*)/))g[c="tt"]=f[1]?k(f[1]):0.1;else if(n.match(/TheWorld/))g[c="theworld"]=3;else if(f=n.match(/SE\s([\d.]*)/))g[c="sougou"]=f[1]?k(f[1]):0.1;c&&(g.shell=c);a.mix(q,g)});
KISSY.add("dom",function(a,q){function n(f,c){return f&&f.nodeType===c}a.DOM={_isElementNode:function(f){return n(f,1)},_isKSNode:function(f){return a.Node&&n(f,a.Node.TYPE)},_getWin:function(f){return f&&"scrollTo"in f&&f.document?f:n(f,9)?f.defaultView||f.parentWindow:f===q?window:false},_nodeTypeIs:n}});
KISSY.add("selector",function(a,q){function n(e,d){var i,j,l=[],m;d=f(d);if(a.isString(e)){e=a.trim(e);if(p.test(e)){if(j=c(e.slice(1),d))l=[j]}else if(i=o.exec(e)){j=i[1];m=i[2];i=i[3];if(d=j?c(j,d):d)if(i)if(!j||e.indexOf(s)!==-1)l=k(i,m,d);else{if((j=c(j,d))&&y.hasClass(j,i))l=[j]}else if(m)l=g(m,d)}else if(a.ExternalSelector)return a.ExternalSelector(e,d);else b(e)}else if(e&&(e[z]||e[u]))l=e[z]?[e[z]()]:e[u]();else if(e&&(a.isArray(e)||e&&!e.nodeType&&e.item&&!e.setTimeout))l=e;else if(e)l=[e];
if(l&&!l.nodeType&&l.item&&!l.setTimeout)l=a.makeArray(l);l.each=function(w,h){return a.each(l,w,h)};return l}function f(e){if(e===q)e=r;else if(a.isString(e)&&p.test(e))e=c(e.slice(1),r);else if(e&&e.nodeType!==1&&e.nodeType!==9)e=null;return e}function c(e,d){if(d.nodeType!==9)d=d.ownerDocument;return d.getElementById(e)}function g(e,d){return d.getElementsByTagName(e)}function k(e,d,i){i=e=i.getElementsByClassName(e);var j=0,l=0,m=e.length,w;if(d&&d!==x){i=[];for(d=d.toUpperCase();j<m;++j){w=e[j];
if(w.tagName===d)i[l++]=w}}return i}function b(e){a.error("Unsupported selector: "+e)}var r=document,y=a.DOM,s=" ",x="*",z="getDOMNode",u=z+"s",p=/^#[\w-]+$/,o=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var e=r.createElement("div");e.appendChild(r.createComment(""));if(e.getElementsByTagName(x).length>0)g=function(d,i){var j=i.getElementsByTagName(d);if(d===x){for(var l=[],m=0,w=0,h;h=j[m++];)if(h.nodeType===1)l[w++]=h;j=l}return j}})();r.getElementsByClassName||(k=r.querySelectorAll?
function(e,d,i){return i.querySelectorAll((d?d:"")+"."+e)}:function(e,d,i){d=i.getElementsByTagName(d||x);i=[];var j=0,l=0,m=d.length,w,h;for(e=s+e+s;j<m;++j){w=d[j];if((h=w.className)&&(s+h+s).indexOf(e)>-1)i[l++]=w}return i});a.query=n;a.get=function(e,d){return n(e,d)[0]||null};a.mix(y,{query:n,get:a.get,filter:function(e,d){var i=n(e),j,l,m,w=[];if(a.isString(d)&&(j=o.exec(d))&&!j[1]){l=j[2];m=j[3];d=function(h){return!(l&&h.tagName!==l.toUpperCase()||m&&!y.hasClass(h,m))}}if(a.isFunction(d))w=
a.filter(i,d);else if(d&&a.ExternalSelector)w=a.ExternalSelector._filter(e,d+"");else b(d);return w},test:function(e,d){var i=n(e);return i.length&&y.filter(i,d).length===i.length}})});
KISSY.add("dom-data",function(a,q){var n=window,f=a.DOM,c="_ks_data_"+a.now(),g={},k={},b={EMBED:1,OBJECT:1,APPLET:1};a.mix(f,{data:function(r,y,s){if(a.isPlainObject(y))for(var x in y)f.data(r,x,y[x]);else if(s===q){r=a.get(r);var z;if(!(!r||b[r.nodeName])){if(r==n)r=k;z=(x=r&&r.nodeType)?g:r;r=z[x?r[c]:c];if(a.isString(y)&&r)return r[y];return r}}else a.query(r).each(function(u){if(!(!u||b[u.nodeName])){if(u==n)u=k;var p=g,o;if(u&&u.nodeType){if(!(o=u[c]))o=u[c]=a.guid()}else{o=c;p=u}if(y&&s!==
q){p[o]||(p[o]={});p[o][y]=s}}})},removeData:function(r,y){a.query(r).each(function(s){if(s){if(s==n)s=k;var x,z=g,u,p=s&&s.nodeType;if(p)x=s[c];else{z=s;x=c}if(x){u=z[x];if(y){if(u){delete u[y];a.isEmptyObject(u)&&f.removeData(s)}}else{if(p)s.removeAttribute&&s.removeAttribute(c);else try{delete s[c]}catch(o){}p&&delete z[x]}}}})}})});
KISSY.add("dom-class",function(a,q){function n(k,b,r,y){if(!(b=a.trim(b)))return y?false:q;k=a.query(k);var s=0,x=k.length;b=b.split(c);for(var z;s<x;s++){z=k[s];if(f._isElementNode(z)){z=r(z,b,b.length);if(z!==q)return z}}if(y)return false}var f=a.DOM,c=/[\.\s]\s*\.?/,g=/[\n\t]/g;a.mix(f,{hasClass:function(k,b){return n(k,b,function(r,y,s){if(r=r.className){r=" "+r+" ";for(var x=0,z=true;x<s;x++)if(r.indexOf(" "+y[x]+" ")<0){z=false;break}if(z)return true}},true)},addClass:function(k,b){n(k,b,function(r,
y,s){var x=r.className;if(x){var z=" "+x+" ";x=x;for(var u=0;u<s;u++)if(z.indexOf(" "+y[u]+" ")<0)x+=" "+y[u];r.className=a.trim(x)}else r.className=b})},removeClass:function(k,b){n(k,b,function(r,y,s){var x=r.className;if(x)if(s){x=(" "+x+" ").replace(g," ");for(var z=0,u;z<s;z++)for(u=" "+y[z]+" ";x.indexOf(u)>=0;)x=x.replace(u," ");r.className=a.trim(x)}else r.className=""})},replaceClass:function(k,b,r){f.removeClass(k,b);f.addClass(k,r)},toggleClass:function(k,b,r){var y=a.isBoolean(r),s;n(k,
b,function(x,z,u){for(var p=0,o;p<u;p++){o=z[p];s=y?!r:f.hasClass(x,o);f[s?"removeClass":"addClass"](x,o)}})}})});
KISSY.add("dom-attr",function(a,q){var n=a.UA,f=document.documentElement,c=!f.hasAttribute,g=f.textContent!==q?"textContent":"innerText",k=a.DOM,b=k._isElementNode,r=/^(?:href|src|style)/,y=/^(?:href|src|colspan|rowspan)/,s=/\r/g,x=/^(?:radio|checkbox)/,z={readonly:"readOnly"},u={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};c&&a.mix(z,{"for":"htmlFor","class":"className"});a.mix(k,{attr:function(p,o,e,d){if(a.isPlainObject(o)){d=e;for(var i in o)k.attr(p,i,o[i],d)}else if(o=a.trim(o)){o=
o.toLowerCase();if(d&&u[o])return k[o](p,e);o=z[o]||o;if(e===q){p=a.get(p);if(!b(p))return q;var j;r.test(o)||(j=p[o]);if(j===q)j=p.getAttribute(o);if(c)if(y.test(o))j=p.getAttribute(o,2);else if(o==="style")j=p.style.cssText;return j===null?q:j}a.each(a.query(p),function(l){if(b(l))if(o==="style")l.style.cssText=e;else{if(o==="checked")l[o]=!!e;l.setAttribute(o,""+e)}})}},removeAttr:function(p,o){a.each(a.query(p),function(e){if(b(e)){k.attr(e,o,"");e.removeAttribute(o)}})},val:function(p,o){if(o===
q){var e=a.get(p);if(!b(e))return q;if(e&&e.nodeName.toUpperCase()==="option".toUpperCase())return(e.attributes.value||{}).specified?e.value:e.text;if(e&&e.nodeName.toUpperCase()==="select".toUpperCase()){var d=e.selectedIndex,i=e.options;if(d<0)return null;else if(e.type==="select-one")return k.val(i[d]);e=[];for(var j=0,l=i.length;j<l;++j)i[j].selected&&e.push(k.val(i[j]));return e}if(n.webkit&&x.test(e.type))return e.getAttribute("value")===null?"on":e.value;return(e.value||"").replace(s,"")}a.each(a.query(p),
function(m){if(m&&m.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(o))o+="";var w=a.makeArray(o),h=m.options,t;j=0;for(l=h.length;j<l;++j){t=h[j];t.selected=a.inArray(k.val(t),w)}if(!w.length)m.selectedIndex=-1}else if(b(m))m.value=o})},text:function(p,o){if(o===q){var e=a.get(p);if(b(e))return e[g]||"";else if(k._nodeTypeIs(e,3))return e.nodeValue}else a.each(a.query(p),function(d){if(b(d))d[g]=o;else if(k._nodeTypeIs(d,3))d.nodeValue=o})}})});
KISSY.add("dom-style",function(a,q){function n(d,i){var j=a.get(d),l=i===r?j.offsetWidth:j.offsetHeight;a.each(i===r?["Left","Right"]:["Top","Bottom"],function(m){l-=parseFloat(c._getComputedStyle(j,"padding"+m))||0;l-=parseFloat(c._getComputedStyle(j,"border"+m+"Width"))||0});return l}function f(d,i,j){var l=j;if(j===y&&x.test(i)){l=0;if(a.inArray(c.css(d,"position"),["absolute","fixed"])){j=d[i==="left"?"offsetLeft":"offsetTop"];if(g.ie===8||g.opera)j-=s(c.css(d.offsetParent,"border-"+i+"-width"))||
0;l=j-(s(c.css(d,"margin-"+i))||0)}}return l}var c=a.DOM,g=a.UA,k=document,b=k.documentElement,r="width",y="auto",s=parseInt,x=/^(?:left|top)/,z=/^(?:width|height|top|left|right|bottom|margin|padding)/i,u=/-([a-z])/ig,p=function(d,i){return i.toUpperCase()},o={},e={};a.mix(c,{_CUSTOM_STYLES:o,_getComputedStyle:function(d,i){var j="",l=d.ownerDocument;if(d.style)j=l.defaultView.getComputedStyle(d,null)[i];return j},css:function(d,i,j){if(a.isPlainObject(i))for(var l in i)c.css(d,l,i[l]);else{if(i.indexOf("-")>
0)i=i.replace(u,p);i=o[i]||i;if(j===q){d=a.get(d);l="";if(d&&d.style){l=i.get?i.get(d):d.style[i];if(l===""&&!i.get)l=f(d,i,c._getComputedStyle(d,i))}return l===q?"":l}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&z.test(i))j+="px";(i===r||i==="height")&&parseFloat(j)<0||a.each(a.query(d),function(m){if(m&&m.style){i.set?i.set(m,j):m.style[i]=j;if(j==="")m.style.cssText||m.removeAttribute("style")}})}}},width:function(d,i){if(i===q)return n(d,r);else c.css(d,r,i)},height:function(d,
i){if(i===q)return n(d,"height");else c.css(d,"height",i)},show:function(d){a.query(d).each(function(i){if(i){i.style.display=c.data(i,"display")||"";if(c.css(i,"display")==="none"){var j=i.tagName,l=e[j],m;if(!l){m=k.createElement(j);k.body.appendChild(m);l=c.css(m,"display");c.remove(m);e[j]=l}c.data(i,"display",l);i.style.display=l}}})},hide:function(d){a.query(d).each(function(i){if(i){var j=i.style,l=j.display;if(l!=="none"){l&&c.data(i,"display",l);j.display="none"}}})},toggle:function(d){a.query(d).each(function(i){if(i)i.style.display===
"none"?c.show(i):c.hide(i)})},addStyleSheet:function(d,i){var j;if(i&&(i=i.replace("#","")))j=a.get("#"+i);if(!j){j=c.create("<style>",{id:i});a.get("head").appendChild(j);if(j.styleSheet)j.styleSheet.cssText=d;else j.appendChild(k.createTextNode(d))}}});if(b.style.cssFloat!==q)o["float"]="cssFloat";else if(b.style.styleFloat!==q)o["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,q){if(a.UA.ie){var n=a.DOM,f=document,c=f.documentElement,g=n._CUSTOM_STYLES,k=/^-?\d+(?:px)?$/i,b=/^-?\d/,r=/^(?:width|height)$/;try{if(c.style.opacity===q&&c.filters)g.opacity={get:function(s){var x=100;try{x=s.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(z){try{x=s.filters("alpha").opacity}catch(u){}}return x/100+""},set:function(s,x){var z=s.style,u=(s.currentStyle||0).filter||"";z.zoom=1;if(u)if(u=u.replace(/alpha\(opacity=.+\)/ig,""))u+=", ";
z.filter=u+"alpha(opacity="+x*100+")"}}}catch(y){}if(!(f.defaultView||{}).getComputedStyle&&c.currentStyle)n._getComputedStyle=function(s,x){var z=s.style,u=s.currentStyle[x];if(r.test(x))u=n[x](s)+"px";else if(!k.test(u)&&b.test(u)){var p=z.left,o=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left;z.left=x==="fontSize"?"1em":u||0;u=z.pixelLeft+"px";z.left=p;s.runtimeStyle.left=o}return u}}});
KISSY.add("dom-offset",function(a,q){function n(j){var l=0,m=0,w=y(j[u]);if(j[i]){j=j[i]();l=j[p];m=j[o];if(c.mobile!=="apple"){l+=f[e](w);m+=f[d](w)}}return{left:l,top:m}}var f=a.DOM,c=a.UA,g=window,k=document,b=f._isElementNode,r=f._nodeTypeIs,y=f._getWin,s=k.compatMode==="CSS1Compat",x=Math.max,z=parseInt,u="ownerDocument",p="left",o="top",e="scrollLeft",d="scrollTop",i="getBoundingClientRect";a.mix(f,{offset:function(j,l){if(!(j=a.get(j))||!j[u])return null;if(l===q)return n(j);var m=j;if(f.css(m,
"position")==="static")m.style.position="relative";var w=n(m),h={},t,v;for(v in l){t=z(f.css(m,v),10)||0;h[v]=t+l[v]-w[v]}f.css(m,h)},scrollIntoView:function(j,l,m,w){if((j=a.get(j))&&j[u]){w=w===q?true:!!w;m=m===q?true:!!m;if(!l||l===g)return j.scrollIntoView(m);l=a.get(l);if(r(l,9))l=y(l);var h=l&&"scrollTo"in l&&l.document,t=f.offset(j),v=h?{left:f.scrollLeft(l),top:f.scrollTop(l)}:f.offset(l),A={left:t[p]-v[p],top:t[o]-v[o]};t=h?f.viewportHeight(l):l.clientHeight;v=h?f.viewportWidth(l):l.clientWidth;
var B=f[e](l),E=f[d](l),D=B+v,C=E+t,K=j.offsetHeight;j=j.offsetWidth;var J=A.left+B-(z(f.css(l,"borderLeftWidth"))||0);A=A.top+E-(z(f.css(l,"borderTopWidth"))||0);var G=J+j,F=A+K,H,I;if(K>t||A<E||m)H=A;else if(F>C)H=F-t;if(w)if(j>v||J<B||m)I=J;else if(G>D)I=G-v;if(h){if(H!==q||I!==q)l.scrollTo(I,H)}else{if(H!==q)l[d]=H;if(I!==q)l[e]=I}}}});a.each(["Left","Top"],function(j,l){var m="scroll"+j;f[m]=function(w){var h=0,t=y(w),v;if(t&&(v=t.document))h=t[l?"pageYOffset":"pageXOffset"]||v.documentElement[m]||
v.body[m];else if(b(w=a.get(w)))h=w[m];return h}});a.each(["Width","Height"],function(j){f["doc"+j]=function(l){l=l||k;return x(s?l.documentElement["scroll"+j]:l.body["scroll"+j],f["viewport"+j](l))};f["viewport"+j]=function(l){var m="inner"+j;l=y(l);var w=l.document;return m in l?l[m]:s?w.documentElement["client"+j]:w.body["client"+j]}})});
KISSY.add("dom-traversal",function(a,q){function n(k,b,r,y){if(!(k=a.get(k)))return null;if(b===q)b=1;var s=null,x,z;if(a.isNumber(b)&&b>=0){if(b===0)return k;x=0;z=b;b=function(){return++x===z}}for(;k=k[r];)if(g(k)&&(!b||c.test(k,b))&&(!y||y(k))){s=k;break}return s}function f(k,b,r){var y=[];var s=k=a.get(k);if(k&&r)s=k.parentNode;if(s){r=0;for(s=s.firstChild;s;s=s.nextSibling)if(g(s)&&s!==k&&(!b||c.test(s,b)))y[r++]=s}return y}var c=a.DOM,g=c._isElementNode;a.mix(c,{parent:function(k,b){return n(k,
b,"parentNode",function(r){return r.nodeType!=11})},next:function(k,b){return n(k,b,"nextSibling")},prev:function(k,b){return n(k,b,"previousSibling")},siblings:function(k,b){return f(k,b,true)},children:function(k,b){return f(k,b)},contains:function(k,b){var r=false;if((k=a.get(k))&&(b=a.get(b)))if(k.contains){if(b.nodeType===3){b=b.parentNode;if(b===k)return true}if(b)return k.contains(b)}else if(k.compareDocumentPosition)return!!(k.compareDocumentPosition(b)&16);else for(;!r&&(b=b.parentNode);)r=
b==k;return r}})});
KISSY.add("dom-create",function(a,q){function n(h){var t=h.cloneNode(true);if(b.ie<8)t.innerHTML=h.innerHTML;return t}function f(h,t,v,A){if(v){var B=a.guid("ks-tmp-"),E=RegExp(p);t+='<span id="'+B+'"></span>';a.available(B,function(){var D=a.get("head"),C,K,J,G,F,H;for(E.lastIndex=0;C=E.exec(t);)if((J=(K=C[1])?K.match(e):false)&&J[2]){C=g.createElement("script");C.src=J[2];if((G=K.match(d))&&G[2])C.charset=G[2];C.async=true;D.appendChild(C)}else if((H=C[2])&&H.length>0)a.globalEval(H);(F=g.getElementById(B))&&
k.remove(F);a.isFunction(A)&&A()});c(h,t)}else{c(h,t);a.isFunction(A)&&A()}}function c(h,t){t=(t+"").replace(p,"");try{h.innerHTML=t}catch(v){for(;h.firstChild;)h.removeChild(h.firstChild);t&&h.appendChild(k.create(t))}}var g=document,k=a.DOM,b=a.UA,r=b.ie,y=k._nodeTypeIs,s=k._isElementNode,x=k._isKSNode,z=g.createElement("div"),u=/<(\w+)/,p=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,o=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,e=/\ssrc=(['"])(.*?)\1/i,d=/\scharset=(['"])(.*?)\1/i;a.mix(k,{create:function(h,
t,v){if(y(h,1)||y(h,3))return n(h);if(x(h))return n(h[0]);if(!(h=a.trim(h)))return null;var A=null;A=k._creators;var B,E="div",D;if(B=o.exec(h))A=(v||g).createElement(B[1]);else{if((B=u.exec(h))&&(D=B[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;h=A[E](h,v).childNodes;if(h.length===1)v=h[0].parentNode.removeChild(h[0]);else{h=h;D=v||g;v=null;if(h&&(h.push||h.item)&&h[0]){D=D||h[0].ownerDocument;v=D.createDocumentFragment();if(h.item)h=a.makeArray(h);D=0;for(A=h.length;D<A;D++)v.appendChild(h[D])}v=
v}A=v}v=A;s(v)&&a.isPlainObject(t)&&k.attr(v,t,true);return v},_creators:{div:function(h,t){var v=t?t.createElement("div"):z;v.innerHTML=h;return v}},html:function(h,t,v,A){if(t===q){h=a.get(h);if(s(h))return h.innerHTML}else a.each(a.query(h),function(B){s(B)&&f(B,t,v,A)})},remove:function(h){a.each(a.query(h),function(t){s(t)&&t.parentNode&&t.parentNode.removeChild(t)})}});if(r||b.gecko||b.webkit){var i=k._creators,j=k.create,l=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,m={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},w;for(w in m)(function(h){i[w]=function(t,v){return j("<"+h+">"+t+"</"+h+">",null,v)}})(m[w]);if(r){i.script=function(h,t){var v=t?t.createElement("div"):z;v.innerHTML="-"+h;v.removeChild(v.firstChild);return v};if(r<8)i.tbody=function(h,t){var v=j("<table>"+h+"</table>",null,t),A=v.children.tags("tbody")[0];v.children.length>1&&A&&!l.test(h)&&A.parentNode.removeChild(A);return v}}a.mix(i,{optgroup:i.option,th:i.td,thead:i.tbody,tfoot:i.tbody,
caption:i.tbody,colgroup:i.tbody})}});
KISSY.add("dom-insertion",function(a){var q=a.DOM;a.mix(q,{insertBefore:function(n,f){if((n=a.get(n))&&(f=a.get(f))&&f.parentNode)f.parentNode.insertBefore(n,f);return n},insertAfter:function(n,f){if((n=a.get(n))&&(f=a.get(f))&&f.parentNode)f.nextSibling?f.parentNode.insertBefore(n,f.nextSibling):f.parentNode.appendChild(n);return n},append:function(n,f){if((n=a.get(n))&&(f=a.get(f)))f.appendChild&&f.appendChild(n)},prepend:function(n,f){if((n=a.get(n))&&(f=a.get(f)))f.firstChild?q.insertBefore(n,
f.firstChild):f.appendChild(n)}})});
KISSY.add("event",function(a,q){function n(p,o,e,d,i){if(a.isString(o))o=a.query(o);if(a.isArray(o)){a.each(o,function(j){u[p](j,e,d,i)});return true}if((e=a.trim(e))&&e.indexOf(s)>0){a.each(e.split(s),function(j){u[p](o,j,d,i)});return true}}function f(p){return p&&p.nodeType!==3&&p.nodeType!==8?k.data(p,y):-1}function c(p,o){p&&p.nodeType!==3&&p.nodeType!==8&&k.data(p,y,o)}var g=document,k=a.DOM,b=g.addEventListener?function(p,o,e,d){p.addEventListener&&p.addEventListener(o,e,!!d)}:function(p,o,
e){p.attachEvent&&p.attachEvent("on"+o,e)},r=g.removeEventListener?function(p,o,e,d){p.removeEventListener&&p.removeEventListener(o,e,!!d)}:function(p,o,e){p.detachEvent&&p.detachEvent("on"+o,e)},y="ksEventTargetId",s=" ",x=a.now(),z={},u={EVENT_GUID:y,special:{},add:function(p,o,e,d){if(!n("add",p,o,e,d)){var i=f(p),j,l,m,w,h;if(!(i===-1||!o||!a.isFunction(e))){if(!i){c(p,i=x++);z[i]={target:p,events:{}}}l=z[i].events;if(!l[o]){j=((i=!p.isCustomEventTarget)||p._supportSpecialEvent)&&u.special[o]||
{};m=function(t,v){if(!t||!t.fixed)t=new a.EventObject(p,t,o);if(a.isPlainObject(v)){var A=t.type;a.mix(t,v);t.type=A}j.setup&&j.setup(t);return(j.handle||u._handle)(p,t)};l[o]={handle:m,listeners:[]};w=j.fix||o;h=j.capture;j.init&&j.init.apply(null,a.makeArray(arguments));i&&j.fix!==false&&b(p,w,m,h)}l[o].listeners.push({fn:e,scope:d||p})}}},__getListeners:function(p,o){var e,d=[];if(e=(u.__getEvents(p)||{})[o])d=e.listeners;return d},__getEvents:function(p){var o=f(p),e;if(o!==-1)if(o&&(e=z[o]))if(e.target===
p)return e.events||{}},remove:function(p,o,e,d){if(!n("remove",p,o,e,d)){var i=u.__getEvents(p),j=f(p),l,m,w,h,t,v,A=(!p.isCustomEventTarget||p._supportSpecialEvent)&&u.special[o]||{};if(i!==undefined){d=d||p;if(l=i[o]){m=l.listeners;w=m.length;if(a.isFunction(e)&&w){t=h=0;for(v=[];h<w;++h)if(e!==m[h].fn||d!==m[h].scope)v[t++]=m[h];l.listeners=v;w=v.length}if(e===q||w===0){if(!p.isCustomEventTarget){A=u.special[o]||{};if(A.fix!==false)r(p,A.fix||o,l.handle)}delete i[o]}}A.destroy&&A.destroy.apply(null,
a.makeArray(arguments));if(o===q||a.isEmptyObject(i)){for(o in i)u.remove(p,o);delete z[j];k.removeData(p,y)}}}},_handle:function(p,o){var e=u.__getListeners(p,o.type);e=e.slice(0);for(var d,i=0,j=e.length;i<j;++i){d=e[i];d=d.fn.call(d.scope,o);if(d!==q){o.result=d;d===false&&o.halt()}if(o.isImmediatePropagationStopped)break}return d},_getCache:function(p){return z[p]},__getID:f,_simpleAdd:b,_simpleRemove:r};u.on=u.add;a.Event=u});
KISSY.add("event-object",function(a,q){function n(g,k,b){this.currentTarget=g;this.originalEvent=k||{};if(k){this.type=k.type;this._fix()}else{this.type=b;this.target=g}this.currentTarget=g;this.fixed=true}var f=document,c="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
a.augment(n,{_fix:function(){var g=this.originalEvent,k=c.length,b,r=this.currentTarget;for(r=r.nodeType===9?r:r.ownerDocument||f;k;){b=c[--k];this[b]=g[b]}if(!this.target)this.target=this.srcElement||f;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===q&&this.clientX!==q){g=r.documentElement;k=r.body;this.pageX=this.clientX+(g&&g.scrollLeft||k&&k.scrollLeft||
0)-(g&&g.clientLeft||k&&k.clientLeft||0);this.pageY=this.clientY+(g&&g.scrollTop||k&&k.scrollTop||0)-(g&&g.clientTop||k&&k.clientTop||0)}if(this.which===q)this.which=this.charCode!==q?this.charCode:this.keyCode;if(this.metaKey===q)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==q)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var g=this.originalEvent;if(g.preventDefault)g.preventDefault();else g.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var g=
this.originalEvent;if(g.stopPropagation)g.stopPropagation();else g.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var g=this.originalEvent;g.stopImmediatePropagation?g.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(g){g?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=n});
KISSY.add("event-target",function(a,q){var n=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(f,c){var g=a.DOM.data(this,n.EVENT_GUID)||-1;if((g=((n._getCache(g)||{}).events||{})[f])&&a.isFunction(g.handle))return g.handle(q,c)},on:function(f,c,g){n.add(this,f,c,g);return this},detach:function(f,c,g){n.remove(this,f,c,g);return this}}});
KISSY.add("event-mouseenter",function(a){var q=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){q.special[n.name]={fix:n.fix,setup:function(f){f.type=n.name},handle:function(f,c){if(a.DOM._isKSNode(f))f=f[0];var g=c.relatedTarget;try{for(;g&&g!==f;)g=g.parentNode;g!==f&&q._handle(f,c)}catch(k){}}}})});
KISSY.add("event-focusin",function(a){var q=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(n){q.special[n.name]={fix:n.fix,capture:true,setup:function(f){f.type=n.name}}})});
KISSY.add("node",function(a){function q(f,c,g){if(!(this instanceof q))return new q(f,c,g);if(f){if(a.isString(f)){f=n.create(f,c,g);if(f.nodeType===11)return new a.NodeList(f.childNodes)}else if(f instanceof q)return f;else f=f;this[0]=f}else this.length=0}var n=a.DOM;q.TYPE="-ks-Node";a.augment(q,{length:1,getDOMNode:function(){return this[0]},nodeType:q.TYPE});a.one=function(f,c){var g=a.get(f,c);return g?new q(g):null};a.Node=q});
KISSY.add("nodelist",function(a){function q(c){if(!(this instanceof q))return new q(c);n.push.apply(this,a.makeArray(c)||[])}var n=Array.prototype,f=a.DOM._isElementNode;a.mix(q.prototype,{length:0,item:function(c){var g=null,k,b;if(f(c)){k=0;for(b=this.length;k<b;k++)if(c===this[k]){c=k;break}}if(f(this[c]))g=new a.Node(this[c]);return g},getDOMNodes:function(){return n.slice.call(this)},each:function(c,g){var k=this.length,b=0,r;for(r=new a.Node(this[0]);b<k&&c.call(g||r,r,b,this)!==false;r=new a.Node(this[++b]));
return this}});a.all=function(c,g){return new q(a.query(c,g,true))};a.NodeList=q});
KISSY.add("node-attach",function(a,q){function n(m,w,h,t){m=[this[m?d:e]()].concat(a.makeArray(w));if(w[h]===q)return t.apply(b,m);else{t.apply(b,m);return this}}function f(m,w){a.each(m,function(h){a.each([p,o],function(t,v){t[h]=function(A){switch(w){case i:return function(){return n.call(this,v,arguments,1,A)};case j:return function(){return n.call(this,v,arguments,0,A)};case l:return function(){var B=this[v?d:e]();return(B=A.apply(b,[B].concat(a.makeArray(arguments))))?new (a[a.isArray(B)?"NodeList":
"Node"])(B):null};default:return function(){var B=this[v?d:e]();B=A.apply(b,[B].concat(a.makeArray(arguments)));return B===q?this:B}}}(b[h])})})}function c(m,w,h){m&&a.each(this,function(t){var v;if(w||a.isString(m))v=b.create(m);else{if(y(m,1)||y(m,3))v=m;if(s(m))v=m[0]}b[h](v,t)});return this}function g(m,w){if((m=a.get(m))&&m.appendChild)a.each(this,function(h){b[w](h,m)});return this}function k(m,w){m.__wrap=m.__wrap||[];m.__wrap.push(w)}var b=a.DOM,r=a.Event,y=b._nodeTypeIs,s=b._isKSNode,x=a.EventTarget,
z=a.Node,u=a.NodeList,p=z.prototype,o=u.prototype,e="getDOMNode",d=e+"s",i=1,j=2,l=4;a.mix(p,{one:function(m){return a.one(m,this[0])},all:function(m){return a.all(m,this[0])}});f(["data","removeData"],i);f(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);f(["attr","removeAttr"],i);f(["val","text"],j);f(["css"],i);f(["width","height"],j);f(["offset"],j);f(["scrollIntoView"]);f(["parent","next","prev","siblings","children"],l);f(["contains"]);f(["html"],j);f(["remove"]);a.each(["insertBefore",
"insertAfter"],function(m){p[m]=function(w){b[m].call(b,this[0],w);return this}});a.each([p,o],function(m,w){a.each(["append","prepend"],function(h){m[h]=function(t){return c.call(this,t,w,h)};m[h+"To"]=function(t){return g.call(this,t,h)}})});a.augment(z,x,{fire:null,on:function(m,w,h){function t(A){var B=a.makeArray(arguments);B.shift();A.target=new z(A.target);B.unshift(A);return w.apply(h||v,B)}var v=this;r.add(this[0],m,t,h);k(w,t);return this},detach:function(m,w,h){if(a.isFunction(w)){w=w.__wrap||
[];for(var t=0;t<w.length;t++)r.remove(this[0],m,w[t],h)}else r.remove(this[0],m,w,h);return this}});a.augment(u,x,{fire:null});p._supportSpecialEvent=true;a.each({on:"add",detach:"remove"},function(m,w){o[w]=function(h,t,v){for(var A=0;A<this.length;A++)this.item(A).on(h,t,v)}})});if(!this.JSON)this.JSON={};
(function(){function a(y){return y<10?"0"+y:y}function q(y){c.lastIndex=0;return c.test(y)?'"'+y.replace(c,function(s){var x=b[s];return typeof x==="string"?x:"\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+y+'"'}function n(y,s){var x,z,u,p,o=g,e,d=s[y];if(d&&typeof d==="object"&&typeof d.toJSON==="function")d=d.toJSON(y);if(typeof r==="function")d=r.call(s,y,d);switch(typeof d){case "string":return q(d);case "number":return isFinite(d)?String(d):"null";case "boolean":case "null":return String(d);
case "object":if(!d)return"null";g+=k;e=[];if(Object.prototype.toString.apply(d)==="[object Array]"){p=d.length;for(x=0;x<p;x+=1)e[x]=n(x,d)||"null";u=e.length===0?"[]":g?"[\n"+g+e.join(",\n"+g)+"\n"+o+"]":"["+e.join(",")+"]";g=o;return u}if(r&&typeof r==="object"){p=r.length;for(x=0;x<p;x+=1){z=r[x];if(typeof z==="string")if(u=n(z,d))e.push(q(z)+(g?": ":":")+u)}}else for(z in d)if(Object.hasOwnProperty.call(d,z))if(u=n(z,d))e.push(q(z)+(g?": ":":")+u);u=e.length===0?"{}":g?"{\n"+g+e.join(",\n"+g)+
"\n"+o+"}":"{"+e.join(",")+"}";g=o;return u}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,k,b={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;if(typeof JSON.stringify!=="function")JSON.stringify=function(y,s,x){var z;k=g="";if(typeof x==="number")for(z=0;z<x;z+=1)k+=" ";else if(typeof x==="string")k=x;if((r=s)&&typeof s!=="function"&&(typeof s!=="object"||typeof s.length!=="number"))throw Error("JSON.stringify");return n("",{"":y})};
if(typeof JSON.parse!=="function")JSON.parse=function(y,s){function x(u,p){var o,e,d=u[p];if(d&&typeof d==="object")for(o in d)if(Object.hasOwnProperty.call(d,o)){e=x(d,o);if(e!==undefined)d[o]=e;else delete d[o]}return s.call(u,p,d)}var z;y=String(y);f.lastIndex=0;if(f.test(y))y=y.replace(f,function(u){return"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(y.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){z=eval("("+y+")");return typeof s==="function"?x({"":z},""):z}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var q=window.JSON;a.JSON={parse:function(n){if(n==null||n==="")return null;return q.parse(n)},stringify:q.stringify}});
KISSY.add("ajax",function(a,q){function n(h){h=a.merge(w,h);if(h.url){if(h.data&&!a.isString(h.data))h.data=a.param(h.data);h.context=h.context||h;var t,v=d,A,B=h.type.toUpperCase();if(h.dataType===x){t=h.jsonpCallback||x+a.now();h.url=h.url+(h.url.indexOf("?")===-1?"?":"&")+(h.jsonp+"="+t);h.dataType=z;var E=g[t];g[t]=function(G){if(a.isFunction(E))E(G);else{g[t]=q;try{delete g[t]}catch(F){}}f([d,i],G,v,C,h)}}if(h.data&&B===b)h.url=h.url+(h.url.indexOf("?")===-1?"?":"&")+h.data;if(h.dataType===z){c(p,
h);B=a.getScript(h.url,t?null:function(){f([d,i],u,v,C,h)});c(o,h);return B}var D=false,C=h.xhr();c(p,h);C.open(B,h.url,h.async);try{if(h.data||h.contentType)C.setRequestHeader(y,h.contentType);C.setRequestHeader("Accept",h.dataType&&h.accepts[h.dataType]?h.accepts[h.dataType]+", */*; q=0.01":h.accepts._default)}catch(K){}C.onreadystatechange=function(G){if(!C||C.readyState===0||G==="abort"){D||f(i,null,j,C,h);D=true;if(C)C.onreadystatechange=k}else if(!D&&C&&(C.readyState===4||G===l)){D=true;C.onreadystatechange=
k;var F;if(G===l)F=l;else{a:{try{F=C.status>=200&&C.status<300||C.status===304||C.status===1223;break a}catch(H){}F=false}F=F?d:j}v=F;try{F=C;var I=h.dataType,M=u,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(y)||u;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===m)throw m;}if(a.isString(L))if(I===s||!I&&M.indexOf(s)>=0)L=a.JSON.parse(L);A=L}catch(O){v=m}f([v===d?d:j,i],A,v,C,h);if(G===l){C.abort();c(e,h)}if(h.async)C=null}};c(o,h);try{C.send(B===
r?h.data:null)}catch(J){f([j,i],A,j,C,h)}h.async||c(i,h);return C}}function f(h,t,v,A,B){if(a.isArray(h))a.each(h,function(E){f(E,t,v,A,B)});else{v===h&&B[h]&&B[h].call(B.context,t,v,A);c(h,B)}}function c(h,t){n.fire(h,{ajaxConfig:t})}var g=window,k=function(){},b="GET",r="POST",y="Content-Type",s="json",x=s+"p",z="script",u="",p="start",o="send",e="stop",d="success",i="complete",j="error",l="timeout",m="parsererror",w={type:b,url:u,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:g.ActiveXObject?function(){if(g.XmlHttpRequest)try{return new g.XMLHttpRequest}catch(h){}try{return new g.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}:function(){return new g.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(n,a.EventTarget);a.mix(n,{get:function(h,t,v,A,B){if(a.isFunction(t)){A=v;v=t}return n({type:B||b,
url:h,data:t,success:function(E,D,C){v&&v.call(this,E,D,C)},dataType:A})},post:function(h,t,v,A){if(a.isFunction(t)){A=v;v=t;t=q}return n.get(h,t,v,A,r)},jsonp:function(h,t,v){if(a.isFunction(t)){v=t;t=null}return n.get(h,t,v,x)}});n.getScript=a.getScript;a.io=a.ajax=n.ajax=n;a.jsonp=n.jsonp;a.IO=n});
KISSY.add("anim-easing",function(a){var q=Math,n=q.PI,f=q.pow,c=q.sin,g=1.70158,k={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(f(2,10*(b-=1))*c((b-0.075)*2*n/0.3))},
elasticOut:function(b){if(b===0||b===1)return b;return f(2,-10*b)*c((b-0.075)*2*n/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*f(2,10*(b-=1))*c((b-0.1125)*2*n/0.45);return f(2,-10*(b-=1))*c((b-0.1125)*2*n/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((g+1)*b-g)},backOut:function(b){return(b-=1)*b*((g+1)*b+g)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((g*=1.525)+1)*b-g);return 0.5*((b-=2)*b*(((g*=1.525)+1)*b+g)+2)},bounceIn:function(b){return 1-
k.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return k.bounceIn(b*2)*0.5;return k.bounceOut(b*2-1)*0.5+0.5}};k.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=k});
KISSY.add("anim",function(a,q){function n(e,d,i,j,l,m){if(e=a.get(e)){if(!(this instanceof n))return new n(e,d,i,j,l,m);var w=a.isPlainObject(i);d=d;this.domEl=e;if(a.isPlainObject(d))d=a.param(d,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var h={},t=z.length,v;x.innerHTML='<div style="'+d+'"></div>';for(e=x.firstChild.style;t--;)if(v=e[z[t]])h[z[t]]=g(v);this.props=h;this.targetStyle=d;if(w)w=a.merge(o,i);else{w=a.clone(o);if(i)w.duration=s(i)||1;if(a.isString(j)||
a.isFunction(j))w.easing=j;if(a.isFunction(l))w.complete=l;if(m!==q)w.nativeSupport=m}this.config=w;if(w.nativeSupport&&f()&&a.isString(j=w.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(j)||(j=y.NativeTimeFunction[j])){w.easing=j;this.transitionName=f()}a.isFunction(l)&&this.on(p,l)}}function f(){var e="transition",d;if(x.style[e]!==q)d=e;else a.each(["Webkit","Moz","O"],function(i){if(x.style[e=i+"Transition"]!==q){d=e;return false}});f=function(){return d};return d}function c(e,d,i){a.UA.ie&&i.indexOf(u)>
-1&&r.css(e,u,d[u].v);e.style.cssText+=";"+i}function g(e){var d=s(e);e=(e+"").replace(/^[-\d.]+/,"");return isNaN(d)?{v:e,u:"",f:b}:{v:d,u:e,f:k}}function k(e,d,i){return(e+(d-e)*i).toFixed(3)}function b(e,d,i){for(var j=2,l,m,w=[],h=[];l=3,m=arguments[j-1],j--;)if(m.substr(0,4)==="rgb(")for(m=m.match(/\d+/g);l--;)w.push(~~m[l]);else if(m.substr(0,1)==="#"){if(m.length===4)m="#"+m.substr(1,1)+m.substr(1,1)+m.substr(2,1)+m.substr(2,1)+m.substr(3,1)+m.substr(3,1);for(;l--;)w.push(parseInt(m.substr(1+
l*2,2),16))}else return d;for(;l--;){j=~~(w[l+3]+(w[l]-w[l+3])*i);h.push(j<0?0:j>255?255:j)}return"rgb("+h.join(",")+")"}var r=a.DOM,y=a.Easing,s=parseFloat,x=r.create("<div>"),z="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
u="opacity",p="complete",o={duration:1,easing:"easeNone",nativeSupport:true};a.augment(n,a.EventTarget,{run:function(){var e=this,d=e.config,i=e.domEl,j,l,m,w,h=e.props,t={},v;for(v in h)t[v]=g(r.css(i,v));if(e.fire("start")!==false){e.stop();if(e.transitionName)e._nativeRun();else{j=d.duration*1E3;m=a.now();w=m+j;l=d.easing;if(a.isString(l))l=y[l]||y.easeNone;e.timer=a.later(d=function(){var A=a.now(),B=A>w?1:(A-m)/j,E,D,C;for(v in h){E=t[v];D=h[v];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;r.css(i,v,
D.f(E.v,D.v,l(B))+D.u)}if(e.fire("step")===false||(C=A>w)){e.stop();C&&e.fire(p)}},13,true);d()}return e}},_nativeRun:function(){var e=this,d=e.config,i=e.domEl,j=e.props,l=d.duration*1E3;d=d.easing;var m=e.transitionName,w={};w[m+"Property"]="all";w[m+"Duration"]=l+"ms";w[m+"TimingFunction"]=d;r.css(i,w);a.later(function(){c(i,j,e.targetStyle)},0);a.later(function(){e.stop(true)},l)},stop:function(e){if(this.transitionName)this._nativeStop(e);else{if(this.timer){this.timer.cancel();this.timer=q}if(e){c(this.domEl,
this.props,this.targetStyle);this.fire(p)}}return this},_nativeStop:function(e){var d=this.domEl,i=this.transitionName,j=this.props,l;if(e){r.css(d,i+"Property","none");this.fire(p)}else{for(l in j)r.css(d,l,r._getComputedStyle(d,l));r.css(d,i+"Property","none")}}});n.supportTransition=function(){return!!f()};a.Anim=n});
KISSY.add("anim-node-plugin",function(a,q){function n(u,p,o,e,d){if(p==="toggle"){d=f.css(u,g)===k?1:0;p="show"}if(d)f.css(u,g,f.data(u,g)||"");var i={},j={};a.each(z[p],function(l){if(l===b){i[b]=f.css(u,b);f.css(u,b,r)}else if(l===y){i[y]=f.css(u,y);j.opacity=d?1:0;d&&f.css(u,y,0)}else if(l===s){i[s]=f.css(u,s);j.height=d?f.css(u,s)||u.naturalHeight:0;d&&f.css(u,s,0)}else if(l===x){i[x]=f.css(u,x);j.width=d?f.css(u,x)||u.naturalWidth:0;d&&f.css(u,x,0)}});(new a.Anim(u,j,o,"easeOut",function(){if(!d){var l=
u.style,m=l[g];if(m!==k){m&&f.data(u,g,m);l[g]=k}i[s]&&f.css(u,{height:i[s]});i[x]&&f.css(u,{height:i[x]});i[y]&&f.css(u,{height:i[y]});i[b]&&f.css(u,{height:i[b]})}e&&a.isFunction(e)&&e()})).run()}var f=a.DOM,c=a.Anim,g="display",k="none",b="overflow",r="hidden",y="opacity",s="height",x="width",z={show:[b,y,s,x],fade:[y],slide:[b,s]};a.each([a.Node.prototype,a.NodeList.prototype],function(u){u.animate=function(){var p=a.makeArray(arguments);a.each(this,function(o){c.apply(q,[o].concat(p)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(p,o){u[o]=function(e,d){f[o]&&arguments.length===0?f[o](this):a.each(this,function(i){n(i,p[0],e,d,p[1])});return this}})})});
KISSY.add("cookie",function(a){var q=document,n=encodeURIComponent,f=decodeURIComponent;a.Cookie={get:function(c){var g;if(a.isString(c)&&c!=="")if(c=q.cookie.match("(?:^| )"+c+"(?:(?:=([^;]*))|;|$)"))g=c[1]?f(c[1]):"";return g},set:function(c,g,k,b,r,y){g=n(g);var s=k;if(typeof s==="number"){s=new Date;s.setTime(s.getTime()+k*864E5)}if(s instanceof Date)g+="; expires="+s.toUTCString();if(a.isString(b)&&b!=="")g+="; domain="+b;if(a.isString(r)&&r!=="")g+="; path="+r;if(y)g+="; secure";q.cookie=c+
"="+g},remove:function(c,g,k,b){this.set(c,"",0,g,k,b)}}});
KISSY.add("attribute",function(a,q){function n(){this.__attrs={};this.__attrVals={}}function f(c){c+="";return c.charAt(0).toUpperCase()+c.substring(1)}a.augment(n,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(c,g){this.__attrs[c]=a.clone(g||{});return this},hasAttr:function(c){return c&&this.__attrs.hasOwnProperty(c)},removeAttr:function(c){if(this.hasAttr(c)){delete this.__attrs[c];delete this.__attrVals[c]}return this},set:function(c,g){var k=this.get(c);if(k!==g)if(false!==
this.__fireAttrChange("before",c,k,g)){this.__set(c,g);this.__fireAttrChange("after",c,k,this.__attrVals[c]);return this}},__fireAttrChange:function(c,g,k,b){return this.fire(c+f(g)+"Change",{attrName:g,prevVal:k,newVal:b})},__set:function(c,g){var k,b=this.__attrs[c];if(b=b&&b.setter)k=b.call(this,g);if(k!==q)g=k;this.__attrVals[c]=g},get:function(c){var g;g=(g=this.__attrs[c])&&g.getter;c=c in this.__attrVals?this.__attrVals[c]:this.__getDefAttrVal(c);if(g)c=g.call(this,c);return c},__getDefAttrVal:function(c){c=
this.__attrs[c];var g;if(c){if(g=c.valueFn){g=g.call(this);if(g!==q)c.value=g;delete c.valueFn}return c.value}},reset:function(c){if(this.hasAttr(c))return this.set(c,this.__getDefAttrVal(c));for(c in this.__attrs)this.hasAttr(c)&&this.reset(c);return this}});a.Attribute=n;n.__capitalFirst=f});
KISSY.add("base",function(a){function q(n){a.Attribute.call(this);for(var f=this.constructor;f;){var c=f.ATTRS;if(c){var g=void 0;for(g in c)c.hasOwnProperty(g)&&!this.hasAttr(g)&&this.addAttr(g,c[g])}f=f.superclass?f.superclass.constructor:null}if(n)for(var k in n)n.hasOwnProperty(k)&&this.__set(k,n[k])}a.augment(q,a.EventTarget,a.Attribute);a.Base=q});
