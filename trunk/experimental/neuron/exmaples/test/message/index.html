<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>NeuronV3Tst</title>
	<meta http-equiv="Content-Type" content="text/html; charset=gbk" />
	<meta name="language" content="en" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	
	<script src="js/swfobject.js" type="text/javascript"></script>
	<script type="text/javascript">
	
		
			var  tg;
			var flashvars = {
				swfID:"altContent", // 必需告诉swf所在html标签id ，以便于解决兼容bug
				jsEntry:"jsEntry" // 公开给as的 js入口
			};
			var params = {
				menu: "false",
				scale: "noScale",
				allowFullscreen: "true",
				allowScriptAccess: "always" , //请保持 always 以便于调试。
				bgcolor: "#FFFFFF"
			};
			var attributes = {
				id:"NeuronV3Tst"
			};
			
			function callback(b){
			// 活动swf对象
				tg = b.ref;
			}
			function jsEntry(o){
			// 公开给as的 js入口
			//	所有as调用都经过此
				alert("jsEntry:"+o.type +"，data:"+o.data);
			}
			swfobject.embedSWF("NeuronV3Tst.swf", "altContent", "100%", "600", "9.0.0", "expressInstall.swf", flashvars, params, attributes,callback);
		
	
			function send(){
				if(!tg)return;
				var data = document.getElementById("data").value;
				var to = document.getElementById("to").value;
				var domain = document.getElementById("domain").value;
				var app = document.getElementById("app").value;
				if(data ==null || data =="")return;
				tg.local(data,{to:to,domain:domain,application:app});
			}
		
	</script>
	<style type="text/css">
		html, body { height:100%;  }
		body { margin:0; }
		.method{ font-weight:bold; color:blue; font-size:16px;}
		.prop{ font-weight:bold; color:red; font-size:14px;}
	</style>
</head>
<body>
	<h1>代号：神经元(Demo)</h1>
	<h2>客户端集群服务</h2>
	<dl>
		<dt>使用步骤：</dt>
		<dd>打开多个页面/或多个浏览器</dd>
		<dd>在任意面板中输入数据</dd>
		<dd>观察数据发送情况</dd>
		<dt>说明：</dt>
		<dd>这里传输的数据都是 string 类型，事实上支持任意类型。</dd>
		<dd>数据传输上立即传输。</dd>
		<dd>示例中并没有增加 domain 和  application 进行有向发送，在实际应用中可以支持定向选择 指定的 domain 、application</dd>
		<dt>接口说明：</dt>
		<dd><span class="method">local(data,command)</span>：<span class="prop">data</span>支持任意数据类型.<span class="prop">command</span>[可选]有三个参数：to/domain/application  用于定向发送数据。</dd>
		<dd><span class="method">name()</span>：获得当前实例在集群服务体系中的唯一名。</dd>
		<dd><span class="method">channel()</span>：获得当前实例在集群服务体系中的共享通道名。</dd>
		<dd><span class="method">mode()</span>：获得当前实例在集群服务体系中的运行模式。</dd>
	</dl>
	<h3>面向 AS接口测试</h3>
	<div id="altContent">
		<h1>NeuronV3Tst</h1>
		<p>Alternative content</p>
		<p><a href="http://www.adobe.com/go/getflashplayer"><img 
			src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" 
			alt="Get Adobe Flash player" /></a></p>
	</div>
	<hr/>
	<h3>面向 JS接口测试</h3>
	<label for="to" title="目标ID，见出席列表">目标标识</label> 
	<input id="to" type="text"/><br/>
	<label for="domain" title="目标域，见出席列表">目标域名</label>
	<input id="domain" type="text"/><br/>
	<label for="app" title="目标应用，见出席列表">目标环境</label>
	<input id="app" type="text"/><br/>
	<br/>
	<textarea id="data"></textarea>
	<button onclick="send();" type="button">发送(同SWF中的发送)</button>
</body>
</html>