KISSY.add("digital-clock",function(k,t){var V='<div class="ks-digitalclock-container"><div class="ks-digitalclock-element  ks-digitalclock-vertical ks-digitalclock-e1"><s class="ks-digitalclock-first"></s><div class="ks-digitalclock-bar"></div><b class="ks-digitalclock-last"></b></div><div class="ks-digitalclock-element ks-digitalclock-vertical ks-digitalclock-e2"><s class="ks-digitalclock-first"></s><div class="ks-digitalclock-bar"></div><b class="ks-digitalclock-last"></b></div><div class="ks-digitalclock-element ks-digitalclock-horizonal ks-digitalclock-e3"><s class="ks-digitalclock-first"></s><div class="ks-digitalclock-bar"></div><b class="ks-digitalclock-last"></b></div><div class="ks-digitalclock-element  ks-digitalclock-vertical ks-digitalclock-e4"><s class="ks-digitalclock-first"></s><div class="ks-digitalclock-bar"></div><b class="ks-digitalclock-last"></b></div><div class="ks-digitalclock-element ks-digitalclock-vertical ks-digitalclock-e5"><s class="ks-digitalclock-first"></s><div class="ks-digitalclock-bar"></div><b class="ks-digitalclock-last"></b></div><div class="ks-digitalclock-element ks-digitalclock-horizonal ks-digitalclock-e6"><s class="ks-digitalclock-first"></s><div class="ks-digitalclock-bar"></div><b class="ks-digitalclock-last"></b></div><div class="ks-digitalclock-element ks-digitalclock-horizonal ks-digitalclock-ex"><s class="ks-digitalclock-first"></s><div class="ks-digitalclock-bar"></div><b class="ks-digitalclock-last"></b></div></div>',a=function(S){return parseInt(S,2)},K='<div class="ks-digitalclock-container"><div class="ks-digitalclock-colon1"><s class="ks-digitalclock-colon-top"></s><b class="ks-digitalclock-colon-bottom"></b></div><div class="ks-digitalclock-colon2"><s class="ks-digitalclock-colon-top"></s><b class="ks-digitalclock-colon-bottom"></b></div></div>',m="<div class='ks-digitalclock-border clearfix'></div>",E=k.Node,v=120,h=200,i=10,e=20,o=97,M=67,z=104,f=10,b=5,x=99,Q=107,n=20,s=6,P=67,Y=6,u=180,l=90,H=30,C=0,p=60,U=90,r=710,d=0.4,c="#565656",L=".ks-digitalclock-first",q=".ks-digitalclock-last",B=".ks-digitalclock-element",R=".ks-digitalclock-bar",O="border-width",X=".ks-digitalclock-colon1",W=".ks-digitalclock-colon2",g="width",I="height",N="margin",J="top",F="left",j=".ks-digitalclock-colon-top",w=".ks-digitalclock-colon-bottom",A=".ks-digitalclock-vertical",T="value",G={0:a("01111110"),1:a("0110000"),2:a("11101100"),3:a("11111000"),4:a("10110010"),5:a("11011010"),6:a("11011110"),7:a("01110010"),8:a("11111111"),9:a("11111011")};D.ATTRS={value:{value:8},zoomLimit:{value:0.2},zoom:1};function D(S){var Z=this;D.superclass.constructor.call(Z,S);Z._domNode=new E(V);Z._bars=Z._domNode.children();for(var aa=0;aa<Z._bars.length;aa++){Z._bars[aa]=new E(Z._bars[aa])}Z.on("afterValueChange",Z.repaint,Z);Z.on("afterZoomChange",Z.zoom,Z)}k.extend(D,k.Base,{appendTo:function(S){var Z=this;Z._domNode.appendTo(S[0]);return Z},zoom:function(Z){var aa=Z.newVal;var S=this;S._domNode.css(N,"0 "+i*aa+"px");S._domNode.css(g,v*aa+"px");S._domNode.css(I,h*aa+"px");S._domNode.all(B).each(function(ab){ab.css(I,o*aa+"px")});S._domNode.all(A).each(function(ab){ab.css(g,e*aa+"px")});S._domNode.all(R).each(function(ab){ab.css(I,M*aa+"px")});S._bars[1].css(J,z*aa+"px");S._bars[3].css(J,z*aa+"px");if(aa>=this.get("zoomLimit")){S._domNode.all(B).each(function(ab){ab.css("background-color","transparent")});S._domNode.all(q).each(function(ab){ab.css(O,f*aa+"px")});S._domNode.all(L).each(function(ab){ab.css(O,f*aa+"px")});S._bars[0].one(L).css(O,f*aa+"px");S._bars[4].one(L).css(O,f*aa+"px");S._bars[0].one(q).css(O,b*aa+"px "+f*aa+"px");S._bars[1].one(L).css(O,b*aa+"px "+f*aa+"px");S._bars[1].one(q).css(O,f*aa+"px");S._bars[3].one(q).css(O,f*aa+"px");S._bars[3].one(L).css(O,b*aa+"px "+f*aa+"px");S._bars[4].one(q).css(O,b*aa+"px "+f*aa+"px")}else{S._domNode.all(B).each(function(ab){ab.css("background-color",c)})}S._bars[3].css(F,x*aa+"px");S._bars[4].css(F,x*aa+"px");S._domNode.all(".ks-digitalclock-horizonal").each(function(ac){var ab=n*aa;ac.css(g,Q*aa+"px");ac.css(I,ab+"px");ac.css(F,s*aa+"px");ac.one(R).css(g,P*aa+"px");ac.one(R).css(I,ab+"px")});S._bars[2].css(F,Y*aa+"px");S._bars[2].css(J,u*aa+"px");S._bars[6].css(J,l*aa+"px")},repaint:function(aa){var ag=this,af=G[aa.newVal],ab=G[aa.preVal],ae=af^ab;for(var Z=0;Z<ag._bars.length;Z++){af=af>>1;ae=ae>>1;var S=ag._bars[Z],ad=af&1,ac=ae&1;if(ad&&ac){S.css("display","")}else{if(ac){S.css("display","none")}else{}}}}});y.ATTRS={date:{value:new Date()},zoom:{value:1},zoomLimit:{value:0.2},container:{valueFn:function(){return document.body}}};function y(S){var Z=this;y.superclass.constructor.call(Z,S);Z._ns=[];Z._container=new E(m);for(var aa=0;aa<2;aa++){Z._ns.push(new D({zoomLimit:this.get("zoomLimit")}).appendTo(Z._container))}Z._colon=new E(K).appendTo(Z._container[0]);Z._colonVisible=true;for(var aa=0;aa<2;aa++){Z._ns.push(new D({zoomLimit:this.get("zoomLimit")}).appendTo(Z._container))}for(var aa=0;aa<2;aa++){Z._ns.push(new D({zoomLimit:this.get("zoomLimit")}).appendTo(Z._container))}Z._container.appendTo(Z.get("container"));Z.repaint({newVal:Z.get("date")});Z.zoom({newVal:Z.get("zoom")});Z.on("afterDateChange",Z.repaint,Z);Z.on("afterZoomChange",Z.zoom,Z);setInterval(function(){Z.fire("tick",{date:Z.get("date")});Z.set("date",new Date())},1000)}k.extend(y,k.Base,{zoom:function(aa){var S=this;var ab=aa.newVal;for(var Z=0;Z<4;Z++){S._ns[Z].set("zoom",ab)}for(var Z=4;Z<6;Z++){S._ns[Z].set("zoom",ab*d)}S._colon.css(g,H*ab+"px");S._colon.css(I,h*ab+"px");S._colon.all(j).each(function(ac){ac.css(O,f*ab+"px")});S._colon.all(w).each(function(ac){ac.css(O,f*ab+"px")});S._colon.one(X).css(F,C*ab+"px");S._colon.one(W).css(F,C*ab+"px");S._colon.one(X).css(J,p*ab+"px");S._colon.one(W).css(J,U*ab+"px");S._container.css(g,r*ab+"px")},repaint:function(ac){var Z=this;var ad=ac.newVal,ab=ad.getHours(),S=ad.getMinutes(),aa=ad.getSeconds();Z._ns[0].set(T,Math.floor(ab/10));Z._ns[1].set(T,Math.floor(ab%10));Z._ns[2].set(T,Math.floor(S/10));Z._ns[3].set(T,Math.floor(S%10));Z._ns[4].set(T,Math.floor(aa/10));Z._ns[5].set(T,Math.floor(aa%10));Z._colonVisible=!Z._colonVisible;Z._colon.css("visibility",Z._colonVisible?"visible":"hidden")}});k.DigitalClock=y});
