KISSY.add("digital-clock",function(h,j){var a=('<div class="Kcontainer"><div class="Kelement  Kvertical Ke1"><s class="Kfirst"></s><div class="Kbar"></div><b class="Klast"></b></div><div class="Kelement Kvertical Ke2"><s class="Kfirst"></s><div class="Kbar"></div><b class="Klast"></b></div><div class="Kelement Khorizonal Ke3"><s class="Kfirst"></s><div class="Kbar"></div><b class="Klast"></b></div><div class="Kelement  Kvertical Ke4"><s class="Kfirst"></s><div class="Kbar"></div><b class="Klast"></b></div><div class="Kelement Kvertical Ke5"><s class="Kfirst"></s><div class="Kbar"></div><b class="Klast"></b></div><div class="Kelement Khorizonal Ke6"><s class="Kfirst"></s><div class="Kbar"></div><b class="Klast"></b></div><div class="Kelement Khorizonal Kex"><s class="Kfirst"></s><div class="Kbar"></div><b class="Klast"></b></div></div>').replace(/K/g,"ks-digitalclock-"),p=function(I){return parseInt(I,2)},n=('<div class="Kcontainer"><div class="Kcolon1"><s class="Kcolon-top"></s><b class="Kcolon-bottom"></b></div><div class="Kcolon2"><s class="Kcolon-top"></s><b class="Kcolon-bottom"></b></div></div>').replace(/K/g,"ks-digitalclock-"),e="<div class='ks-digitalclock-border clearfix'></div>",F=h.Node,b=120,o=200,d=10,H=5,C=30,D=0,A=60,m=90,G=710,c=0.4,z="#565656",k=".ks-digitalclock-first",v=".ks-digitalclock-last",x=".ks-digitalclock-element",g="border-width",y=".ks-digitalclock-colon1",w=".ks-digitalclock-colon2",f="width",r="height",s="top",q="left",E=".ks-digitalclock-colon-top",u=".ks-digitalclock-colon-bottom",i="value",t={0:p("01111110"),1:p("0110000"),2:p("11101100"),3:p("11111000"),4:p("10110010"),5:p("11011010"),6:p("11011110"),7:p("01110010"),8:p("11111111"),9:p("11111011")};l.ATTRS={value:{value:8},zoomLimit:{value:0.2},zoom:1};function l(I){var J=this;l.superclass.constructor.call(J,I);J._domNode=new F(a);J._bars=J._domNode.children();for(var K=0;K<J._bars.length;K++){J._bars[K]=new F(J._bars[K])}J.on("afterValueChange",J.repaint,J);J.on("afterZoomChange",J.zoom,J)}h.extend(l,h.Base,{appendTo:function(I){var J=this;J._domNode.appendTo(I[0]);return J},zoom:function(J){var K=J.newVal;var I=this;I._domNode.css(f,b*K+"px");I._domNode.css(r,o*K+"px");if(K>=this.get("zoomLimit")){I._domNode.all(x).each(function(L){L.css("background-color","transparent")});I._domNode.all(v).each(function(L){L.css(g,d*K+"px")});I._domNode.all(k).each(function(L){L.css(g,d*K+"px")});I._bars[0].one(k).css(g,d*K+"px");I._bars[4].one(k).css(g,d*K+"px");I._bars[0].one(v).css(g,H*K+"px "+d*K+"px");I._bars[1].one(k).css(g,H*K+"px "+d*K+"px");I._bars[1].one(v).css(g,d*K+"px");I._bars[3].one(v).css(g,d*K+"px");I._bars[3].one(k).css(g,H*K+"px "+d*K+"px");I._bars[4].one(v).css(g,H*K+"px "+d*K+"px")}else{I._domNode.all(x).each(function(L){L.css("background-color",z)})}},repaint:function(K){var Q=this,P=t[K.newVal],L=t[K.preVal],O=P^L;for(var J=0;J<Q._bars.length;J++){P=P>>1;O=O>>1;var I=Q._bars[J],N=P&1,M=O&1;if(N&&M){I.css("display","")}else{if(M){I.css("display","none")}else{}}}}});B.ATTRS={date:{value:new Date()},zoom:{value:1},zoomLimit:{value:0.2},container:{valueFn:function(){return document.body}}};function B(I){var J=this,L;B.superclass.constructor.call(J,I);J._ns=[];J._container=new F(e);for(L=0;L<2;L++){J._ns.push(new l({zoomLimit:this.get("zoomLimit")}).appendTo(J._container))}J._colon=new F(n).appendTo(J._container[0]);J._colonVisible=true;for(L=0;L<2;L++){J._ns.push(new l({zoomLimit:this.get("zoomLimit")}).appendTo(J._container))}for(L=0;L<2;L++){var K=new l({zoomLimit:this.get("zoomLimit")});K._domNode.addClass("ks-digitalclock-seconds").appendTo(J._container[0]);J._ns.push(K)}J._container.appendTo(J.get("container"));J.repaint({newVal:J.get("date")});J.zoom({newVal:J.get("zoom")});J.on("afterDateChange",J.repaint,J);J.on("afterZoomChange",J.zoom,J)}h.extend(B,h.Base,{zoom:function(K){var I=this;var L=K.newVal,J;for(J=0;J<4;J++){I._ns[J].set("zoom",L)}for(J=4;J<6;J++){I._ns[J].set("zoom",L*c)}I._colon.css(f,C*L+"px");I._colon.css(r,o*L+"px");I._colon.all(E).each(function(M){M.css(g,d*L+"px")});I._colon.all(u).each(function(M){M.css(g,d*L+"px")});I._container.css(f,G*L+"px")},repaint:function(M){var J=this;var N=M.newVal,L=N.getHours(),I=N.getMinutes(),K=N.getSeconds();J._ns[0].set(i,Math.floor(L/10));J._ns[1].set(i,Math.floor(L%10));J._ns[2].set(i,Math.floor(I/10));J._ns[3].set(i,Math.floor(I%10));J._ns[4].set(i,Math.floor(K/10));J._ns[5].set(i,Math.floor(K%10));J._colonVisible=!J._colonVisible;J._colon.css("visibility",J._colonVisible?"visible":"hidden")}});h.DigitalClock=B});
